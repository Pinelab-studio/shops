"use strict";(self.webpackChunkvendure_admin=self.webpackChunkvendure_admin||[]).push([[187],{3187:(E,c,r)=>{r.r(c),r.d(c,{default:()=>P});var a=r(734),p=r(5972),e=r(5220),v=r(4225),m=r(1133),g=r(2703),I=r(647);const u=n=>["../../orders",n];function h(n,o){if(1&n&&e.EFF(0),2&n){const t=o.item;e.SpI(" ",t.id," ")}}function f(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," (CREDIT)"),e.k0s())}function C(n,o){if(1&n&&(e.j41(0,"a",8)(1,"span"),e.EFF(2),e.DNE(3,f,2,0,"span",9),e.k0s()()),2&n){const t=o.item;e.Y8G("routerLink",e.eq3(3,u,t.orderId)),e.R7$(2),e.JRh(t.invoiceNumber),e.R7$(),e.Y8G("ngIf",t.isCreditInvoice)}}function b(n,o){if(1&n&&(e.EFF(0),e.nI1(1,"localeDate")),2&n){const t=o.item;e.SpI(" ",e.i5U(1,1,t.createdAt,"short")," ")}}function T(n,o){if(1&n&&(e.j41(0,"a",8)(1,"span"),e.EFF(2),e.k0s()()),2&n){const t=o.item;e.Y8G("routerLink",e.eq3(2,u,t.orderId)),e.R7$(2),e.JRh(t.orderCode)}}function _(n,o){if(1&n&&(e.j41(0,"a",10),e.nrm(1,"clr-icon",11),e.k0s()),2&n){const t=o.item;e.Y8G("href",t.downloadUrl,e.B4B)}}const N=p.J1`
  query InvoiceList($options: InvoiceListOptions) {
    invoices(options: $options) {
      items {
        id
        createdAt
        invoiceNumber
        downloadUrl
        isCreditInvoice
        orderCode
        orderId
      }
      totalItems
    }
  }
`;class s extends a.B8I{constructor(){super(),this.filters=this.createFilterCollection().addFilter({name:"orderCode",type:{kind:"text"},label:"Order Code",filterField:"orderCode"}).addFilter({name:"invoiceNumber",type:{kind:"text"},label:"Invoice Number",filterField:"invoiceNumber"}).connectToRoute(this.route),super.configure({document:N,getItems:o=>o.invoices,setVariables:(o,t)=>this.createQueryOptions(o,t,this.searchTermControl.value),refreshListOnChanges:[this.filters.valueChanges]})}createQueryOptions(o,t,i){let l=this.filters.createFilterInput();return i&&(l={invoiceNumber:{contains:i},orderCode:{contains:i}}),{options:{skip:o,take:t,filter:{...l??{}},filterOperator:i?a.umn.OR:a.umn.AND}}}static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["invoice-list"]],standalone:!0,features:[e.Vt3,e.aNF],decls:19,vars:25,consts:[["id","invoice-list",3,"pageChange","itemsPerPageChange","items","itemsPerPage","totalItems","currentPage"],["locationId","invoice-list",3,"hostComponent","selectionManager"],["searchTermPlaceholder","Search by Invoice Number / Order Code",3,"searchTermControl"],["id","id",3,"heading","hiddenByDefault"],["id","invoiceNumber","heading","Invoice number",3,"optional"],["id","created-at",3,"heading"],["id","order","heading","For order",3,"optional"],["id","downloadUrl","heading","Download",3,"optional"],[1,"button-ghost",3,"routerLink"],[4,"ngIf"],["target","_blank",3,"href"],["shape","download"]],template:function(t,i){1&t&&(e.j41(0,"vdr-data-table-2",0),e.nI1(1,"async"),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"async"),e.bIt("pageChange",function(d){return i.setPageNumber(d)})("itemsPerPageChange",function(d){return i.setItemsPerPage(d)}),e.nrm(5,"vdr-bulk-action-menu",1)(6,"vdr-dt2-search",2),e.j41(7,"vdr-dt2-column",3),e.nI1(8,"translate"),e.DNE(9,h,1,1,"ng-template"),e.k0s(),e.j41(10,"vdr-dt2-column",4),e.DNE(11,C,4,5,"ng-template"),e.k0s(),e.j41(12,"vdr-dt2-column",5),e.nI1(13,"translate"),e.DNE(14,b,2,4,"ng-template"),e.k0s(),e.j41(15,"vdr-dt2-column",6),e.DNE(16,T,3,4,"ng-template"),e.k0s(),e.j41(17,"vdr-dt2-column",7),e.DNE(18,_,2,1,"ng-template"),e.k0s()()),2&t&&(e.Y8G("items",e.bMT(1,13,i.items$))("itemsPerPage",e.bMT(2,15,i.itemsPerPage$))("totalItems",e.bMT(3,17,i.totalItems$))("currentPage",e.bMT(4,19,i.currentPage$)),e.R7$(5),e.Y8G("hostComponent",i)("selectionManager",i.selectionManager),e.R7$(),e.Y8G("searchTermControl",i.searchTermControl),e.R7$(),e.Y8G("heading",e.bMT(8,21,"common.id"))("hiddenByDefault",!0),e.R7$(3),e.Y8G("optional",!1),e.R7$(2),e.Y8G("heading",e.bMT(13,23,"common.created-at")),e.R7$(3),e.Y8G("optional",!1),e.R7$(2),e.Y8G("optional",!1))},dependencies:[a.GgS,v.U4n,m.bT,m.Jj,g.Wk,I.D9,a.PU$,a.T0b,a.IMU,a.Y9G,a.E8Q],changeDetection:0})}const P=[(0,a.hUq)({path:"",component:s,breadcrumb:"Invoices"})]}}]);
//# sourceMappingURL=187.1313109d2a8fefae.js.map