{"version":3,"file":"169.3417f6d0b0585c6d.js","mappings":"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","names":["AddManualPaymentDialogComponent_ng_template_0_Template","rf","ctx","i0","AddManualPaymentDialogComponent_ng_template_9_Template","_r1","ctx_r1","cancel","submit","form","invalid","pristine","outstandingAmount","currencyCode","CancelOrderDialogComponent_ng_template_0_Template","CancelOrderDialogComponent_tr_22_input_14_Template","$event","line_r2","$implicit","ctx_r2","lineQuantities","id","checkIfAllSelected","cancelAll","quantity","CancelOrderDialogComponent_tr_22_ng_template_15_Template","CancelOrderDialogComponent_tr_22_Template","nonEditable_r4","featuredAsset","productVariant","name","sku","unitPriceWithTax","order","active","CancelOrderDialogComponent_ng_container_24_Template","_r5","radioChanged","CancelOrderDialogComponent_ng_template_29_ng_container_4_Template","CancelOrderDialogComponent_ng_template_29_ng_container_5_Template","CancelOrderDialogComponent_ng_template_29_Template","_r6","select","reason","selectionCount","CouponCodeSelectorComponent_ng_template_2_Template","item_r1","item","code","promotionName","SelectAddressDialogComponent_ng_template_0_Template","SelectAddressDialogComponent_clr_tabs_1_clr_tab_1_ng_template_4_vdr_radio_card_2_Template","address_r5","SelectAddressDialogComponent_clr_tabs_1_clr_tab_1_ng_template_4_Template","_r3","ctx_r3","selectedAddress","addresses_r6","ngIf","addressIdFn","SelectAddressDialogComponent_clr_tabs_1_clr_tab_1_Template","_r2","useExisting","SelectAddressDialogComponent_clr_tabs_1_ng_template_6_Template","addressForm","availableCountries$","SelectAddressDialogComponent_clr_tabs_1_Template","createNew","customerId","length","SelectAddressDialogComponent_ng_template_3_Template","_r7","SelectCustomerDialogComponent_ng_template_0_Template","ctx_r0","title","SelectCustomerDialogComponent_ng_container_1_ng_container_1_Template","SelectCustomerDialogComponent_ng_container_1_vdr_form_field_2_Template","note","SelectCustomerDialogComponent_ng_container_1_Template","customerSelect_r3","includeNoteInput","SelectCustomerDialogComponent_clr_tabs_2_ng_template_5_ng_container_2_Template","SelectCustomerDialogComponent_clr_tabs_2_ng_template_5_Template","SelectCustomerDialogComponent_clr_tabs_2_clr_tab_6_ng_template_4_Template","customerForm","SelectCustomerDialogComponent_clr_tabs_2_clr_tab_6_Template","SelectCustomerDialogComponent_clr_tabs_2_Template","_r4","canCreateNew","SelectCustomerDialogComponent_ng_template_3_ng_template_2_Template","item_r7","firstName","lastName","emailAddress","SelectCustomerDialogComponent_ng_template_3_ng_template_3_Template","item_r8","SelectCustomerDialogComponent_ng_template_3_Template","selectedCustomer","customers$","trackByFn","isLoading","input$","SelectCustomerDialogComponent_ng_template_5_Template","_r9","SelectShippingMethodDialogComponent_ng_template_0_Template","SelectShippingMethodDialogComponent_vdr_radio_card_2_vdr_object_tree_14_Template","quote_r1","metadata","SelectShippingMethodDialogComponent_vdr_radio_card_2_Template","price","priceWithTax","SelectShippingMethodDialogComponent_ng_template_3_Template","selectedMethod","_c0","a0","state","OrderStateSelectDialogComponent_ng_template_0_Template","OrderStateSelectDialogComponent_option_6_Template","state_r1","OrderStateSelectDialogComponent_ng_template_7_button_0_Template","OrderStateSelectDialogComponent_ng_template_7_Template","cancellable","selectedState","OrderCustomFieldsCardComponent_div_0_button_8_Template","editable","OrderCustomFieldsCardComponent_div_0_button_9_Template","onUpdateClick","customFieldForm","OrderCustomFieldsCardComponent_div_0_button_10_Template","onCancelClick","OrderCustomFieldsCardComponent_div_0_Template","customFieldsConfig","_c1","a1","total","count","_c2","LineFulfillmentComponent_vdr_dropdown_0_clr_icon_2_Template","LineFulfillmentComponent_vdr_dropdown_0_clr_icon_3_Template","LineFulfillmentComponent_vdr_dropdown_0_clr_icon_4_Template","LineFulfillmentComponent_vdr_dropdown_0_label_6_Template","LineFulfillmentComponent_vdr_dropdown_0_label_7_Template","line","fulfilledCount","LineFulfillmentComponent_vdr_dropdown_0_label_8_Template","LineFulfillmentComponent_vdr_dropdown_0_div_9_vdr_labeled_data_12_Template","item_r2","fulfillment","trackingCode","LineFulfillmentComponent_vdr_dropdown_0_div_9_Template","createdAt","method","LineFulfillmentComponent_vdr_dropdown_0_Template","fulfillmentStatus","fulfillments","LineRefundsComponent_span_0_Template","getRefundedCount","_c3","_c4","_c5","a2","a3","itemsPerPage","currentPage","totalItems","_c6","rowItem","_c7","index","OrderDataTableComponent_th_6_Template","onToggleAllClick","selectionManager","areAllCurrentItemsSelected","OrderDataTableComponent_th_7_div_5_clr_icon_2_Template","OrderDataTableComponent_th_7_div_5_clr_icon_3_Template","OrderDataTableComponent_th_7_div_5_clr_icon_4_Template","OrderDataTableComponent_th_7_div_5_div_5_Template","sort_r4","sortOrder","OrderDataTableComponent_th_7_div_5_Template","toggleSortOrder","OrderDataTableComponent_th_7_Template","column_r5","expand","align","heading","sort","OrderDataTableComponent_tr_12_ng_container_6_Template","OrderDataTableComponent_tr_12_ng_container_7_Template","OrderDataTableComponent_tr_12_ng_container_8_vdr_data_table_filters_2_Template","activeFilter_r7","filters","OrderDataTableComponent_tr_12_ng_container_8_vdr_data_table_filters_3_Template","OrderDataTableComponent_tr_12_ng_container_8_Template","activeFilters","OrderDataTableComponent_tr_12_Template","toggleSearchFilterRow","showSearchFilterRow","visibleSortedColumns","searchComponent","template","customSearchTemplate","OrderDataTableComponent_tr_14_td_1_Template","_r8","item_r9","onRowClick","ctx_r9","i_r11","activeIndex","isSelected","OrderDataTableComponent_tr_14_td_2_ng_container_2_ng_container_1_Template","OrderDataTableComponent_tr_14_td_2_ng_container_2_Template","componentConfig_r12","config","component","injector","OrderDataTableComponent_tr_14_td_2_ng_template_3_ng_container_0_Template","OrderDataTableComponent_tr_14_td_2_ng_template_3_Template","column_r13","OrderDataTableComponent_tr_14_td_2_Template","defaultComponent_r14","customComponents","get","OrderDataTableComponent_tr_14_Template","OrderDataTableComponent_tr_17_Template","OrderDataTableComponent_tr_18_Template","surcharge_r15","description","OrderDataTableComponent_ng_container_19_tr_1_vdr_chip_4_Template","couponCode_r16","OrderDataTableComponent_ng_container_19_tr_1_Template","discount_r17","getPromotionLink","getCouponCodeForAdjustment","amountWithTax","amount","OrderDataTableComponent_ng_container_19_Template","type","OrderDataTableComponent_vdr_chip_38_Template","shippingLine_r18","shippingMethod","OrderTableComponent_ng_template_3_Template","line_r1","OrderTableComponent_ng_template_6_Template","OrderTableComponent_ng_template_9_Template","line_r3","updatedAt","OrderTableComponent_ng_template_12_img_1_Template","asset_r4","OrderTableComponent_ng_template_12_ng_template_2_Template","OrderTableComponent_ng_template_12_Template","line_r5","imagePlaceholder_r6","OrderTableComponent_ng_template_15_Template","line_r7","OrderTableComponent_ng_template_18_Template","line_r8","OrderTableComponent_ng_template_21_Template","line_r9","unitPrice","OrderTableComponent_ng_template_24_ng_container_0_div_2_Template","line_r11","orderPlacedQuantity","OrderTableComponent_ng_template_24_ng_container_0_Template","OrderTableComponent_ng_template_24_ng_template_1_Template","_r12","qtyInput_r13","draftInputBlur","valueAsNumber","remove","emit","lineId","OrderTableComponent_ng_template_24_Template","draft_r14","isDraft","payments","OrderTableComponent_vdr_dt2_custom_field_column_25_Template","customField_r15","OrderTableComponent_ng_template_28_ng_container_7_vdr_dropdown_1_div_5_Template","discount_r16","OrderTableComponent_ng_template_28_ng_container_7_vdr_dropdown_1_Template","discounts_r17","OrderTableComponent_ng_template_28_ng_container_7_Template","OrderTableComponent_ng_template_28_Template","line_r18","linePriceWithTax","linePrice","getLineDiscounts","DraftOrderVariantSelectorComponent_div_6_ng_container_30_div_1_Template","field_r4","customFieldsFormGroup","DraftOrderVariantSelectorComponent_div_6_ng_container_30_Template","orderLineCustomFields","DraftOrderVariantSelectorComponent_div_6_Template","selectedVariant_r3","addItemClick","product","stockOnHand","stockAllocated","DraftOrderDetailComponent_vdr_action_bar_1_Template","completeOrder","deleteOrder","order_r3","customer","lines","shippingLines","DraftOrderDetailComponent_vdr_page_detail_layout_3_ng_template_4_clr_icon_0_Template","DraftOrderDetailComponent_vdr_page_detail_layout_3_ng_template_4_clr_icon_1_Template","DraftOrderDetailComponent_vdr_page_detail_layout_3_ng_template_4_Template","order_r5","DraftOrderDetailComponent_vdr_page_detail_layout_3_vdr_customer_label_5_Template","DraftOrderDetailComponent_vdr_page_detail_layout_3_ng_template_11_clr_icon_0_Template","DraftOrderDetailComponent_vdr_page_detail_layout_3_ng_template_11_clr_icon_1_Template","DraftOrderDetailComponent_vdr_page_detail_layout_3_ng_template_11_Template","billingAddress","streetLine1","DraftOrderDetailComponent_vdr_page_detail_layout_3_vdr_formatted_address_12_Template","DraftOrderDetailComponent_vdr_page_detail_layout_3_ng_template_18_clr_icon_0_Template","DraftOrderDetailComponent_vdr_page_detail_layout_3_ng_template_18_clr_icon_1_Template","DraftOrderDetailComponent_vdr_page_detail_layout_3_ng_template_18_Template","shippingAddress","DraftOrderDetailComponent_vdr_page_detail_layout_3_vdr_formatted_address_19_Template","DraftOrderDetailComponent_vdr_page_detail_layout_3_div_23_Template","shippingLine_r6","DraftOrderDetailComponent_vdr_page_detail_layout_3_button_28_Template","displayCouponCodeInput","DraftOrderDetailComponent_vdr_page_detail_layout_3_div_29_Template","applyCouponCode","removeCouponCode","couponCodes","DraftOrderDetailComponent_vdr_page_detail_layout_3_vdr_page_entity_info_31_Template","entity_r9","DraftOrderDetailComponent_vdr_page_detail_layout_3_ng_container_39_tr_17_Template","row_r10","taxRate","taxBase","taxTotal","DraftOrderDetailComponent_vdr_page_detail_layout_3_ng_container_39_Template","taxSummary","DraftOrderDetailComponent_vdr_page_detail_layout_3_Template","setCustomer","setBillingAddress","setShippingAddress","setShippingMethod","addItemToOrder","adjustOrderLine","removeOrderLine","updateCustomFields","entity$","detailForm","customFields","FulfillOrderDialogComponent_ng_template_0_Template","FulfillOrderDialogComponent_tr_22_img_2_Template","FulfillOrderDialogComponent_tr_22_input_12_Template","fulfillmentQuantities","fulfillCount","getUnfulfilledCount","max","FulfillOrderDialogComponent_tr_22_Template","FulfillOrderDialogComponent_ng_template_33_Template","canSubmit","SimpleItemListComponent_li_2_div_1_Template","SimpleItemListComponent_li_2_clr_icon_2_Template","SimpleItemListComponent_li_2_Template","FulfillmentDetailComponent_vdr_labeled_data_7_Template","FulfillmentDetailComponent_ng_container_11_vdr_custom_field_control_1_Template","customField_r2","customFieldFormGroup","FulfillmentDetailComponent_ng_container_11_Template","FulfillmentStateLabelComponent_clr_icon_2_Template","FulfillmentCardComponent_vdr_fulfillment_detail_8_Template","FulfillmentCardComponent_div_9_ng_container_1_Template","suggestedState_r3","transitionState","FulfillmentCardComponent_div_9_ng_container_6_ng_container_2_Template","nextState_r5","FulfillmentCardComponent_div_9_ng_container_6_ng_template_3_Template","FulfillmentCardComponent_div_9_ng_container_6_Template","cancel_r6","FulfillmentCardComponent_div_9_Template","nextSuggestedState","nextOtherStates","ModificationDetailComponent_vdr_labeled_data_3_Template","modification","ModificationDetailComponent_vdr_labeled_data_4_Template","tmp_3_0","surcharge_r2","getSurcharge","ModificationDetailComponent_vdr_labeled_data_5_Template","getAddedItems","ModificationDetailComponent_vdr_labeled_data_6_Template","getRemovedItems","ModificationDetailComponent_vdr_labeled_data_7_Template","getModifiedItems","OrderProcessNodeComponent_div_7_Template","cancelledState","OrderProcessGraphComponent_ng_container_0_Template","state_r2","onMouseOver","onMouseOut","i_r4","activeState$","OrderProcessGraphComponent_ng_container_1_Template","edge_r5","from","to","OrderProcessGraphDialogComponent_ng_template_0_Template","PaymentForRefundSelectorComponent_vdr_card_0_ng_template_2_Template","payment_r2","selected","paymentSelected","payment","refundablePayments","PaymentForRefundSelectorComponent_vdr_card_0_Template","transactionId","refundableAmount","amountToRefundControl","_c8","_c9","min","RefundOrderDialogComponent_ng_template_0_Template","RefundOrderDialogComponent_ng_template_5_Template","RefundOrderDialogComponent_ng_template_8_Template","RefundOrderDialogComponent_ng_template_11_Template","RefundOrderDialogComponent_ng_template_14_img_1_Template","RefundOrderDialogComponent_ng_template_14_ng_template_2_Template","RefundOrderDialogComponent_ng_template_14_Template","RefundOrderDialogComponent_ng_template_17_Template","RefundOrderDialogComponent_ng_template_20_Template","RefundOrderDialogComponent_ng_template_23_Template","RefundOrderDialogComponent_ng_template_26_ng_container_2_vdr_dropdown_1_div_5_Template","discount_r11","line_r12","RefundOrderDialogComponent_ng_template_26_ng_container_2_vdr_dropdown_1_Template","discounts_r13","RefundOrderDialogComponent_ng_template_26_ng_container_2_Template","RefundOrderDialogComponent_ng_template_26_Template","discounts","RefundOrderDialogComponent_ng_template_29_Template","line_r14","RefundOrderDialogComponent_ng_template_32_input_0_Template","_r15","line_r16","onRefundQuantityChange","RefundOrderDialogComponent_ng_template_32_Template","lineCanBeRefundedOrCancelled","RefundOrderDialogComponent_ng_template_35_input_2_Template","_r17","RefundOrderDialogComponent_ng_template_35_Template","RefundOrderDialogComponent_label_39_Template","_r19","shippingLine_r20","toggleShippingRefund","discountedPriceWithTax","RefundOrderDialogComponent_ng_template_49_clr_alert_2_Template","totalRefundableAmount","RefundOrderDialogComponent_ng_template_49_clr_alert_3_Template","RefundOrderDialogComponent_ng_template_49_clr_alert_4_Template","RefundOrderDialogComponent_ng_template_49_Template","_r21","refundTotal","amountToRefundTotal","_c10","SettleRefundDialogComponent_ng_template_0_Template","SettleRefundDialogComponent_ng_template_9_Template","PaymentStateLabelComponent_clr_icon_2_Template","RefundStateLabelComponent_clr_icon_2_Template","PaymentDetailComponent_vdr_labeled_data_7_Template","errorMessage","PaymentDetailComponent_vdr_labeled_data_8_Template","OrderPaymentCardComponent_ng_container_5_Template","OrderPaymentCardComponent_ng_container_10_vdr_labeled_data_17_Template","refund_r2","OrderPaymentCardComponent_ng_container_10_vdr_labeled_data_18_Template","OrderPaymentCardComponent_ng_container_10_vdr_labeled_data_19_Template","OrderPaymentCardComponent_ng_container_10_div_20_Template","settleRefund","OrderPaymentCardComponent_ng_container_10_Template","refundHasMetadata","OrderPaymentCardComponent_div_11_button_1_Template","settlePayment","OrderPaymentCardComponent_div_11_ng_container_6_ng_container_2_Template","nextState_r6","OrderPaymentCardComponent_div_11_ng_container_6_ng_template_3_Template","OrderPaymentCardComponent_div_11_ng_container_6_Template","transitionPaymentState","cancel_r7","OrderPaymentCardComponent_div_11_Template","nextStates","includes","_c11","_c12","_c13","_c14","_c15","newCustomerName","_c16","OrderHistoryComponent_span_13_Template","OrderHistoryComponent_span_14_Template","OrderHistoryComponent_ng_container_15_vdr_order_history_entry_host_1_Template","expanded","entry_r3","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_2_div_1_Template","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_2_div_2_Template","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_2_ng_template_3_Template","data","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_2_Template","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_3_div_4_vdr_chip_6_Template","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_3_div_4_vdr_chip_7_Template","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_3_div_4_Template","modification_r5","priceChange","isSettled","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_3_Template","getModification","modificationId","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_4_ng_container_1_vdr_chip_5_Template","payment_r6","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_4_ng_container_1_vdr_history_entry_detail_6_Template","payment_r7","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_4_ng_container_1_Template","getPayment","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_4_ng_template_2_Template","tmp_7_0","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_4_Template","regularPaymentTransition_r8","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_5_ng_container_1_ng_container_1_Template","refund_r9","getCancelledItems","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_5_ng_container_1_Template","getRefund","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_5_ng_template_2_Template","refundId","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_5_Template","regularRefundTransition_r10","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_6_vdr_history_entry_detail_3_Template","items_r11","shippingCancelled","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_6_Template","getCancelledQuantity","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_7_vdr_history_entry_detail_3_Template","fulfillment_r12","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_7_Template","getFulfillment","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_8_ng_container_1_Template","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_8_ng_container_2_Template","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_8_ng_container_3_Template","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_8_vdr_history_entry_detail_4_Template","fulfillment_r13","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_8_Template","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_9_span_3_Template","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_9_span_4_Template","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_9_Template","_r14","updateNote","deleteNote","isPublic","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_10_Template","promotionId","couponCode","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_11_Template","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_12_a_11_Template","previousCustomerId","previousCustomerName","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_12_a_14_Template","newCustomerId","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_12_Template","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_13_vdr_history_entry_detail_4_Template","OrderHistoryComponent_ng_container_15_ng_template_2_ng_container_13_Template","OrderHistoryComponent_ng_container_15_ng_template_2_Template","getDisplayType","getTimelineIcon","getName","isFeatured","ORDER_STATE_TRANSITION","ORDER_MODIFIED","ORDER_PAYMENT_TRANSITION","ORDER_REFUND_TRANSITION","ORDER_CANCELLATION","ORDER_FULFILLMENT","ORDER_FULFILLMENT_TRANSITION","ORDER_NOTE","ORDER_COUPON_APPLIED","ORDER_COUPON_REMOVED","ORDER_CUSTOMER_UPDATED","OrderHistoryComponent_ng_container_15_Template","defaultComponents_r15","hasCustomComponent","_c17","SellerOrdersCardComponent_div_3_vdr_labeled_data_7_Template","seller_r1","SellerOrdersCardComponent_div_3_vdr_labeled_data_8_Template","order_r2","totalWithTax","SellerOrdersCardComponent_div_3_Template","getSeller","_c18","OrderDetailComponent_vdr_action_bar_1_button_4_Template","addManualPayment","outstandingPaymentAmount","OrderDetailComponent_vdr_action_bar_1_button_5_Template","transitionToState","OrderDetailComponent_vdr_action_bar_1_button_6_Template","fulfillOrder","canAddFulfillment","OrderDetailComponent_vdr_action_bar_1_ng_container_8_Template","transitionToModifying","OrderDetailComponent_vdr_action_bar_1_button_9_ng_container_2_Template","OrderDetailComponent_vdr_action_bar_1_button_9_ng_template_3_Template","OrderDetailComponent_vdr_action_bar_1_button_9_Template","cancelOrRefund","cancelOnly_r9","orderHasSettledPayments","OrderDetailComponent_vdr_action_bar_1_ng_container_10_button_2_Template","_r10","nextState_r11","OrderDetailComponent_vdr_action_bar_1_ng_container_10_Template","nextStates$","OrderDetailComponent_vdr_action_bar_1_Template","manuallyTransitionToState","tmp_8_0","hasUnsettledModifications","OrderDetailComponent_vdr_page_detail_layout_3_ng_template_4_Template","_r13","openStateDiagram","OrderDetailComponent_vdr_page_detail_layout_3_ng_template_8_button_0_Template","setOrderCustomer","OrderDetailComponent_vdr_page_detail_layout_3_ng_template_8_Template","OrderDetailComponent_vdr_page_detail_layout_3_vdr_labeled_data_10_Template","order_r15","OrderDetailComponent_vdr_page_detail_layout_3_vdr_labeled_data_11_Template","OrderDetailComponent_vdr_page_detail_layout_3_vdr_card_12_vdr_order_payment_card_2_Template","_r16","payment_r17","OrderDetailComponent_vdr_page_detail_layout_3_vdr_card_12_Template","OrderDetailComponent_vdr_page_detail_layout_3_vdr_card_13_vdr_fulfillment_card_1_Template","_r18","fulfillment_r19","transitionFulfillment","OrderDetailComponent_vdr_page_detail_layout_3_vdr_card_13_Template","OrderDetailComponent_vdr_page_detail_layout_3_vdr_page_entity_info_15_Template","entity_r20","OrderDetailComponent_vdr_page_detail_layout_3_vdr_seller_orders_card_18_Template","OrderDetailComponent_vdr_page_detail_layout_3_tr_39_Template","row_r21","OrderDetailComponent_vdr_page_detail_layout_3_vdr_card_40_Template","_r22","OrderDetailComponent_vdr_page_detail_layout_3_Template","addNote","getOrderAddressLines","sellerOrders","history$","OrderModificationSummaryComponent_vdr_labeled_data_0_div_2_Template","OrderModificationSummaryComponent_vdr_labeled_data_0_Template","modifyOrderInput","adjustOrderLines","adjustedLines","OrderModificationSummaryComponent_vdr_labeled_data_1_div_2_Template","item_r3","OrderModificationSummaryComponent_vdr_labeled_data_1_Template","addItems","addedLines","OrderModificationSummaryComponent_vdr_labeled_data_2_div_2_Template","surcharge_r4","orderSnapshot","OrderModificationSummaryComponent_vdr_labeled_data_2_Template","surcharges","OrderModificationSummaryComponent_vdr_labeled_data_3_Template","updatedShippingFields_r5","OrderModificationSummaryComponent_vdr_labeled_data_4_Template","updatedBillingFields_r6","OrderModificationSummaryComponent_vdr_labeled_data_5_div_2_Template","change_r7","OrderModificationSummaryComponent_vdr_labeled_data_5_Template","couponCodeChanges","OrderModificationSummaryComponent_ng_container_6_vdr_labeled_data_1_div_2_Template","change_r8","OrderModificationSummaryComponent_ng_container_6_vdr_labeled_data_1_Template","updatedShippingMethods_r9","OrderModificationSummaryComponent_ng_container_6_Template","OrderEditsPreviewDialogComponent_ng_template_0_Template","OrderEditsPreviewDialogComponent_vdr_payment_for_refund_selector_4_Template","onPaymentSelected","OrderEditsPreviewDialogComponent_vdr_form_field_12_Template","refundNote","OrderEditsPreviewDialogComponent_ng_template_13_clr_alert_2_Template","OrderEditsPreviewDialogComponent_ng_template_13_Template","priceDifference","refundsCoverDifference","_c19","rate","OrderEditorComponent_vdr_action_bar_1_Template","transitionToPriorState","OrderEditorComponent_vdr_page_detail_layout_3_div_5_Template","OrderEditorComponent_vdr_page_detail_layout_3_ng_template_23_Template","editingShippingAddress","OrderEditorComponent_vdr_page_detail_layout_3_vdr_formatted_address_24_Template","shippingAddressForm","value","OrderEditorComponent_vdr_page_detail_layout_3_vdr_address_form_25_Template","addressCustomFields","OrderEditorComponent_vdr_page_detail_layout_3_ng_template_28_Template","editingBillingAddress","OrderEditorComponent_vdr_page_detail_layout_3_vdr_formatted_address_29_Template","billingAddressForm","OrderEditorComponent_vdr_page_detail_layout_3_vdr_address_form_30_Template","OrderEditorComponent_vdr_page_detail_layout_3_ng_template_36_Template","OrderEditorComponent_vdr_page_detail_layout_3_ng_template_39_Template","OrderEditorComponent_vdr_page_detail_layout_3_ng_template_42_Template","line_r10","OrderEditorComponent_vdr_page_detail_layout_3_ng_template_45_img_1_Template","asset_r11","OrderEditorComponent_vdr_page_detail_layout_3_ng_template_45_ng_template_2_Template","OrderEditorComponent_vdr_page_detail_layout_3_ng_template_45_Template","imagePlaceholder_r13","OrderEditorComponent_vdr_page_detail_layout_3_ng_template_48_Template","OrderEditorComponent_vdr_page_detail_layout_3_ng_template_51_Template","line_r15","OrderEditorComponent_vdr_page_detail_layout_3_ng_template_54_Template","OrderEditorComponent_vdr_page_detail_layout_3_ng_template_57_button_1_Template","removeAddedItem","OrderEditorComponent_vdr_page_detail_layout_3_ng_template_57_Template","updateLineQuantity","target","getInitialLineQuantity","isAddedLine","OrderEditorComponent_vdr_page_detail_layout_3_vdr_dt2_column_58_ng_template_3_Template","index_r20","customField_r21","orderLineCustomFieldsFormArray","at","OrderEditorComponent_vdr_page_detail_layout_3_vdr_dt2_column_58_Template","uiLanguage$","OrderEditorComponent_vdr_page_detail_layout_3_div_64_img_1_Template","asset_r22","OrderEditorComponent_vdr_page_detail_layout_3_div_64_Template","addItemSelectedVariant","productAsset","productVariantName","getSelectedItemPrice","OrderEditorComponent_vdr_page_detail_layout_3_div_65_ng_container_1_Template","customField_r23","addItemCustomFieldsForm","OrderEditorComponent_vdr_page_detail_layout_3_div_65_Template","OrderEditorComponent_vdr_page_detail_layout_3_button_68_Template","_r24","OrderEditorComponent_vdr_page_detail_layout_3_div_71_ng_container_1_Template","_r25","shippingLine_r26","details_r27","OrderEditorComponent_vdr_page_detail_layout_3_div_71_Template","getShippingLineDetails","OrderEditorComponent_vdr_page_detail_layout_3_Template","recalculateShipping","previewAndModify","addSurcharge","surchargeForm","tmp_55_0","tmp_58_0","couponCodesControl","updatedShippingMethods","hasModifications","concat","undefined","_c20","_c21","_c22","_c23","OrderListComponent_ng_container_4_a_1_Template","OrderListComponent_ng_container_4_Template","OrderListComponent_ng_template_16_Template","order_r1","OrderListComponent_ng_template_19_Template","OrderListComponent_ng_template_22_Template","OrderListComponent_ng_template_25_Template","stopPropagation","OrderListComponent_ng_template_28_vdr_chip_0_Template","OrderListComponent_ng_template_28_vdr_chip_1_Template","OrderListComponent_ng_template_28_vdr_chip_2_Template","OrderListComponent_ng_template_28_Template","order_r6","ctx_r6","OrderType","Regular","Aggregate","Seller","OrderListComponent_ng_template_31_Template","order_r8","OrderListComponent_ng_template_34_Template","order_r9","OrderListComponent_ng_template_37_Template","order_r10","OrderListComponent_ng_template_40_Template","order_r11","orderPlacedAt","OrderListComponent_ng_template_43_Template","order_r12","getShippingNames","OrderListComponent_vdr_dt2_custom_field_column_44_Template","customField_r13","sorts","RefundDetailComponent_vdr_labeled_data_4_Template","refund","getRefundablePayments","filter","p","map","summate","refunds","r","FormControl","nonNullable","validators","Validators","gql","AddManualPaymentDialogComponent","constructor","dataService","this","UntypedFormGroup","UntypedFormControl","required","ngOnInit","paymentMethods$","query","GetAddManualPaymentMethodListDocument","options","take","mapSingle","paymentMethods","items","formValue","resolveWith","static","ɵfac","t","i1","ɵcmp","selectors","decls","vars","consts","dependencies","i2","i5","i2$1","i4","styles","changeDetection","CancelOrderDialogComponent","Object","values","reduce","sum","n","i18nService","reasons","getAppConfig","cancellationReasons","marker","translate","result","entries","quantityInOrder","find","orderId","getLineInputs","cancelShipping","orderLineId","l","i3","GET_COUPON_CODE_SELECTOR_PROMOTION_LIST","CouponCodeSelectorComponent","addCouponCode","EventEmitter","couponCodeInput$","Subject","availableCouponCodes$","pipe","debounceTime","distinctUntilChanged","switchMap","term","GetCouponCodeSelectorPromotionListDocument","skip","contains","single$","promotions","startWith","control","inputs","outputs","SelectAddressDialogComponent","formBuilder","group","fullName","currentAddress","company","streetLine2","city","province","postalCode","countryCode","phoneNumber","addresses$","GetCustomerAddressesDocument","addresses","tap","a","of","settings","getAvailableCountries","countries","pick","country","valid","SelectCustomerDialogComponent","email","getCustomerList","mapStream","customers","catchError","SelectShippingMethodDialogComponent","currentSelectionId","eligibleShippingMethods","m","methodIdFn","OrderStateSelectDialogComponent","message","OrderTransitionService","modalService","notificationService","transitionToPreModifyingState","getPreModifyingState","manualTransitionOptions","retry","transitionToStateOrThrow","err","fromComponent","locals","closable","size","EMPTY","Error","retryWhen","notifier","operate","source","subscriber","innerSub","errors$","syncResub","subscribeForRetryWhen","subscribe","createOperatorSubscriber","innerFrom","next","unsubscribe","errors","delay","getOrderHistory","eq","HistoryEntryType","SortOrder","DESC","history","i","transitionOrderToState","__typename","error","transitionError","ɵprov","token","factory","providedIn","OrderCustomFieldsCardComponent","customFieldValues","updateClick","field","addControl","markAsPristine","dirty","dialog","buttons","label","returnValue","reset","LineFulfillmentComponent","ngOnChanges","changes","getDeliveredCount","getFulfillmentStatus","getFulfillments","fulfillmentLines","fulfillmentLine","lineQuantity","allOrderFulfillments","f","fulfillmentId","notNullOrUndefined","orderState","features","LineRefundsComponent","all","i3$1","OrderTotalColumnComponent","DataTable2ColumnComponent","super","arguments","orderable","ɵOrderTotalColumnComponent_BaseFactory","exportAs","encapsulation","OrderDataTableComponent","DataTable2Component","allColumns","columns","customFieldColumns","totalColumns","sortedColumns","dataTableConfig","getDataTableConfig","column","c","currentIndex","findIndex","splice","promotion","adjustmentSource","split","promotionAdjustment","shippingLine","join","ɵOrderDataTableComponent_BaseFactory","contentQueries","dirIndex","_t","ngContentSelectors","onColumnReorder","onColumnsReset","disableSelect","selection","subTotalWithTax","subTotal","shippingWithTax","shipping","i1$1","i5$1","OrderTableComponent","adjust","orderLineCustomFieldsVisible","customFieldsForLine","visibleOrderLineCustomFields","showElided","getLineCustomFields","toggleOrderLineCustomFields","AdjustmentType","PROMOTION","formGroup","DraftOrderVariantSelectorComponent","addItem","selectedVariantId$","selectedVariant$","getProductVariant","customField","selectedVariant","productVariantId","DraftOrderDetailComponent","TypedBaseDetailComponent","changeDetector","orderTransitionService","getCustomFieldConfig","fetchHistory","init","eligibleShippingMethods$","getDraftOrderEligibleShippingMethods","eligibleShippingMethodsForDraftOrder","ngOnDestroy","destroy","event","addItemToDraftOrder","adjustDraftOrderLine","removeDraftOrderLine","orderAddress","val","hasId","setCustomerForDraftOrder","input","setDraftOrderShippingAddress","setDraftOrderBillingAddress","applyCouponCodeToDraftOrder","removeCouponCodeFromDraftOrder","combineLatest","methods","setDraftOrderShippingMethod","customFieldsValue","updateOrderCustomFields","deleteDraftOrder","DeletionResult","DELETED","success","entity","router","navigate","setFormValues","FulfillOrderDialogComponent","fulfillmentHandlerControl","getGlobalSettings","globalSettings","getFulfillableCount","trackInventory","markForCheck","getShippingMethodOperations","fulfillmentHandlers","handlers","fulfillmentHandlerDef","h","fulfillmentHandlerCode","fulfillmentHandler","configurableDefinitionToInstance","patchValue","globalTrackInventory","effectiveTracInventory","GlobalFlag","INHERIT","TRUE","unfulfilledCount","Math","fulfilled","flat","row","totalCount","fulfillmentQuantityIsValid","every","configurableOperationValueIsValid","handler","toConfigurableOperationInput","SimpleItemListComponent","FulfillmentDetailComponent","serverConfigService","customFieldConfig","getCustomFieldsFor","buildCustomFieldsFormGroup","fieldDef","customFieldIsObject","Array","isArray","isObject","FulfillmentStateLabelComponent","chipColorType","FulfillmentCardComponent","namedStateOrDefault","targetState","s","suggested","ModificationDetailComponent","addedItems","Map","removedItems","modifiedItems","Set","added","removed","modified","getModifiedLines","modificationLine","add","set","NODE_HEIGHT","OrderProcessNodeComponent","elementRef","active$","BehaviorSubject","activeTarget$","isCancellable","node","getPos","origin","nativeElement","getBoundingClientRect","nodeHeight","querySelector","height","x","y","getStyle","pos","OrderProcessEdgeComponent","asObservable","direction","startPos","endPos","dX","abs","dY","sqrt","transform","OrderProcessGraphComponent","setActiveState$","nodes","edges","outerHeight","initialState","populateNodes","ngAfterViewInit","setTimeout","populateEdges","stateName","getNodeFor","nodeComponents","stateNodeMap","states","stateNode","targets","targetNode","push","nodeCmp","toCmp","viewQuery","hostVars","hostBindings","OrderProcessGraphDialogComponent","getOrderProcessStates","activeState","PaymentForRefundSelectorComponent","RefundOrderDialogComponent","refundShippingLineIds","manuallySetRefundTotal","refundLine","updateRefundTotal","itemTotal","refundCount","proratedUnitPriceWithTax","shippingTotal","refundsAllocated","amountToRefund","setValue","indexOf","selectionLine","previousQuantity","outstandingRefundAmount","isRefunding","isCancelling","refundLines","getOrderLineInput","cancelLines","rp","paymentId","adjustment","filterFn","SettleRefundDialogComponent","PaymentStateLabelComponent","RefundStateLabelComponent","PaymentDetailComponent","OrderPaymentCardComponent","keys","OrderHistoryEntryHostComponent","historyEntryComponentService","expandClick","componentType","getComponent","entry","componentRef","portalRef","createComponent","instance","ViewContainerRef","first","getIconShape","OrderHistoryComponent","noteIsPrivate","cancellationLines","itemMap","cancellationLine","modifications","administrator","addNoteToOrder","GET_SELLER_ORDERS","SellerOrdersCardComponent","channelService","sellerOrders$","channels","channel","DEFAULT_CHANNEL_CODE","seller","navigateToSellerOrder","ORDER_DETAIL_QUERY","ORDER_DETAIL_FRAGMENT","SET_ORDER_CUSTOMER_MUTATION","OrderDetailComponent","FormGroup","getCustomFieldsDefaults","defaultStates","relativeTo","route","isExisting","mutate","SetOrderCustomerDocument","refetchOrder","getOrder","cancelPayment","paymentErrorMessage","transitionPaymentToState","allFulfillmentLines","allItemsFulfilled","getOutstandingModificationAmount","paymentIsValid","amountCovered","refundsTotal","priorState","addManualPaymentToOrder","createFulfillment","mapTo","addFulfillmentToOrder","fulfillmentHandlerError","JSON","stringify","assertNever","transitionFulfillmentToState","isRefundable","refundOrder","cancelOrder","EditNoteDialogComponent","displayPrivacyControls","updateOrderNote","noteId","isPrivate","body","res","deleteOrderNote","forkJoin","results","setCustomFieldFormValues","OrderModificationSummaryComponent","delta","getModifiedFields","controls","key","getUpdatedShippingMethodLines","previousMethod","originalCodes","newCodes","OrderEditResultType","Refund","Payment","PriceUnchanged","Cancel","OrderEditsPreviewDialogComponent","forEach","addValidators","OrderEditorComponent","changeDetectorRef","dryRun","updateShippingAddress","updateBillingAddress","minLength","priceIncludesTax","taxDescription","addedVariants","snapshot","paramMap","createOrderSnapshot","addAddressCustomFieldsFormGroup","UntypedFormArray","valueChanges","takeUntil","destroy$","modifyRow","addItemCustomFieldsFormArray","shareReplay","previousState","client","uiState","stream$","language","getSinglePriceValue","variantInfo","getIdForAddedItem","isLineModified","adjustedLine","addedLine","startsWith","updateAddedItemQuantity","trackByProductVariantId","isMatchingAddItemRow","updatedMethod","shippingLineId","currentShippingMethod","getSurchargePrices","surcharge","round","removeSurcharge","transformRelationCustomFieldInputs","simpleDeepClone","shippingMethodIds","modifyOrder","wetRunInput","nextState","parentFormGroup","address","addressCustomFieldsFormGroup","customFieldDef","languageCode","OrderListComponent","TypedBaseListComponent","orderStates","createFilterCollection","addIdFilter","addDateFilters","addFilter","kind","filterField","inputType","getOrderStateTranslationToken","addCustomFieldFilters","connectToRoute","createSortCollection","defaultSort","addSort","addCustomFieldSorts","canCreateDraftOrder","activeChannelIsDefaultChannel","configure","document","GetOrderListDocument","getItems","orders","setVariables","createQueryOptions","searchTermControl","refreshListOnChanges","isDefaultChannel$","defaultChannelIsActive$","isDefault","searchTerm","filterInput","createFilterInput","customerLastName","filterOperator","LogicalOperator","OR","AND","createSortInput","setPageNumber","setItemsPerPage","items$","itemsPerPage$","totalItems$","currentPage$","RefundDetailComponent","GET_CUSTOMER_ADDRESSES","ADDRESS_FRAGMENT","GET_ORDER_STATE","OrderGuard","canActivate","url","isModifying","createDraftOrder","parseUrl","createRoutes","pageService","path","PageComponent","pathMatch","locationId","breadcrumb","children","getPageTabRoutes","link","OrderModule","hasRegisteredTabsAndBulkActions","registerPageTab","priority","location","tab","detailComponentWithResolver","OrderDetailQueryDocument","entityKey","getBreadcrumbs","aggregateOrder","ɵmod","ɵinj","providers","provide","ROUTES","useFactory","multi","deps","PageService","imports","SharedModule","RouterModule","forChild"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["../node_modules/@vendure/admin-ui/fesm2022/vendure-admin-ui-order.mjs","../node_modules/rxjs/dist/esm/internal/operators/retryWhen.js"],"sourcesContent":["import * as i2 from '@angular/forms';\nimport { FormControl, Validators, UntypedFormGroup, UntypedFormControl, FormGroup, UntypedFormArray } from '@angular/forms';\nimport { summate, notNullOrUndefined, isObject, assertNever } from '@vendure/common/lib/shared-utils';\nimport * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, EventEmitter, Input, Output, Injectable, ContentChildren, ViewChildren, HostBinding, ViewContainerRef, ViewChild, NgModule } from '@angular/core';\nimport * as i1 from '@vendure/admin-ui/core';\nimport { GetAddManualPaymentMethodListDocument, getAppConfig, GetCouponCodeSelectorPromotionListDocument, GetCustomerAddressesDocument, HistoryEntryType, SortOrder, DataTable2ColumnComponent, DataTable2Component, AdjustmentType, TypedBaseDetailComponent, DeletionResult, configurableDefinitionToInstance, GlobalFlag, configurableOperationValueIsValid, toConfigurableOperationInput, ORDER_DETAIL_FRAGMENT, getCustomFieldsDefaults, SetOrderCustomerDocument, EditNoteDialogComponent, transformRelationCustomFieldInputs, TypedBaseListComponent, OrderType, getOrderStateTranslationToken, GetOrderListDocument, LogicalOperator, ADDRESS_FRAGMENT, PageComponent, detailComponentWithResolver, OrderDetailQueryDocument, SharedModule, PageService } from '@vendure/admin-ui/core';\nimport { gql } from 'apollo-angular';\nimport * as i5 from '@ng-select/ng-select';\nimport * as i2$1 from '@angular/common';\nimport * as i4 from '@ngx-translate/core';\nimport { marker } from '@biesbjerg/ngx-translate-extract-marker';\nimport * as i3 from '@clr/angular';\nimport { Subject, concat, of, EMPTY, combineLatest, BehaviorSubject, forkJoin } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, switchMap, map, startWith, tap, catchError, retryWhen, delay, take, mapTo, takeUntil, shareReplay } from 'rxjs/operators';\nimport { pick } from '@vendure/common/lib/pick';\nimport * as i1$1 from '@angular/router';\nimport { ROUTES, RouterModule } from '@angular/router';\nimport * as i3$1 from '@angular/cdk/bidi';\nimport * as i5$1 from 'ngx-pagination';\nimport { DEFAULT_CHANNEL_CODE } from '@vendure/common/lib/shared-constants';\nimport { simpleDeepClone } from '@vendure/common/lib/simple-deep-clone';\n\nfunction getRefundablePayments(payments) {\n    const settledPayments = (payments || []).filter(p => p.state === 'Settled');\n    return settledPayments.map((payment, index) => {\n        const refundableAmount = payment.amount -\n            summate(payment.refunds.filter(r => r.state !== 'Failed'), 'total');\n        return {\n            ...payment,\n            refundableAmount,\n            amountToRefundControl: new FormControl(0, {\n                nonNullable: true,\n                validators: [Validators.min(0), Validators.max(refundableAmount)],\n            }),\n            selected: index === 0,\n        };\n    });\n}\n\nconst GET_PAYMENT_METHODS_FOR_MANUAL_ADD = gql `\r\n    query GetAddManualPaymentMethodList($options: PaymentMethodListOptions!) {\r\n        paymentMethods(options: $options) {\r\n            items {\r\n                id\r\n                createdAt\r\n                updatedAt\r\n                name\r\n                code\r\n                description\r\n                enabled\r\n            }\r\n            totalItems\r\n        }\r\n    }\r\n`;\nclass AddManualPaymentDialogComponent {\n    constructor(dataService) {\n        this.dataService = dataService;\n        this.form = new UntypedFormGroup({\n            method: new UntypedFormControl('', Validators.required),\n            transactionId: new UntypedFormControl('', Validators.required),\n        });\n    }\n    ngOnInit() {\n        this.paymentMethods$ = this.dataService\n            .query(GetAddManualPaymentMethodListDocument, {\n            options: {\n                take: 999,\n            },\n        })\n            .mapSingle(data => data.paymentMethods.items);\n    }\n    submit() {\n        const formValue = this.form.value;\n        this.resolveWith({\n            method: formValue.method,\n            transactionId: formValue.transactionId,\n        });\n    }\n    cancel() {\n        this.resolveWith();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: AddManualPaymentDialogComponent, deps: [{ token: i1.DataService }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: AddManualPaymentDialogComponent, selector: \"vdr-add-manual-payment-dialog\", ngImport: i0, template: \"<ng-template vdrDialogTitle>{{ 'order.add-payment-to-order' | translate }}</ng-template>\\r\\n<form [formGroup]=\\\"form\\\">\\r\\n    <vdr-form-field [label]=\\\"'order.payment-method' | translate\\\" for=\\\"method\\\">\\r\\n        <ng-select\\r\\n            [items]=\\\"paymentMethods$ | async\\\"\\r\\n            bindLabel=\\\"code\\\"\\r\\n            appendTo=\\\"body\\\"\\r\\n            autofocus\\r\\n            bindValue=\\\"code\\\"\\r\\n            [addTag]=\\\"true\\\"\\r\\n            formControlName=\\\"method\\\"\\r\\n        ></ng-select>\\r\\n    </vdr-form-field>\\r\\n    <vdr-form-field [label]=\\\"'order.transaction-id' | translate\\\" for=\\\"transactionId\\\">\\r\\n        <input id=\\\"transactionId\\\" type=\\\"text\\\" formControlName=\\\"transactionId\\\" />\\r\\n    </vdr-form-field>\\r\\n</form>\\r\\n<ng-template vdrDialogButtons>\\r\\n    <button type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"cancel()\\\">{{ 'common.cancel' | translate }}</button>\\r\\n    <button type=\\\"submit\\\" (click)=\\\"submit()\\\" class=\\\"btn btn-primary\\\" [disabled]=\\\"form.invalid || form.pristine\\\">\\r\\n        {{ 'order.add-payment' | translate }}  ({{ outstandingAmount | localeCurrency: currencyCode }})\\r\\n    </button>\\r\\n</ng-template>\\r\\n\", styles: [\".ng-select{min-width:100%}\\n\"], dependencies: [{ kind: \"directive\", type: i2.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { kind: \"directive\", type: i2.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i2.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i2.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { kind: \"component\", type: i5.NgSelectComponent, selector: \"ng-select\", inputs: [\"bindLabel\", \"bindValue\", \"markFirst\", \"placeholder\", \"notFoundText\", \"typeToSearchText\", \"addTagText\", \"loadingText\", \"clearAllText\", \"appearance\", \"dropdownPosition\", \"appendTo\", \"loading\", \"closeOnSelect\", \"hideSelected\", \"selectOnTab\", \"openOnEnter\", \"maxSelectedItems\", \"groupBy\", \"groupValue\", \"bufferAmount\", \"virtualScroll\", \"selectableGroup\", \"selectableGroupAsModel\", \"searchFn\", \"trackByFn\", \"clearOnBackspace\", \"labelForId\", \"inputAttrs\", \"tabIndex\", \"readonly\", \"searchWhileComposing\", \"minTermLength\", \"editableSearchTerm\", \"keyDownFn\", \"typeahead\", \"multiple\", \"addTag\", \"searchable\", \"clearable\", \"isOpen\", \"items\", \"compareWith\", \"clearSearchOnAdd\", \"deselectOnClick\"], outputs: [\"blur\", \"focus\", \"change\", \"open\", \"close\", \"search\", \"clear\", \"add\", \"remove\", \"scroll\", \"scrollToEnd\"] }, { kind: \"component\", type: i1.FormFieldComponent, selector: \"vdr-form-field\", inputs: [\"label\", \"for\", \"tooltip\", \"errors\", \"readOnlyToggle\"], outputs: [\"readOnlyToggleChange\"] }, { kind: \"directive\", type: i1.FormFieldControlDirective, selector: \"input, textarea, select, vdr-currency-input\" }, { kind: \"directive\", type: i1.DialogButtonsDirective, selector: \"[vdrDialogButtons]\" }, { kind: \"directive\", type: i1.DialogTitleDirective, selector: \"[vdrDialogTitle]\" }, { kind: \"pipe\", type: i2$1.AsyncPipe, name: \"async\" }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: AddManualPaymentDialogComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-add-manual-payment-dialog', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-template vdrDialogTitle>{{ 'order.add-payment-to-order' | translate }}</ng-template>\\r\\n<form [formGroup]=\\\"form\\\">\\r\\n    <vdr-form-field [label]=\\\"'order.payment-method' | translate\\\" for=\\\"method\\\">\\r\\n        <ng-select\\r\\n            [items]=\\\"paymentMethods$ | async\\\"\\r\\n            bindLabel=\\\"code\\\"\\r\\n            appendTo=\\\"body\\\"\\r\\n            autofocus\\r\\n            bindValue=\\\"code\\\"\\r\\n            [addTag]=\\\"true\\\"\\r\\n            formControlName=\\\"method\\\"\\r\\n        ></ng-select>\\r\\n    </vdr-form-field>\\r\\n    <vdr-form-field [label]=\\\"'order.transaction-id' | translate\\\" for=\\\"transactionId\\\">\\r\\n        <input id=\\\"transactionId\\\" type=\\\"text\\\" formControlName=\\\"transactionId\\\" />\\r\\n    </vdr-form-field>\\r\\n</form>\\r\\n<ng-template vdrDialogButtons>\\r\\n    <button type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"cancel()\\\">{{ 'common.cancel' | translate }}</button>\\r\\n    <button type=\\\"submit\\\" (click)=\\\"submit()\\\" class=\\\"btn btn-primary\\\" [disabled]=\\\"form.invalid || form.pristine\\\">\\r\\n        {{ 'order.add-payment' | translate }}  ({{ outstandingAmount | localeCurrency: currencyCode }})\\r\\n    </button>\\r\\n</ng-template>\\r\\n\", styles: [\".ng-select{min-width:100%}\\n\"] }]\n        }], ctorParameters: () => [{ type: i1.DataService }] });\n\nclass CancelOrderDialogComponent {\n    get selectionCount() {\n        return Object.values(this.lineQuantities).reduce((sum, n) => sum + n, 0);\n    }\n    constructor(i18nService) {\n        this.i18nService = i18nService;\n        this.cancelAll = true;\n        this.lineQuantities = {};\n        this.reasons = getAppConfig().cancellationReasons ?? [\n            marker('order.cancel-reason-customer-request'),\n            marker('order.cancel-reason-not-available'),\n        ];\n        this.reasons = this.reasons.map(r => this.i18nService.translate(r));\n    }\n    ngOnInit() {\n        this.lineQuantities = this.order.lines.reduce((result, line) => ({ ...result, [line.id]: line.quantity }), {});\n    }\n    radioChanged() {\n        if (this.cancelAll) {\n            for (const line of this.order.lines) {\n                this.lineQuantities[line.id] = line.quantity;\n            }\n        }\n        else {\n            for (const line of this.order.lines) {\n                this.lineQuantities[line.id] = 0;\n            }\n        }\n    }\n    checkIfAllSelected() {\n        for (const [lineId, quantity] of Object.entries(this.lineQuantities)) {\n            const quantityInOrder = this.order.lines.find(line => line.id === lineId)?.quantity;\n            if (quantityInOrder && quantity < quantityInOrder) {\n                return;\n            }\n        }\n        // If we got here, all of the selected quantities are equal to the order\n        // line quantities, i.e. everything is selected.\n        this.cancelAll = true;\n    }\n    select() {\n        this.resolveWith({\n            orderId: this.order.id,\n            lines: this.getLineInputs(),\n            reason: this.reason,\n            cancelShipping: this.cancelAll,\n        });\n    }\n    cancel() {\n        this.resolveWith();\n    }\n    getLineInputs() {\n        if (this.order.active) {\n            return;\n        }\n        return Object.entries(this.lineQuantities)\n            .map(([orderLineId, quantity]) => ({\n            orderLineId,\n            quantity,\n        }))\n            .filter(l => 0 < l.quantity);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: CancelOrderDialogComponent, deps: [{ token: i1.I18nService }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: CancelOrderDialogComponent, selector: \"vdr-cancel-order-dialog\", ngImport: i0, template: \"<ng-template vdrDialogTitle>{{ 'order.cancel-order' | translate }}</ng-template>\\r\\n\\r\\n<div class=\\\"fulfillment-wrapper\\\">\\r\\n    <div class=\\\"order-lines\\\">\\r\\n        <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th></th>\\r\\n                    <th>{{ 'order.product-name' | translate }}</th>\\r\\n                    <th>{{ 'order.product-sku' | translate }}</th>\\r\\n                    <th>{{ 'order.quantity' | translate }}</th>\\r\\n                    <th>{{ 'order.unit-price' | translate }}</th>\\r\\n                    <th>{{ 'order.cancel' | translate }}</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tr\\r\\n                *ngFor=\\\"let line of order.lines\\\"\\r\\n                class=\\\"order-line\\\"\\r\\n                [class.is-disabled]=\\\"cancelAll\\\"\\r\\n                [class.is-cancelled]=\\\"line.quantity === 0\\\"\\r\\n            >\\r\\n                <td class=\\\"align-middle thumb\\\">\\r\\n                    <img [src]=\\\"line.featuredAsset | assetPreview: 'tiny'\\\" />\\r\\n                </td>\\r\\n                <td class=\\\"align-middle name\\\">{{ line.productVariant.name }}</td>\\r\\n                <td class=\\\"align-middle sku\\\">{{ line.productVariant.sku }}</td>\\r\\n                <td class=\\\"align-middle quantity\\\">{{ line.quantity }}</td>\\r\\n                <td class=\\\"align-middle quantity\\\">\\r\\n                    {{ line.unitPriceWithTax | localeCurrency: order.currencyCode }}\\r\\n                </td>\\r\\n                <td class=\\\"align-middle fulfil\\\">\\r\\n                    <input\\r\\n                        *ngIf=\\\"line.quantity > 0 && !order.active; else nonEditable\\\"\\r\\n                        [(ngModel)]=\\\"lineQuantities[line.id]\\\"\\r\\n                        (input)=\\\"checkIfAllSelected()\\\"\\r\\n                        [disabled]=\\\"cancelAll\\\"\\r\\n                        type=\\\"number\\\"\\r\\n                        [max]=\\\"line.quantity\\\"\\r\\n                        min=\\\"0\\\"\\r\\n                    />\\r\\n                    <ng-template #nonEditable>{{ line.quantity }}</ng-template>\\r\\n                </td>\\r\\n            </tr>\\r\\n        </table>\\r\\n    </div>\\r\\n    <div class=\\\"cancellation-details\\\">\\r\\n        <ng-container *ngIf=\\\"order.active !== true\\\">\\r\\n            <clr-radio-wrapper>\\r\\n                <input\\r\\n                    type=\\\"radio\\\"\\r\\n                    clrRadio\\r\\n                    [value]=\\\"true\\\"\\r\\n                    [(ngModel)]=\\\"cancelAll\\\"\\r\\n                    name=\\\"options\\\"\\r\\n                    (ngModelChange)=\\\"radioChanged()\\\"\\r\\n                />\\r\\n                <label>{{ 'order.cancel-entire-order' | translate }}</label>\\r\\n            </clr-radio-wrapper>\\r\\n            <clr-radio-wrapper>\\r\\n                <input\\r\\n                    type=\\\"radio\\\"\\r\\n                    clrRadio\\r\\n                    [value]=\\\"false\\\"\\r\\n                    [(ngModel)]=\\\"cancelAll\\\"\\r\\n                    name=\\\"options\\\"\\r\\n                    (ngModelChange)=\\\"radioChanged()\\\"\\r\\n                />\\r\\n                <label>{{ 'order.cancel-specified-items' | translate }}</label>\\r\\n            </clr-radio-wrapper>\\r\\n        </ng-container>\\r\\n        <label class=\\\"clr-control-label\\\">{{ 'order.cancellation-reason' | translate }}</label>\\r\\n        <ng-select\\r\\n            [items]=\\\"reasons\\\"\\r\\n            bindLabel=\\\"name\\\"\\r\\n            autofocus\\r\\n            bindValue=\\\"id\\\"\\r\\n            [addTag]=\\\"true\\\"\\r\\n            [(ngModel)]=\\\"reason\\\"\\r\\n        ></ng-select>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<ng-template vdrDialogButtons>\\r\\n    <button type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"cancel()\\\">{{ 'common.cancel' | translate }}</button>\\r\\n    <button\\r\\n        type=\\\"submit\\\"\\r\\n        (click)=\\\"select()\\\"\\r\\n        [disabled]=\\\"!reason || (!order.active && selectionCount === 0)\\\"\\r\\n        class=\\\"btn btn-primary\\\"\\r\\n    >\\r\\n        <ng-container *ngIf=\\\"!order.active\\\">\\r\\n            {{ 'order.cancel-selected-items' | translate }}\\r\\n        </ng-container>\\r\\n        <ng-container *ngIf=\\\"order.active\\\">\\r\\n            {{ 'order.cancel-order' | translate }}\\r\\n        </ng-container>\\r\\n    </button>\\r\\n</ng-template>\\r\\n\", styles: [\":host{height:100%;display:flex;min-height:64vh}.fulfillment-wrapper{flex:1}@media screen and (min-width: 768px){.fulfillment-wrapper{display:flex;flex-direction:row}}@media screen and (min-width: 768px){.fulfillment-wrapper .cancellation-details{margin-top:0;margin-inline-start:24px;width:250px}}.fulfillment-wrapper .order-lines{flex:1;overflow-y:auto}.fulfillment-wrapper .order-lines table{margin-top:0}.fulfillment-wrapper tr.ignore{color:var(--color-grey-300)}.fulfillment-wrapper .is-cancelled td{text-decoration:line-through;background-color:var(--color-component-bg-200)}.fulfillment-wrapper .is-disabled td,.fulfillment-wrapper .is-disabled td input{background-color:var(--color-component-bg-200)}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrLabel, selector: \"label\", inputs: [\"for\"] }, { kind: \"directive\", type: i3.ClrRadio, selector: \"[clrRadio]\" }, { kind: \"component\", type: i3.ClrRadioWrapper, selector: \"clr-radio-wrapper\" }, { kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i2.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i2.NumberValueAccessor, selector: \"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]\" }, { kind: \"directive\", type: i2.RadioControlValueAccessor, selector: \"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]\", inputs: [\"name\", \"formControlName\", \"value\"] }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.MinValidator, selector: \"input[type=number][min][formControlName],input[type=number][min][formControl],input[type=number][min][ngModel]\", inputs: [\"min\"] }, { kind: \"directive\", type: i2.MaxValidator, selector: \"input[type=number][max][formControlName],input[type=number][max][formControl],input[type=number][max][ngModel]\", inputs: [\"max\"] }, { kind: \"directive\", type: i2.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { kind: \"component\", type: i5.NgSelectComponent, selector: \"ng-select\", inputs: [\"bindLabel\", \"bindValue\", \"markFirst\", \"placeholder\", \"notFoundText\", \"typeToSearchText\", \"addTagText\", \"loadingText\", \"clearAllText\", \"appearance\", \"dropdownPosition\", \"appendTo\", \"loading\", \"closeOnSelect\", \"hideSelected\", \"selectOnTab\", \"openOnEnter\", \"maxSelectedItems\", \"groupBy\", \"groupValue\", \"bufferAmount\", \"virtualScroll\", \"selectableGroup\", \"selectableGroupAsModel\", \"searchFn\", \"trackByFn\", \"clearOnBackspace\", \"labelForId\", \"inputAttrs\", \"tabIndex\", \"readonly\", \"searchWhileComposing\", \"minTermLength\", \"editableSearchTerm\", \"keyDownFn\", \"typeahead\", \"multiple\", \"addTag\", \"searchable\", \"clearable\", \"isOpen\", \"items\", \"compareWith\", \"clearSearchOnAdd\", \"deselectOnClick\"], outputs: [\"blur\", \"focus\", \"change\", \"open\", \"close\", \"search\", \"clear\", \"add\", \"remove\", \"scroll\", \"scrollToEnd\"] }, { kind: \"directive\", type: i1.FormFieldControlDirective, selector: \"input, textarea, select, vdr-currency-input\" }, { kind: \"directive\", type: i1.DialogButtonsDirective, selector: \"[vdrDialogButtons]\" }, { kind: \"directive\", type: i1.DialogTitleDirective, selector: \"[vdrDialogTitle]\" }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.AssetPreviewPipe, name: \"assetPreview\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: CancelOrderDialogComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-cancel-order-dialog', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-template vdrDialogTitle>{{ 'order.cancel-order' | translate }}</ng-template>\\r\\n\\r\\n<div class=\\\"fulfillment-wrapper\\\">\\r\\n    <div class=\\\"order-lines\\\">\\r\\n        <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th></th>\\r\\n                    <th>{{ 'order.product-name' | translate }}</th>\\r\\n                    <th>{{ 'order.product-sku' | translate }}</th>\\r\\n                    <th>{{ 'order.quantity' | translate }}</th>\\r\\n                    <th>{{ 'order.unit-price' | translate }}</th>\\r\\n                    <th>{{ 'order.cancel' | translate }}</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tr\\r\\n                *ngFor=\\\"let line of order.lines\\\"\\r\\n                class=\\\"order-line\\\"\\r\\n                [class.is-disabled]=\\\"cancelAll\\\"\\r\\n                [class.is-cancelled]=\\\"line.quantity === 0\\\"\\r\\n            >\\r\\n                <td class=\\\"align-middle thumb\\\">\\r\\n                    <img [src]=\\\"line.featuredAsset | assetPreview: 'tiny'\\\" />\\r\\n                </td>\\r\\n                <td class=\\\"align-middle name\\\">{{ line.productVariant.name }}</td>\\r\\n                <td class=\\\"align-middle sku\\\">{{ line.productVariant.sku }}</td>\\r\\n                <td class=\\\"align-middle quantity\\\">{{ line.quantity }}</td>\\r\\n                <td class=\\\"align-middle quantity\\\">\\r\\n                    {{ line.unitPriceWithTax | localeCurrency: order.currencyCode }}\\r\\n                </td>\\r\\n                <td class=\\\"align-middle fulfil\\\">\\r\\n                    <input\\r\\n                        *ngIf=\\\"line.quantity > 0 && !order.active; else nonEditable\\\"\\r\\n                        [(ngModel)]=\\\"lineQuantities[line.id]\\\"\\r\\n                        (input)=\\\"checkIfAllSelected()\\\"\\r\\n                        [disabled]=\\\"cancelAll\\\"\\r\\n                        type=\\\"number\\\"\\r\\n                        [max]=\\\"line.quantity\\\"\\r\\n                        min=\\\"0\\\"\\r\\n                    />\\r\\n                    <ng-template #nonEditable>{{ line.quantity }}</ng-template>\\r\\n                </td>\\r\\n            </tr>\\r\\n        </table>\\r\\n    </div>\\r\\n    <div class=\\\"cancellation-details\\\">\\r\\n        <ng-container *ngIf=\\\"order.active !== true\\\">\\r\\n            <clr-radio-wrapper>\\r\\n                <input\\r\\n                    type=\\\"radio\\\"\\r\\n                    clrRadio\\r\\n                    [value]=\\\"true\\\"\\r\\n                    [(ngModel)]=\\\"cancelAll\\\"\\r\\n                    name=\\\"options\\\"\\r\\n                    (ngModelChange)=\\\"radioChanged()\\\"\\r\\n                />\\r\\n                <label>{{ 'order.cancel-entire-order' | translate }}</label>\\r\\n            </clr-radio-wrapper>\\r\\n            <clr-radio-wrapper>\\r\\n                <input\\r\\n                    type=\\\"radio\\\"\\r\\n                    clrRadio\\r\\n                    [value]=\\\"false\\\"\\r\\n                    [(ngModel)]=\\\"cancelAll\\\"\\r\\n                    name=\\\"options\\\"\\r\\n                    (ngModelChange)=\\\"radioChanged()\\\"\\r\\n                />\\r\\n                <label>{{ 'order.cancel-specified-items' | translate }}</label>\\r\\n            </clr-radio-wrapper>\\r\\n        </ng-container>\\r\\n        <label class=\\\"clr-control-label\\\">{{ 'order.cancellation-reason' | translate }}</label>\\r\\n        <ng-select\\r\\n            [items]=\\\"reasons\\\"\\r\\n            bindLabel=\\\"name\\\"\\r\\n            autofocus\\r\\n            bindValue=\\\"id\\\"\\r\\n            [addTag]=\\\"true\\\"\\r\\n            [(ngModel)]=\\\"reason\\\"\\r\\n        ></ng-select>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<ng-template vdrDialogButtons>\\r\\n    <button type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"cancel()\\\">{{ 'common.cancel' | translate }}</button>\\r\\n    <button\\r\\n        type=\\\"submit\\\"\\r\\n        (click)=\\\"select()\\\"\\r\\n        [disabled]=\\\"!reason || (!order.active && selectionCount === 0)\\\"\\r\\n        class=\\\"btn btn-primary\\\"\\r\\n    >\\r\\n        <ng-container *ngIf=\\\"!order.active\\\">\\r\\n            {{ 'order.cancel-selected-items' | translate }}\\r\\n        </ng-container>\\r\\n        <ng-container *ngIf=\\\"order.active\\\">\\r\\n            {{ 'order.cancel-order' | translate }}\\r\\n        </ng-container>\\r\\n    </button>\\r\\n</ng-template>\\r\\n\", styles: [\":host{height:100%;display:flex;min-height:64vh}.fulfillment-wrapper{flex:1}@media screen and (min-width: 768px){.fulfillment-wrapper{display:flex;flex-direction:row}}@media screen and (min-width: 768px){.fulfillment-wrapper .cancellation-details{margin-top:0;margin-inline-start:24px;width:250px}}.fulfillment-wrapper .order-lines{flex:1;overflow-y:auto}.fulfillment-wrapper .order-lines table{margin-top:0}.fulfillment-wrapper tr.ignore{color:var(--color-grey-300)}.fulfillment-wrapper .is-cancelled td{text-decoration:line-through;background-color:var(--color-component-bg-200)}.fulfillment-wrapper .is-disabled td,.fulfillment-wrapper .is-disabled td input{background-color:var(--color-component-bg-200)}\\n\"] }]\n        }], ctorParameters: () => [{ type: i1.I18nService }] });\n\nconst GET_COUPON_CODE_SELECTOR_PROMOTION_LIST = gql `\r\n    query GetCouponCodeSelectorPromotionList($options: PromotionListOptions) {\r\n        promotions(options: $options) {\r\n            items {\r\n                id\r\n                name\r\n                couponCode\r\n            }\r\n            totalItems\r\n        }\r\n    }\r\n`;\nclass CouponCodeSelectorComponent {\n    constructor(dataService) {\n        this.dataService = dataService;\n        this.addCouponCode = new EventEmitter();\n        this.removeCouponCode = new EventEmitter();\n        this.couponCodeInput$ = new Subject();\n    }\n    ngOnInit() {\n        this.availableCouponCodes$ = concat(this.couponCodeInput$.pipe(debounceTime(200), distinctUntilChanged(), switchMap(term => this.dataService.query(GetCouponCodeSelectorPromotionListDocument, {\n            options: {\n                take: 10,\n                skip: 0,\n                filter: {\n                    couponCode: { contains: term },\n                },\n            },\n        }).single$), map(({ promotions }) => \n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        promotions.items.map(p => ({ code: p.couponCode, promotionName: p.name }))), startWith([])));\n        if (!this.control) {\n            this.control = new UntypedFormControl(this.couponCodes ?? []);\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: CouponCodeSelectorComponent, deps: [{ token: i1.DataService }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: CouponCodeSelectorComponent, selector: \"vdr-coupon-code-selector\", inputs: { couponCodes: \"couponCodes\", control: \"control\" }, outputs: { addCouponCode: \"addCouponCode\", removeCouponCode: \"removeCouponCode\" }, ngImport: i0, template: \"<ng-select\\r\\n    [items]=\\\"availableCouponCodes$ | async\\\"\\r\\n    appendTo=\\\"body\\\"\\r\\n    bindLabel=\\\"code\\\"\\r\\n    bindValue=\\\"code\\\"\\r\\n    [addTag]=\\\"false\\\"\\r\\n    [multiple]=\\\"true\\\"\\r\\n    [hideSelected]=\\\"true\\\"\\r\\n    [minTermLength]=\\\"2\\\"\\r\\n    typeToSearchText=\\\"\\\"\\r\\n    [typeahead]=\\\"couponCodeInput$\\\"\\r\\n    [formControl]=\\\"control\\\"\\r\\n    (add)=\\\"addCouponCode.emit($event.code)\\\"\\r\\n    (remove)=\\\"removeCouponCode.emit($event.value?.code)\\\"\\r\\n>\\r\\n    <ng-template ng-option-tmp let-item=\\\"item\\\">\\r\\n        <div class=\\\"flex items-center\\\">\\r\\n            <vdr-chip class=\\\"mr-1\\\">{{ item.code }}</vdr-chip>\\r\\n            <span>{{ item.promotionName }}</span>\\r\\n        </div>\\r\\n    </ng-template>\\r\\n</ng-select>\\r\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.FormControlDirective, selector: \"[formControl]\", inputs: [\"formControl\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }, { kind: \"component\", type: i5.NgSelectComponent, selector: \"ng-select\", inputs: [\"bindLabel\", \"bindValue\", \"markFirst\", \"placeholder\", \"notFoundText\", \"typeToSearchText\", \"addTagText\", \"loadingText\", \"clearAllText\", \"appearance\", \"dropdownPosition\", \"appendTo\", \"loading\", \"closeOnSelect\", \"hideSelected\", \"selectOnTab\", \"openOnEnter\", \"maxSelectedItems\", \"groupBy\", \"groupValue\", \"bufferAmount\", \"virtualScroll\", \"selectableGroup\", \"selectableGroupAsModel\", \"searchFn\", \"trackByFn\", \"clearOnBackspace\", \"labelForId\", \"inputAttrs\", \"tabIndex\", \"readonly\", \"searchWhileComposing\", \"minTermLength\", \"editableSearchTerm\", \"keyDownFn\", \"typeahead\", \"multiple\", \"addTag\", \"searchable\", \"clearable\", \"isOpen\", \"items\", \"compareWith\", \"clearSearchOnAdd\", \"deselectOnClick\"], outputs: [\"blur\", \"focus\", \"change\", \"open\", \"close\", \"search\", \"clear\", \"add\", \"remove\", \"scroll\", \"scrollToEnd\"] }, { kind: \"directive\", type: i5.NgOptionTemplateDirective, selector: \"[ng-option-tmp]\" }, { kind: \"component\", type: i1.ChipComponent, selector: \"vdr-chip\", inputs: [\"icon\", \"invert\", \"colorFrom\", \"colorType\"], outputs: [\"iconClick\"] }, { kind: \"pipe\", type: i2$1.AsyncPipe, name: \"async\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: CouponCodeSelectorComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-coupon-code-selector', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-select\\r\\n    [items]=\\\"availableCouponCodes$ | async\\\"\\r\\n    appendTo=\\\"body\\\"\\r\\n    bindLabel=\\\"code\\\"\\r\\n    bindValue=\\\"code\\\"\\r\\n    [addTag]=\\\"false\\\"\\r\\n    [multiple]=\\\"true\\\"\\r\\n    [hideSelected]=\\\"true\\\"\\r\\n    [minTermLength]=\\\"2\\\"\\r\\n    typeToSearchText=\\\"\\\"\\r\\n    [typeahead]=\\\"couponCodeInput$\\\"\\r\\n    [formControl]=\\\"control\\\"\\r\\n    (add)=\\\"addCouponCode.emit($event.code)\\\"\\r\\n    (remove)=\\\"removeCouponCode.emit($event.value?.code)\\\"\\r\\n>\\r\\n    <ng-template ng-option-tmp let-item=\\\"item\\\">\\r\\n        <div class=\\\"flex items-center\\\">\\r\\n            <vdr-chip class=\\\"mr-1\\\">{{ item.code }}</vdr-chip>\\r\\n            <span>{{ item.promotionName }}</span>\\r\\n        </div>\\r\\n    </ng-template>\\r\\n</ng-select>\\r\\n\" }]\n        }], ctorParameters: () => [{ type: i1.DataService }], propDecorators: { couponCodes: [{\n                type: Input\n            }], control: [{\n                type: Input\n            }], addCouponCode: [{\n                type: Output\n            }], removeCouponCode: [{\n                type: Output\n            }] } });\n\nclass SelectAddressDialogComponent {\n    constructor(dataService, formBuilder) {\n        this.dataService = dataService;\n        this.formBuilder = formBuilder;\n        this.useExisting = true;\n        this.createNew = false;\n    }\n    ngOnInit() {\n        this.addressForm = this.formBuilder.group({\n            fullName: [this.currentAddress?.fullName ?? ''],\n            company: [this.currentAddress?.company ?? ''],\n            streetLine1: [this.currentAddress?.streetLine1 ?? '', Validators.required],\n            streetLine2: [this.currentAddress?.streetLine2 ?? ''],\n            city: [this.currentAddress?.city ?? '', Validators.required],\n            province: [this.currentAddress?.province ?? ''],\n            postalCode: [this.currentAddress?.postalCode ?? '', Validators.required],\n            countryCode: [this.currentAddress?.countryCode ?? '', Validators.required],\n            phoneNumber: [this.currentAddress?.phoneNumber ?? ''],\n        });\n        this.useExisting = !!this.customerId;\n        this.addresses$ = this.customerId\n            ? this.dataService\n                .query(GetCustomerAddressesDocument, { customerId: this.customerId })\n                .mapSingle(({ customer }) => customer?.addresses ?? [])\n                .pipe(tap(addresses => {\n                if (this.currentAddress) {\n                    this.selectedAddress = addresses.find(a => a.streetLine1 === this.currentAddress?.streetLine1 &&\n                        a.postalCode === this.currentAddress?.postalCode);\n                }\n                if (addresses.length === 0) {\n                    this.createNew = true;\n                    this.useExisting = false;\n                }\n            }))\n            : of([]);\n        this.availableCountries$ = this.dataService.settings\n            .getAvailableCountries()\n            .mapSingle(({ countries }) => countries.items);\n    }\n    trackByFn(item) {\n        return item.id;\n    }\n    addressIdFn(item) {\n        return item.streetLine1 + item.postalCode;\n    }\n    cancel() {\n        this.resolveWith();\n    }\n    select() {\n        if (this.useExisting && this.selectedAddress) {\n            this.resolveWith({\n                ...pick(this.selectedAddress, [\n                    'fullName',\n                    'company',\n                    'streetLine1',\n                    'streetLine2',\n                    'city',\n                    'province',\n                    'phoneNumber',\n                    'postalCode',\n                ]),\n                countryCode: this.selectedAddress.country.code,\n            });\n        }\n        if (this.createNew && this.addressForm.valid) {\n            const formValue = this.addressForm.value;\n            this.resolveWith(formValue);\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: SelectAddressDialogComponent, deps: [{ token: i1.DataService }, { token: i2.UntypedFormBuilder }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: SelectAddressDialogComponent, selector: \"vdr-select-address-dialog\", ngImport: i0, template: \"<ng-template vdrDialogTitle>{{ 'order.select-address' | translate }}</ng-template>\\r\\n\\r\\n<clr-tabs *ngIf=\\\"addresses$ | async as addresses\\\">\\r\\n    <clr-tab *ngIf=\\\"customerId && addresses.length\\\">\\r\\n        <button clrTabLink>{{ 'order.existing-address' | translate }}</button>\\r\\n        <ng-template [(clrIfActive)]=\\\"useExisting\\\">\\r\\n            <clr-tab-content>\\r\\n                <vdr-radio-card-fieldset\\r\\n                    class=\\\"block mt-4\\\"\\r\\n                    [idFn]=\\\"addressIdFn\\\"\\r\\n                    [selectedItemId]=\\\"selectedAddress && addressIdFn(selectedAddress)\\\"\\r\\n                    (selectItem)=\\\"selectedAddress = $event\\\"\\r\\n                >\\r\\n                    <vdr-radio-card *ngFor=\\\"let address of addresses\\\" [item]=\\\"address\\\">\\r\\n                        <vdr-formatted-address [address]=\\\"address\\\"></vdr-formatted-address>\\r\\n                    </vdr-radio-card>\\r\\n                </vdr-radio-card-fieldset>\\r\\n            </clr-tab-content>\\r\\n        </ng-template>\\r\\n    </clr-tab>\\r\\n    <clr-tab>\\r\\n        <button clrTabLink>{{ 'customer.create-new-address' | translate }}</button>\\r\\n\\r\\n        <ng-template [(clrIfActive)]=\\\"createNew\\\">\\r\\n            <clr-tab-content>\\r\\n                <vdr-address-form\\r\\n                    [formGroup]=\\\"addressForm\\\"\\r\\n                    [availableCountries]=\\\"availableCountries$ | async\\\"\\r\\n                ></vdr-address-form>\\r\\n            </clr-tab-content>\\r\\n        </ng-template>\\r\\n    </clr-tab>\\r\\n</clr-tabs>\\r\\n\\r\\n<ng-template vdrDialogButtons>\\r\\n    <button type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"cancel()\\\">{{ 'common.cancel' | translate }}</button>\\r\\n    <button\\r\\n        type=\\\"submit\\\"\\r\\n        (click)=\\\"select()\\\"\\r\\n        [disabled]=\\\"(useExisting && !selectedAddress) || (createNew && addressForm.invalid)\\\"\\r\\n        class=\\\"btn btn-primary\\\"\\r\\n    >\\r\\n        {{ 'common.okay' | translate }}\\r\\n    </button>\\r\\n</ng-template>\\r\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i3.ClrIfActive, selector: \"[clrIfActive]\", inputs: [\"clrIfActive\"], outputs: [\"clrIfActiveChange\"] }, { kind: \"component\", type: i3.ClrTabContent, selector: \"clr-tab-content\", inputs: [\"id\"] }, { kind: \"component\", type: i3.ClrTab, selector: \"clr-tab\" }, { kind: \"component\", type: i3.ClrTabs, selector: \"clr-tabs\", inputs: [\"clrLayout\"] }, { kind: \"directive\", type: i3.ClrTabLink, selector: \"[clrTabLink]\", inputs: [\"id\", \"clrTabLinkInOverflow\"] }, { kind: \"directive\", type: i3.ÇlrTabsWillyWonka, selector: \"clr-tabs\" }, { kind: \"directive\", type: i3.ÇlrActiveOompaLoompa, selector: \"[clrTabLink], clr-tab-content\" }, { kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i2.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i2.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i1.DialogButtonsDirective, selector: \"[vdrDialogButtons]\" }, { kind: \"directive\", type: i1.DialogTitleDirective, selector: \"[vdrDialogTitle]\" }, { kind: \"component\", type: i1.FormattedAddressComponent, selector: \"vdr-formatted-address\", inputs: [\"address\"] }, { kind: \"component\", type: i1.AddressFormComponent, selector: \"vdr-address-form\", inputs: [\"customFields\", \"formGroup\", \"availableCountries\"] }, { kind: \"component\", type: i1.RadioCardComponent, selector: \"vdr-radio-card\", inputs: [\"item\"], exportAs: [\"VdrRadioCard\"] }, { kind: \"component\", type: i1.RadioCardFieldsetComponent, selector: \"vdr-radio-card-fieldset\", inputs: [\"selectedItemId\", \"idFn\"], outputs: [\"selectItem\"] }, { kind: \"pipe\", type: i2$1.AsyncPipe, name: \"async\" }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: SelectAddressDialogComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-select-address-dialog', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-template vdrDialogTitle>{{ 'order.select-address' | translate }}</ng-template>\\r\\n\\r\\n<clr-tabs *ngIf=\\\"addresses$ | async as addresses\\\">\\r\\n    <clr-tab *ngIf=\\\"customerId && addresses.length\\\">\\r\\n        <button clrTabLink>{{ 'order.existing-address' | translate }}</button>\\r\\n        <ng-template [(clrIfActive)]=\\\"useExisting\\\">\\r\\n            <clr-tab-content>\\r\\n                <vdr-radio-card-fieldset\\r\\n                    class=\\\"block mt-4\\\"\\r\\n                    [idFn]=\\\"addressIdFn\\\"\\r\\n                    [selectedItemId]=\\\"selectedAddress && addressIdFn(selectedAddress)\\\"\\r\\n                    (selectItem)=\\\"selectedAddress = $event\\\"\\r\\n                >\\r\\n                    <vdr-radio-card *ngFor=\\\"let address of addresses\\\" [item]=\\\"address\\\">\\r\\n                        <vdr-formatted-address [address]=\\\"address\\\"></vdr-formatted-address>\\r\\n                    </vdr-radio-card>\\r\\n                </vdr-radio-card-fieldset>\\r\\n            </clr-tab-content>\\r\\n        </ng-template>\\r\\n    </clr-tab>\\r\\n    <clr-tab>\\r\\n        <button clrTabLink>{{ 'customer.create-new-address' | translate }}</button>\\r\\n\\r\\n        <ng-template [(clrIfActive)]=\\\"createNew\\\">\\r\\n            <clr-tab-content>\\r\\n                <vdr-address-form\\r\\n                    [formGroup]=\\\"addressForm\\\"\\r\\n                    [availableCountries]=\\\"availableCountries$ | async\\\"\\r\\n                ></vdr-address-form>\\r\\n            </clr-tab-content>\\r\\n        </ng-template>\\r\\n    </clr-tab>\\r\\n</clr-tabs>\\r\\n\\r\\n<ng-template vdrDialogButtons>\\r\\n    <button type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"cancel()\\\">{{ 'common.cancel' | translate }}</button>\\r\\n    <button\\r\\n        type=\\\"submit\\\"\\r\\n        (click)=\\\"select()\\\"\\r\\n        [disabled]=\\\"(useExisting && !selectedAddress) || (createNew && addressForm.invalid)\\\"\\r\\n        class=\\\"btn btn-primary\\\"\\r\\n    >\\r\\n        {{ 'common.okay' | translate }}\\r\\n    </button>\\r\\n</ng-template>\\r\\n\" }]\n        }], ctorParameters: () => [{ type: i1.DataService }, { type: i2.UntypedFormBuilder }] });\n\nclass SelectCustomerDialogComponent {\n    constructor(dataService, formBuilder) {\n        this.dataService = dataService;\n        this.formBuilder = formBuilder;\n        // populated by the dialog service\n        this.canCreateNew = true;\n        this.includeNoteInput = false;\n        this.title = marker('order.set-customer-for-order');\n        this.isLoading = false;\n        this.input$ = new Subject();\n        this.selectedCustomer = [];\n        this.useExisting = true;\n        this.createNew = false;\n        this.note = '';\n        this.customerForm = this.formBuilder.group({\n            title: '',\n            firstName: ['', Validators.required],\n            lastName: ['', Validators.required],\n            phoneNumber: '',\n            emailAddress: ['', [Validators.required, Validators.email]],\n        });\n    }\n    ngOnInit() {\n        this.customers$ = concat(of([]), // default items\n        this.input$.pipe(debounceTime(200), distinctUntilChanged(), tap(() => (this.isLoading = true)), switchMap(term => this.dataService.customer\n            .getCustomerList(10, 0, term)\n            .mapStream(({ customers }) => customers.items)\n            .pipe(catchError(() => of([])), // empty list on error\n        tap(() => (this.isLoading = false))))));\n    }\n    trackByFn(item) {\n        return item.id;\n    }\n    cancel() {\n        this.resolveWith();\n    }\n    select() {\n        if (this.useExisting && this.selectedCustomer.length === 1) {\n            this.resolveWith({ ...this.selectedCustomer[0], note: this.note });\n        }\n        else if (this.createNew && this.customerForm.valid) {\n            const formValue = this.customerForm.value;\n            this.resolveWith({ ...formValue, note: this.note });\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: SelectCustomerDialogComponent, deps: [{ token: i1.DataService }, { token: i2.UntypedFormBuilder }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: SelectCustomerDialogComponent, selector: \"vdr-select-customer-dialog\", ngImport: i0, template: \"<ng-template vdrDialogTitle>{{ title | translate }}</ng-template>\\r\\n\\r\\n<ng-container *ngIf=\\\"!canCreateNew\\\">\\r\\n    <ng-container *ngTemplateOutlet=\\\"customerSelect\\\"></ng-container>\\r\\n    <vdr-form-field [label]=\\\"'common.add-note' | translate\\\" *ngIf=\\\"includeNoteInput\\\" class=\\\"mt-4\\\">\\r\\n        <textarea [(ngModel)]=\\\"note\\\"></textarea>\\r\\n    </vdr-form-field>\\r\\n</ng-container>\\r\\n\\r\\n<clr-tabs *ngIf=\\\"canCreateNew\\\" class=\\\"pt-1\\\">\\r\\n    <clr-tab>\\r\\n        <button clrTabLink>{{ 'order.existing-customer' | translate }}</button>\\r\\n\\r\\n        <ng-template [(clrIfActive)]=\\\"useExisting\\\">\\r\\n            <clr-tab-content>\\r\\n                <div class=\\\"mt-4\\\">\\r\\n                    <ng-container *ngTemplateOutlet=\\\"customerSelect\\\"></ng-container>\\r\\n                </div>\\r\\n            </clr-tab-content>\\r\\n        </ng-template>\\r\\n    </clr-tab>\\r\\n    <clr-tab *ngIf=\\\"canCreateNew\\\">\\r\\n        <button clrTabLink>{{ 'customer.create-new-customer' | translate }}</button>\\r\\n\\r\\n        <ng-template [(clrIfActive)]=\\\"createNew\\\">\\r\\n            <clr-tab-content>\\r\\n                <form [formGroup]=\\\"customerForm\\\">\\r\\n                    <vdr-form-field [label]=\\\"'customer.title' | translate\\\" for=\\\"title\\\">\\r\\n                        <input id=\\\"title\\\" type=\\\"text\\\" formControlName=\\\"title\\\" />\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'customer.first-name' | translate\\\" for=\\\"firstName\\\">\\r\\n                        <input id=\\\"firstName\\\" type=\\\"text\\\" formControlName=\\\"firstName\\\" />\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'customer.last-name' | translate\\\" for=\\\"lastName\\\">\\r\\n                        <input id=\\\"lastName\\\" type=\\\"text\\\" formControlName=\\\"lastName\\\" />\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'customer.email-address' | translate\\\" for=\\\"emailAddress\\\">\\r\\n                        <input id=\\\"emailAddress\\\" type=\\\"text\\\" formControlName=\\\"emailAddress\\\" />\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'customer.phone-number' | translate\\\" for=\\\"phoneNumber\\\">\\r\\n                        <input id=\\\"phoneNumber\\\" type=\\\"text\\\" formControlName=\\\"phoneNumber\\\" />\\r\\n                    </vdr-form-field>\\r\\n                </form>\\r\\n            </clr-tab-content>\\r\\n        </ng-template>\\r\\n    </clr-tab>\\r\\n</clr-tabs>\\r\\n\\r\\n<ng-template #customerSelect>\\r\\n    <ng-select\\r\\n        [items]=\\\"customers$ | async\\\"\\r\\n        appendTo=\\\"body\\\"\\r\\n        bindLabel=\\\"name\\\"\\r\\n        [addTag]=\\\"false\\\"\\r\\n        [multiple]=\\\"true\\\"\\r\\n        [hideSelected]=\\\"true\\\"\\r\\n        [trackByFn]=\\\"trackByFn\\\"\\r\\n        [minTermLength]=\\\"2\\\"\\r\\n        [loading]=\\\"isLoading\\\"\\r\\n        [typeahead]=\\\"input$\\\"\\r\\n        [(ngModel)]=\\\"selectedCustomer\\\"\\r\\n    >\\r\\n        <ng-template ng-label-tmp let-item=\\\"item\\\" let-clear=\\\"clear\\\">\\r\\n            <span class=\\\"item-row\\\">\\r\\n                <clr-icon shape=\\\"user\\\" class=\\\"is-solid\\\"></clr-icon\\r\\n                ><span class=\\\"mx-1\\\">{{ item.firstName }} {{ item.lastName }}</span>\\r\\n                <vdr-chip>{{ item.emailAddress }}</vdr-chip>\\r\\n            </span>\\r\\n        </ng-template>\\r\\n        <ng-template ng-option-tmp let-item=\\\"item\\\">\\r\\n            <span class=\\\"item-row\\\">\\r\\n                <clr-icon shape=\\\"user\\\" class=\\\"is-solid\\\"></clr-icon\\r\\n                ><span class=\\\"mx-1\\\">{{ item.firstName }} {{ item.lastName }}</span>\\r\\n                <vdr-chip>{{ item.emailAddress }}</vdr-chip>\\r\\n            </span>\\r\\n        </ng-template>\\r\\n    </ng-select>\\r\\n</ng-template>\\r\\n\\r\\n<ng-template vdrDialogButtons>\\r\\n    <button type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"cancel()\\\">{{ 'common.cancel' | translate }}</button>\\r\\n    <button\\r\\n        type=\\\"submit\\\"\\r\\n        (click)=\\\"select()\\\"\\r\\n        [disabled]=\\\"(useExisting && selectedCustomer.length === 0) || (createNew && customerForm.invalid)\\\"\\r\\n        class=\\\"btn btn-primary\\\"\\r\\n    >\\r\\n        {{ 'common.okay' | translate }}\\r\\n    </button>\\r\\n</ng-template>\\r\\n\", styles: [\".item-row{display:flex;align-items:center}clr-tabs{display:block}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i3.ClrIfActive, selector: \"[clrIfActive]\", inputs: [\"clrIfActive\"], outputs: [\"clrIfActiveChange\"] }, { kind: \"component\", type: i3.ClrTabContent, selector: \"clr-tab-content\", inputs: [\"id\"] }, { kind: \"component\", type: i3.ClrTab, selector: \"clr-tab\" }, { kind: \"component\", type: i3.ClrTabs, selector: \"clr-tabs\", inputs: [\"clrLayout\"] }, { kind: \"directive\", type: i3.ClrTabLink, selector: \"[clrTabLink]\", inputs: [\"id\", \"clrTabLinkInOverflow\"] }, { kind: \"directive\", type: i3.ÇlrTabsWillyWonka, selector: \"clr-tabs\" }, { kind: \"directive\", type: i3.ÇlrActiveOompaLoompa, selector: \"[clrTabLink], clr-tab-content\" }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i2$1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }, { kind: \"directive\", type: i2.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { kind: \"directive\", type: i2.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i2.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { kind: \"directive\", type: i2.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i2.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { kind: \"component\", type: i5.NgSelectComponent, selector: \"ng-select\", inputs: [\"bindLabel\", \"bindValue\", \"markFirst\", \"placeholder\", \"notFoundText\", \"typeToSearchText\", \"addTagText\", \"loadingText\", \"clearAllText\", \"appearance\", \"dropdownPosition\", \"appendTo\", \"loading\", \"closeOnSelect\", \"hideSelected\", \"selectOnTab\", \"openOnEnter\", \"maxSelectedItems\", \"groupBy\", \"groupValue\", \"bufferAmount\", \"virtualScroll\", \"selectableGroup\", \"selectableGroupAsModel\", \"searchFn\", \"trackByFn\", \"clearOnBackspace\", \"labelForId\", \"inputAttrs\", \"tabIndex\", \"readonly\", \"searchWhileComposing\", \"minTermLength\", \"editableSearchTerm\", \"keyDownFn\", \"typeahead\", \"multiple\", \"addTag\", \"searchable\", \"clearable\", \"isOpen\", \"items\", \"compareWith\", \"clearSearchOnAdd\", \"deselectOnClick\"], outputs: [\"blur\", \"focus\", \"change\", \"open\", \"close\", \"search\", \"clear\", \"add\", \"remove\", \"scroll\", \"scrollToEnd\"] }, { kind: \"directive\", type: i5.NgOptionTemplateDirective, selector: \"[ng-option-tmp]\" }, { kind: \"directive\", type: i5.NgLabelTemplateDirective, selector: \"[ng-label-tmp]\" }, { kind: \"component\", type: i1.ChipComponent, selector: \"vdr-chip\", inputs: [\"icon\", \"invert\", \"colorFrom\", \"colorType\"], outputs: [\"iconClick\"] }, { kind: \"component\", type: i1.FormFieldComponent, selector: \"vdr-form-field\", inputs: [\"label\", \"for\", \"tooltip\", \"errors\", \"readOnlyToggle\"], outputs: [\"readOnlyToggleChange\"] }, { kind: \"directive\", type: i1.FormFieldControlDirective, selector: \"input, textarea, select, vdr-currency-input\" }, { kind: \"directive\", type: i1.DialogButtonsDirective, selector: \"[vdrDialogButtons]\" }, { kind: \"directive\", type: i1.DialogTitleDirective, selector: \"[vdrDialogTitle]\" }, { kind: \"pipe\", type: i2$1.AsyncPipe, name: \"async\" }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: SelectCustomerDialogComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-select-customer-dialog', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-template vdrDialogTitle>{{ title | translate }}</ng-template>\\r\\n\\r\\n<ng-container *ngIf=\\\"!canCreateNew\\\">\\r\\n    <ng-container *ngTemplateOutlet=\\\"customerSelect\\\"></ng-container>\\r\\n    <vdr-form-field [label]=\\\"'common.add-note' | translate\\\" *ngIf=\\\"includeNoteInput\\\" class=\\\"mt-4\\\">\\r\\n        <textarea [(ngModel)]=\\\"note\\\"></textarea>\\r\\n    </vdr-form-field>\\r\\n</ng-container>\\r\\n\\r\\n<clr-tabs *ngIf=\\\"canCreateNew\\\" class=\\\"pt-1\\\">\\r\\n    <clr-tab>\\r\\n        <button clrTabLink>{{ 'order.existing-customer' | translate }}</button>\\r\\n\\r\\n        <ng-template [(clrIfActive)]=\\\"useExisting\\\">\\r\\n            <clr-tab-content>\\r\\n                <div class=\\\"mt-4\\\">\\r\\n                    <ng-container *ngTemplateOutlet=\\\"customerSelect\\\"></ng-container>\\r\\n                </div>\\r\\n            </clr-tab-content>\\r\\n        </ng-template>\\r\\n    </clr-tab>\\r\\n    <clr-tab *ngIf=\\\"canCreateNew\\\">\\r\\n        <button clrTabLink>{{ 'customer.create-new-customer' | translate }}</button>\\r\\n\\r\\n        <ng-template [(clrIfActive)]=\\\"createNew\\\">\\r\\n            <clr-tab-content>\\r\\n                <form [formGroup]=\\\"customerForm\\\">\\r\\n                    <vdr-form-field [label]=\\\"'customer.title' | translate\\\" for=\\\"title\\\">\\r\\n                        <input id=\\\"title\\\" type=\\\"text\\\" formControlName=\\\"title\\\" />\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'customer.first-name' | translate\\\" for=\\\"firstName\\\">\\r\\n                        <input id=\\\"firstName\\\" type=\\\"text\\\" formControlName=\\\"firstName\\\" />\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'customer.last-name' | translate\\\" for=\\\"lastName\\\">\\r\\n                        <input id=\\\"lastName\\\" type=\\\"text\\\" formControlName=\\\"lastName\\\" />\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'customer.email-address' | translate\\\" for=\\\"emailAddress\\\">\\r\\n                        <input id=\\\"emailAddress\\\" type=\\\"text\\\" formControlName=\\\"emailAddress\\\" />\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'customer.phone-number' | translate\\\" for=\\\"phoneNumber\\\">\\r\\n                        <input id=\\\"phoneNumber\\\" type=\\\"text\\\" formControlName=\\\"phoneNumber\\\" />\\r\\n                    </vdr-form-field>\\r\\n                </form>\\r\\n            </clr-tab-content>\\r\\n        </ng-template>\\r\\n    </clr-tab>\\r\\n</clr-tabs>\\r\\n\\r\\n<ng-template #customerSelect>\\r\\n    <ng-select\\r\\n        [items]=\\\"customers$ | async\\\"\\r\\n        appendTo=\\\"body\\\"\\r\\n        bindLabel=\\\"name\\\"\\r\\n        [addTag]=\\\"false\\\"\\r\\n        [multiple]=\\\"true\\\"\\r\\n        [hideSelected]=\\\"true\\\"\\r\\n        [trackByFn]=\\\"trackByFn\\\"\\r\\n        [minTermLength]=\\\"2\\\"\\r\\n        [loading]=\\\"isLoading\\\"\\r\\n        [typeahead]=\\\"input$\\\"\\r\\n        [(ngModel)]=\\\"selectedCustomer\\\"\\r\\n    >\\r\\n        <ng-template ng-label-tmp let-item=\\\"item\\\" let-clear=\\\"clear\\\">\\r\\n            <span class=\\\"item-row\\\">\\r\\n                <clr-icon shape=\\\"user\\\" class=\\\"is-solid\\\"></clr-icon\\r\\n                ><span class=\\\"mx-1\\\">{{ item.firstName }} {{ item.lastName }}</span>\\r\\n                <vdr-chip>{{ item.emailAddress }}</vdr-chip>\\r\\n            </span>\\r\\n        </ng-template>\\r\\n        <ng-template ng-option-tmp let-item=\\\"item\\\">\\r\\n            <span class=\\\"item-row\\\">\\r\\n                <clr-icon shape=\\\"user\\\" class=\\\"is-solid\\\"></clr-icon\\r\\n                ><span class=\\\"mx-1\\\">{{ item.firstName }} {{ item.lastName }}</span>\\r\\n                <vdr-chip>{{ item.emailAddress }}</vdr-chip>\\r\\n            </span>\\r\\n        </ng-template>\\r\\n    </ng-select>\\r\\n</ng-template>\\r\\n\\r\\n<ng-template vdrDialogButtons>\\r\\n    <button type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"cancel()\\\">{{ 'common.cancel' | translate }}</button>\\r\\n    <button\\r\\n        type=\\\"submit\\\"\\r\\n        (click)=\\\"select()\\\"\\r\\n        [disabled]=\\\"(useExisting && selectedCustomer.length === 0) || (createNew && customerForm.invalid)\\\"\\r\\n        class=\\\"btn btn-primary\\\"\\r\\n    >\\r\\n        {{ 'common.okay' | translate }}\\r\\n    </button>\\r\\n</ng-template>\\r\\n\", styles: [\".item-row{display:flex;align-items:center}clr-tabs{display:block}\\n\"] }]\n        }], ctorParameters: () => [{ type: i1.DataService }, { type: i2.UntypedFormBuilder }] });\n\nclass SelectShippingMethodDialogComponent {\n    ngOnInit() {\n        if (this.currentSelectionId) {\n            this.selectedMethod = this.eligibleShippingMethods.find(m => m.id === this.currentSelectionId);\n        }\n    }\n    methodIdFn(item) {\n        return item.id;\n    }\n    cancel() {\n        this.resolveWith();\n    }\n    select() {\n        if (this.selectedMethod) {\n            this.resolveWith(this.selectedMethod.id);\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: SelectShippingMethodDialogComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: SelectShippingMethodDialogComponent, selector: \"vdr-select-shipping-method-dialog\", ngImport: i0, template: \"<ng-template vdrDialogTitle>{{ 'order.select-shipping-method' | translate }}</ng-template>\\r\\n<vdr-radio-card-fieldset\\r\\n    [idFn]=\\\"methodIdFn\\\"\\r\\n    [selectedItemId]=\\\"selectedMethod?.id\\\"\\r\\n    (selectItem)=\\\"selectedMethod = $event\\\"\\r\\n>\\r\\n    <vdr-radio-card *ngFor=\\\"let quote of eligibleShippingMethods\\\" [item]=\\\"quote\\\">\\r\\n        <div class=\\\"result-details\\\">\\r\\n            <vdr-labeled-data [label]=\\\"'settings.shipping-method' | translate\\\">\\r\\n                {{ quote.name }}\\r\\n            </vdr-labeled-data>\\r\\n            <div class=\\\"price-row\\\">\\r\\n                <vdr-labeled-data [label]=\\\"'common.price' | translate\\\">\\r\\n                    {{ quote.price | localeCurrency: currencyCode }}\\r\\n                </vdr-labeled-data>\\r\\n                <vdr-labeled-data [label]=\\\"'common.price-with-tax' | translate\\\">\\r\\n                    {{ quote.priceWithTax | localeCurrency: currencyCode }}\\r\\n                </vdr-labeled-data>\\r\\n            </div>\\r\\n            <vdr-object-tree *ngIf=\\\"quote.metadata\\\" [value]=\\\"quote.metadata\\\"></vdr-object-tree>\\r\\n        </div>\\r\\n    </vdr-radio-card>\\r\\n</vdr-radio-card-fieldset>\\r\\n\\r\\n<ng-template vdrDialogButtons>\\r\\n    <button type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"cancel()\\\">{{ 'common.cancel' | translate }}</button>\\r\\n    <button\\r\\n        type=\\\"submit\\\"\\r\\n        (click)=\\\"select()\\\"\\r\\n        [disabled]=\\\"!selectedMethod\\\"\\r\\n        class=\\\"btn btn-primary\\\"\\r\\n    >\\r\\n        {{ 'common.okay' | translate }}\\r\\n    </button>\\r\\n</ng-template>\\r\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1.DialogButtonsDirective, selector: \"[vdrDialogButtons]\" }, { kind: \"directive\", type: i1.DialogTitleDirective, selector: \"[vdrDialogTitle]\" }, { kind: \"component\", type: i1.LabeledDataComponent, selector: \"vdr-labeled-data\", inputs: [\"label\"] }, { kind: \"component\", type: i1.ObjectTreeComponent, selector: \"vdr-object-tree\", inputs: [\"value\", \"isArrayItem\"] }, { kind: \"component\", type: i1.RadioCardComponent, selector: \"vdr-radio-card\", inputs: [\"item\"], exportAs: [\"VdrRadioCard\"] }, { kind: \"component\", type: i1.RadioCardFieldsetComponent, selector: \"vdr-radio-card-fieldset\", inputs: [\"selectedItemId\", \"idFn\"], outputs: [\"selectItem\"] }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: SelectShippingMethodDialogComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-select-shipping-method-dialog', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-template vdrDialogTitle>{{ 'order.select-shipping-method' | translate }}</ng-template>\\r\\n<vdr-radio-card-fieldset\\r\\n    [idFn]=\\\"methodIdFn\\\"\\r\\n    [selectedItemId]=\\\"selectedMethod?.id\\\"\\r\\n    (selectItem)=\\\"selectedMethod = $event\\\"\\r\\n>\\r\\n    <vdr-radio-card *ngFor=\\\"let quote of eligibleShippingMethods\\\" [item]=\\\"quote\\\">\\r\\n        <div class=\\\"result-details\\\">\\r\\n            <vdr-labeled-data [label]=\\\"'settings.shipping-method' | translate\\\">\\r\\n                {{ quote.name }}\\r\\n            </vdr-labeled-data>\\r\\n            <div class=\\\"price-row\\\">\\r\\n                <vdr-labeled-data [label]=\\\"'common.price' | translate\\\">\\r\\n                    {{ quote.price | localeCurrency: currencyCode }}\\r\\n                </vdr-labeled-data>\\r\\n                <vdr-labeled-data [label]=\\\"'common.price-with-tax' | translate\\\">\\r\\n                    {{ quote.priceWithTax | localeCurrency: currencyCode }}\\r\\n                </vdr-labeled-data>\\r\\n            </div>\\r\\n            <vdr-object-tree *ngIf=\\\"quote.metadata\\\" [value]=\\\"quote.metadata\\\"></vdr-object-tree>\\r\\n        </div>\\r\\n    </vdr-radio-card>\\r\\n</vdr-radio-card-fieldset>\\r\\n\\r\\n<ng-template vdrDialogButtons>\\r\\n    <button type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"cancel()\\\">{{ 'common.cancel' | translate }}</button>\\r\\n    <button\\r\\n        type=\\\"submit\\\"\\r\\n        (click)=\\\"select()\\\"\\r\\n        [disabled]=\\\"!selectedMethod\\\"\\r\\n        class=\\\"btn btn-primary\\\"\\r\\n    >\\r\\n        {{ 'common.okay' | translate }}\\r\\n    </button>\\r\\n</ng-template>\\r\\n\" }]\n        }] });\n\nclass OrderStateSelectDialogComponent {\n    constructor() {\n        this.nextStates = [];\n        this.message = '';\n        this.selectedState = '';\n    }\n    select() {\n        if (this.selectedState) {\n            this.resolveWith(this.selectedState);\n        }\n    }\n    cancel() {\n        this.resolveWith();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderStateSelectDialogComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: OrderStateSelectDialogComponent, selector: \"vdr-order-state-select-dialog\", ngImport: i0, template: \"<ng-template vdrDialogTitle>{{ 'order.select-state' | translate }}</ng-template>\\r\\n<p>{{ message | translate }}</p>\\r\\n<vdr-form-field>\\r\\n    <select name=\\\"state\\\" [(ngModel)]=\\\"selectedState\\\">\\r\\n        <option *ngFor=\\\"let state of nextStates\\\" [value]=\\\"state\\\">\\r\\n            {{ state | stateI18nToken | translate }}\\r\\n        </option>\\r\\n    </select>\\r\\n</vdr-form-field>\\r\\n<ng-template vdrDialogButtons>\\r\\n    <button type=\\\"submit\\\" *ngIf=\\\"cancellable\\\" (click)=\\\"cancel()\\\" class=\\\"btn btn-secondary\\\">\\r\\n        {{ 'common.cancel' | translate }}\\r\\n    </button>\\r\\n    <button type=\\\"submit\\\" (click)=\\\"select()\\\" class=\\\"btn btn-primary\\\" [disabled]=\\\"!selectedState\\\">\\r\\n        {{ 'order.transition-to-state' | translate: { state: (selectedState | stateI18nToken | translate) } }}\\r\\n    </button>\\r\\n</ng-template>\\r\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i2.NgSelectOption, selector: \"option\", inputs: [\"ngValue\", \"value\"] }, { kind: \"directive\", type: i2.ɵNgSelectMultipleOption, selector: \"option\", inputs: [\"ngValue\", \"value\"] }, { kind: \"directive\", type: i2.SelectControlValueAccessor, selector: \"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]\", inputs: [\"compareWith\"] }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { kind: \"component\", type: i1.FormFieldComponent, selector: \"vdr-form-field\", inputs: [\"label\", \"for\", \"tooltip\", \"errors\", \"readOnlyToggle\"], outputs: [\"readOnlyToggleChange\"] }, { kind: \"directive\", type: i1.FormFieldControlDirective, selector: \"input, textarea, select, vdr-currency-input\" }, { kind: \"directive\", type: i1.DialogButtonsDirective, selector: \"[vdrDialogButtons]\" }, { kind: \"directive\", type: i1.DialogTitleDirective, selector: \"[vdrDialogTitle]\" }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.StateI18nTokenPipe, name: \"stateI18nToken\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderStateSelectDialogComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-order-state-select-dialog', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-template vdrDialogTitle>{{ 'order.select-state' | translate }}</ng-template>\\r\\n<p>{{ message | translate }}</p>\\r\\n<vdr-form-field>\\r\\n    <select name=\\\"state\\\" [(ngModel)]=\\\"selectedState\\\">\\r\\n        <option *ngFor=\\\"let state of nextStates\\\" [value]=\\\"state\\\">\\r\\n            {{ state | stateI18nToken | translate }}\\r\\n        </option>\\r\\n    </select>\\r\\n</vdr-form-field>\\r\\n<ng-template vdrDialogButtons>\\r\\n    <button type=\\\"submit\\\" *ngIf=\\\"cancellable\\\" (click)=\\\"cancel()\\\" class=\\\"btn btn-secondary\\\">\\r\\n        {{ 'common.cancel' | translate }}\\r\\n    </button>\\r\\n    <button type=\\\"submit\\\" (click)=\\\"select()\\\" class=\\\"btn btn-primary\\\" [disabled]=\\\"!selectedState\\\">\\r\\n        {{ 'order.transition-to-state' | translate: { state: (selectedState | stateI18nToken | translate) } }}\\r\\n    </button>\\r\\n</ng-template>\\r\\n\" }]\n        }] });\n\nclass OrderTransitionService {\n    constructor(dataService, modalService, notificationService, i18nService) {\n        this.dataService = dataService;\n        this.modalService = modalService;\n        this.notificationService = notificationService;\n        this.i18nService = i18nService;\n    }\n    /**\n     * Attempts to transition the Order to the last state it was in before it was transitioned\n     * to the \"Modifying\" state. If this fails, a manual prompt is used.\n     */\n    transitionToPreModifyingState(orderId, nextStates) {\n        return this.getPreModifyingState(orderId).pipe(switchMap(state => {\n            const manualTransitionOptions = {\n                orderId,\n                nextStates,\n                message: this.i18nService.translate(marker('order.unable-to-transition-to-state-try-another'), { state }),\n                cancellable: false,\n                retry: 10,\n            };\n            if (state) {\n                return this.transitionToStateOrThrow(orderId, state).pipe(catchError(err => this.manuallyTransitionToState(manualTransitionOptions)));\n            }\n            else {\n                return this.manuallyTransitionToState(manualTransitionOptions);\n            }\n        }));\n    }\n    /**\n     * Displays a modal for manually selecting the next state.\n     */\n    manuallyTransitionToState(options) {\n        return this.modalService\n            .fromComponent(OrderStateSelectDialogComponent, {\n            locals: {\n                nextStates: options.nextStates,\n                cancellable: options.cancellable,\n                message: options.message,\n            },\n            closable: false,\n            size: 'md',\n        })\n            .pipe(switchMap(result => {\n            if (result) {\n                return this.transitionToStateOrThrow(options.orderId, result);\n            }\n            else {\n                if (!options.cancellable) {\n                    throw new Error(`An order state must be selected`);\n                }\n                else {\n                    return EMPTY;\n                }\n            }\n        }), retryWhen(errors => errors.pipe(delay(2000), take(options.retry))));\n    }\n    /**\n     * Attempts to get the last state the Order was in before it was transitioned\n     * to the \"Modifying\" state.\n     */\n    getPreModifyingState(orderId) {\n        return this.dataService.order\n            .getOrderHistory(orderId, {\n            filter: {\n                type: {\n                    eq: HistoryEntryType.ORDER_STATE_TRANSITION,\n                },\n            },\n            sort: {\n                createdAt: SortOrder.DESC,\n            },\n        })\n            .mapSingle(result => result.order)\n            .pipe(map(result => {\n            const item = result?.history.items.find(i => i.data.to === 'Modifying');\n            if (item) {\n                return item.data.from;\n            }\n            else {\n                return;\n            }\n        }));\n    }\n    transitionToStateOrThrow(orderId, state) {\n        return this.dataService.order.transitionToState(orderId, state).pipe(map(({ transitionOrderToState }) => {\n            switch (transitionOrderToState?.__typename) {\n                case 'Order':\n                    return transitionOrderToState?.state;\n                case 'OrderStateTransitionError':\n                    this.notificationService.error(transitionOrderToState?.transitionError);\n                    throw new Error(transitionOrderToState?.transitionError);\n            }\n        }));\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderTransitionService, deps: [{ token: i1.DataService }, { token: i1.ModalService }, { token: i1.NotificationService }, { token: i1.I18nService }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderTransitionService, providedIn: 'root' }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderTransitionService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], ctorParameters: () => [{ type: i1.DataService }, { type: i1.ModalService }, { type: i1.NotificationService }, { type: i1.I18nService }] });\n\nclass OrderCustomFieldsCardComponent {\n    constructor(formBuilder, modalService) {\n        this.formBuilder = formBuilder;\n        this.modalService = modalService;\n        this.customFieldsConfig = [];\n        this.customFieldValues = {};\n        this.updateClick = new EventEmitter();\n        this.editable = false;\n    }\n    ngOnInit() {\n        this.customFieldForm = this.formBuilder.group({});\n        for (const field of this.customFieldsConfig) {\n            this.customFieldForm.addControl(field.name, this.formBuilder.control(this.customFieldValues[field.name]));\n        }\n    }\n    onUpdateClick() {\n        this.updateClick.emit(this.customFieldForm.value);\n        this.customFieldForm.markAsPristine();\n        this.editable = false;\n    }\n    onCancelClick() {\n        if (this.customFieldForm.dirty) {\n            this.modalService\n                .dialog({\n                title: marker('catalog.confirm-cancel'),\n                buttons: [\n                    { type: 'secondary', label: marker('common.keep-editing') },\n                    { type: 'danger', label: marker('common.discard-changes'), returnValue: true },\n                ],\n            })\n                .subscribe(result => {\n                if (result) {\n                    this.customFieldForm.reset();\n                    this.customFieldForm.markAsPristine();\n                    this.editable = false;\n                }\n            });\n        }\n        else {\n            this.editable = false;\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderCustomFieldsCardComponent, deps: [{ token: i2.UntypedFormBuilder }, { token: i1.ModalService }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: OrderCustomFieldsCardComponent, selector: \"vdr-order-custom-fields-card\", inputs: { customFieldsConfig: \"customFieldsConfig\", customFieldValues: \"customFieldValues\" }, outputs: { updateClick: \"updateClick\" }, ngImport: i0, template: \"<div class=\\\"card\\\" *ngIf=\\\"customFieldsConfig.length\\\">\\r\\n    <div class=\\\"card-header\\\">\\r\\n        {{ 'common.custom-fields' | translate }}\\r\\n    </div>\\r\\n    <div class=\\\"card-block\\\">\\r\\n        <div class=\\\"card-text custom-field-form\\\" [class.editable]=\\\"editable\\\">\\r\\n            <vdr-tabbed-custom-fields\\r\\n                entityName=\\\"Order\\\"\\r\\n                [customFields]=\\\"customFieldsConfig\\\"\\r\\n                [customFieldsFormGroup]=\\\"customFieldForm\\\"\\r\\n                [readonly]=\\\"!editable\\\"\\r\\n                [compact]=\\\"true\\\"\\r\\n            ></vdr-tabbed-custom-fields>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"card-footer\\\">\\r\\n        <button class=\\\"btn btn-sm btn-secondary\\\" (click)=\\\"editable = true\\\" *ngIf=\\\"!editable\\\">\\r\\n            <clr-icon shape=\\\"pencil\\\"></clr-icon>\\r\\n            {{ 'common.edit' | translate }}\\r\\n        </button>\\r\\n        <button\\r\\n            class=\\\"btn btn-sm btn-primary\\\"\\r\\n            (click)=\\\"onUpdateClick()\\\"\\r\\n            *ngIf=\\\"editable\\\"\\r\\n            [disabled]=\\\"customFieldForm.pristine || customFieldForm.invalid\\\"\\r\\n        >\\r\\n            <clr-icon shape=\\\"check\\\"></clr-icon>\\r\\n            {{ 'common.update' | translate }}\\r\\n        </button>\\r\\n        <button\\r\\n            class=\\\"btn btn-sm btn-secondary\\\"\\r\\n            (click)=\\\"onCancelClick()\\\"\\r\\n            *ngIf=\\\"editable\\\"\\r\\n        >\\r\\n            <clr-icon shape=\\\"times\\\"></clr-icon>\\r\\n            {{ 'common.cancel' | translate }}\\r\\n        </button>\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\"vdr-custom-field-control{margin-bottom:6px;display:block}.custom-field-form ::ng-deep .clr-control-label{color:var(--color-grey-400)}.custom-field-form.editable ::ng-deep .clr-control-label{color:inherit}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"component\", type: i1.TabbedCustomFieldsComponent, selector: \"vdr-tabbed-custom-fields\", inputs: [\"entityName\", \"customFields\", \"customFieldsFormGroup\", \"readonly\", \"compact\", \"showLabel\"] }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderCustomFieldsCardComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-order-custom-fields-card', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"card\\\" *ngIf=\\\"customFieldsConfig.length\\\">\\r\\n    <div class=\\\"card-header\\\">\\r\\n        {{ 'common.custom-fields' | translate }}\\r\\n    </div>\\r\\n    <div class=\\\"card-block\\\">\\r\\n        <div class=\\\"card-text custom-field-form\\\" [class.editable]=\\\"editable\\\">\\r\\n            <vdr-tabbed-custom-fields\\r\\n                entityName=\\\"Order\\\"\\r\\n                [customFields]=\\\"customFieldsConfig\\\"\\r\\n                [customFieldsFormGroup]=\\\"customFieldForm\\\"\\r\\n                [readonly]=\\\"!editable\\\"\\r\\n                [compact]=\\\"true\\\"\\r\\n            ></vdr-tabbed-custom-fields>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"card-footer\\\">\\r\\n        <button class=\\\"btn btn-sm btn-secondary\\\" (click)=\\\"editable = true\\\" *ngIf=\\\"!editable\\\">\\r\\n            <clr-icon shape=\\\"pencil\\\"></clr-icon>\\r\\n            {{ 'common.edit' | translate }}\\r\\n        </button>\\r\\n        <button\\r\\n            class=\\\"btn btn-sm btn-primary\\\"\\r\\n            (click)=\\\"onUpdateClick()\\\"\\r\\n            *ngIf=\\\"editable\\\"\\r\\n            [disabled]=\\\"customFieldForm.pristine || customFieldForm.invalid\\\"\\r\\n        >\\r\\n            <clr-icon shape=\\\"check\\\"></clr-icon>\\r\\n            {{ 'common.update' | translate }}\\r\\n        </button>\\r\\n        <button\\r\\n            class=\\\"btn btn-sm btn-secondary\\\"\\r\\n            (click)=\\\"onCancelClick()\\\"\\r\\n            *ngIf=\\\"editable\\\"\\r\\n        >\\r\\n            <clr-icon shape=\\\"times\\\"></clr-icon>\\r\\n            {{ 'common.cancel' | translate }}\\r\\n        </button>\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\"vdr-custom-field-control{margin-bottom:6px;display:block}.custom-field-form ::ng-deep .clr-control-label{color:var(--color-grey-400)}.custom-field-form.editable ::ng-deep .clr-control-label{color:inherit}\\n\"] }]\n        }], ctorParameters: () => [{ type: i2.UntypedFormBuilder }, { type: i1.ModalService }], propDecorators: { customFieldsConfig: [{\n                type: Input\n            }], customFieldValues: [{\n                type: Input\n            }], updateClick: [{\n                type: Output\n            }] } });\n\nclass LineFulfillmentComponent {\n    constructor() {\n        this.fulfilledCount = 0;\n        this.fulfillments = [];\n    }\n    ngOnChanges(changes) {\n        if (this.line) {\n            this.fulfilledCount = this.getDeliveredCount(this.line);\n            this.fulfillmentStatus = this.getFulfillmentStatus(this.fulfilledCount, this.line.quantity);\n            this.fulfillments = this.getFulfillments(this.line);\n        }\n    }\n    /**\n     * Returns the number of items in an OrderLine which are fulfilled.\n     */\n    getDeliveredCount(line) {\n        return (line.fulfillmentLines?.reduce((sum, fulfillmentLine) => sum + fulfillmentLine.quantity, 0) ?? 0);\n    }\n    getFulfillmentStatus(fulfilledCount, lineQuantity) {\n        if (fulfilledCount === lineQuantity) {\n            return 'full';\n        }\n        if (0 < fulfilledCount && fulfilledCount < lineQuantity) {\n            return 'partial';\n        }\n        return 'none';\n    }\n    getFulfillments(line) {\n        return (line.fulfillmentLines\n            ?.map(fulfillmentLine => {\n            const fulfillment = this.allOrderFulfillments?.find(f => f.id === fulfillmentLine.fulfillmentId);\n            if (!fulfillment) {\n                return;\n            }\n            return {\n                count: fulfillmentLine.quantity,\n                fulfillment,\n            };\n        })\n            .filter(notNullOrUndefined) ?? []);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: LineFulfillmentComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: LineFulfillmentComponent, selector: \"vdr-line-fulfillment\", inputs: { line: \"line\", allOrderFulfillments: \"allOrderFulfillments\", orderState: \"orderState\" }, usesOnChanges: true, ngImport: i0, template: \"<vdr-dropdown class=\\\"search-settings-menu\\\" *ngIf=\\\"fulfilledCount || orderState === 'PartiallyDelivered'\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"icon-button\\\" vdrDropdownTrigger>\\r\\n        <clr-icon *ngIf=\\\"fulfillmentStatus === 'full'\\\" class=\\\"item-fulfilled\\\" shape=\\\"check-circle\\\"></clr-icon>\\r\\n        <clr-icon\\r\\n            *ngIf=\\\"fulfillmentStatus === 'partial'\\\"\\r\\n            class=\\\"item-partially-fulfilled\\\"\\r\\n            shape=\\\"check-circle\\\"\\r\\n        ></clr-icon>\\r\\n        <clr-icon\\r\\n            *ngIf=\\\"fulfillmentStatus === 'none'\\\"\\r\\n            class=\\\"item-not-fulfilled\\\"\\r\\n            shape=\\\"exclamation-circle\\\"\\r\\n        ></clr-icon>\\r\\n    </button>\\r\\n    <vdr-dropdown-menu vdrPosition=\\\"bottom-right\\\">\\r\\n        <label class=\\\"dropdown-header\\\" *ngIf=\\\"fulfillmentStatus === 'full'\\\">\\r\\n            {{ 'order.line-fulfillment-all' | translate }}\\r\\n        </label>\\r\\n        <label class=\\\"dropdown-header\\\" *ngIf=\\\"fulfillmentStatus === 'partial'\\\">\\r\\n            {{\\r\\n                'order.line-fulfillment-partial' | translate: { total: line.quantity, count: fulfilledCount }\\r\\n            }}\\r\\n        </label>\\r\\n        <label class=\\\"dropdown-header\\\" *ngIf=\\\"fulfillmentStatus === 'none'\\\">\\r\\n            {{ 'order.line-fulfillment-none' | translate }}\\r\\n        </label>\\r\\n        <div class=\\\"fulfillment-detail\\\" *ngFor=\\\"let item of fulfillments\\\">\\r\\n            <div class=\\\"fulfillment-title\\\">\\r\\n                {{ 'order.fulfillment' | translate }} #{{ item.fulfillment.id }} ({{\\r\\n                    'order.item-count' | translate: { count: item.count }\\r\\n                }})\\r\\n            </div>\\r\\n            <vdr-labeled-data [label]=\\\"'common.created-at' | translate\\\">\\r\\n                {{ item.fulfillment.createdAt | localeDate: 'medium' }}\\r\\n            </vdr-labeled-data>\\r\\n            <vdr-labeled-data [label]=\\\"'order.fulfillment-method' | translate\\\">\\r\\n                {{ item.fulfillment.method }}\\r\\n            </vdr-labeled-data>\\r\\n            <vdr-labeled-data\\r\\n                *ngIf=\\\"item.fulfillment.trackingCode\\\"\\r\\n                [label]=\\\"'order.tracking-code' | translate\\\"\\r\\n            >\\r\\n                {{ item.fulfillment.trackingCode }}\\r\\n            </vdr-labeled-data>\\r\\n        </div>\\r\\n    </vdr-dropdown-menu>\\r\\n</vdr-dropdown>\\r\\n\", styles: [\".item-fulfilled{color:var(--color-success-700)}.item-partially-fulfilled{color:var(--color-warning-700)}.item-not-fulfilled{color:var(--color-error-700)}.fulfillment-detail{margin:6px 12px}.fulfillment-detail:not(:last-of-type){border-bottom:1px dashed var(--color-component-border-200)}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i3.ClrLabel, selector: \"label\", inputs: [\"for\"] }, { kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"component\", type: i1.DropdownComponent, selector: \"vdr-dropdown\", inputs: [\"manualToggle\"] }, { kind: \"component\", type: i1.DropdownMenuComponent, selector: \"vdr-dropdown-menu\", inputs: [\"vdrPosition\", \"customClasses\"] }, { kind: \"directive\", type: i1.DropdownTriggerDirective, selector: \"[vdrDropdownTrigger]\" }, { kind: \"component\", type: i1.LabeledDataComponent, selector: \"vdr-labeled-data\", inputs: [\"label\"] }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.LocaleDatePipe, name: \"localeDate\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: LineFulfillmentComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-line-fulfillment', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<vdr-dropdown class=\\\"search-settings-menu\\\" *ngIf=\\\"fulfilledCount || orderState === 'PartiallyDelivered'\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"icon-button\\\" vdrDropdownTrigger>\\r\\n        <clr-icon *ngIf=\\\"fulfillmentStatus === 'full'\\\" class=\\\"item-fulfilled\\\" shape=\\\"check-circle\\\"></clr-icon>\\r\\n        <clr-icon\\r\\n            *ngIf=\\\"fulfillmentStatus === 'partial'\\\"\\r\\n            class=\\\"item-partially-fulfilled\\\"\\r\\n            shape=\\\"check-circle\\\"\\r\\n        ></clr-icon>\\r\\n        <clr-icon\\r\\n            *ngIf=\\\"fulfillmentStatus === 'none'\\\"\\r\\n            class=\\\"item-not-fulfilled\\\"\\r\\n            shape=\\\"exclamation-circle\\\"\\r\\n        ></clr-icon>\\r\\n    </button>\\r\\n    <vdr-dropdown-menu vdrPosition=\\\"bottom-right\\\">\\r\\n        <label class=\\\"dropdown-header\\\" *ngIf=\\\"fulfillmentStatus === 'full'\\\">\\r\\n            {{ 'order.line-fulfillment-all' | translate }}\\r\\n        </label>\\r\\n        <label class=\\\"dropdown-header\\\" *ngIf=\\\"fulfillmentStatus === 'partial'\\\">\\r\\n            {{\\r\\n                'order.line-fulfillment-partial' | translate: { total: line.quantity, count: fulfilledCount }\\r\\n            }}\\r\\n        </label>\\r\\n        <label class=\\\"dropdown-header\\\" *ngIf=\\\"fulfillmentStatus === 'none'\\\">\\r\\n            {{ 'order.line-fulfillment-none' | translate }}\\r\\n        </label>\\r\\n        <div class=\\\"fulfillment-detail\\\" *ngFor=\\\"let item of fulfillments\\\">\\r\\n            <div class=\\\"fulfillment-title\\\">\\r\\n                {{ 'order.fulfillment' | translate }} #{{ item.fulfillment.id }} ({{\\r\\n                    'order.item-count' | translate: { count: item.count }\\r\\n                }})\\r\\n            </div>\\r\\n            <vdr-labeled-data [label]=\\\"'common.created-at' | translate\\\">\\r\\n                {{ item.fulfillment.createdAt | localeDate: 'medium' }}\\r\\n            </vdr-labeled-data>\\r\\n            <vdr-labeled-data [label]=\\\"'order.fulfillment-method' | translate\\\">\\r\\n                {{ item.fulfillment.method }}\\r\\n            </vdr-labeled-data>\\r\\n            <vdr-labeled-data\\r\\n                *ngIf=\\\"item.fulfillment.trackingCode\\\"\\r\\n                [label]=\\\"'order.tracking-code' | translate\\\"\\r\\n            >\\r\\n                {{ item.fulfillment.trackingCode }}\\r\\n            </vdr-labeled-data>\\r\\n        </div>\\r\\n    </vdr-dropdown-menu>\\r\\n</vdr-dropdown>\\r\\n\", styles: [\".item-fulfilled{color:var(--color-success-700)}.item-partially-fulfilled{color:var(--color-warning-700)}.item-not-fulfilled{color:var(--color-error-700)}.fulfillment-detail{margin:6px 12px}.fulfillment-detail:not(:last-of-type){border-bottom:1px dashed var(--color-component-border-200)}\\n\"] }]\n        }], propDecorators: { line: [{\n                type: Input\n            }], allOrderFulfillments: [{\n                type: Input\n            }], orderState: [{\n                type: Input\n            }] } });\n\nclass LineRefundsComponent {\n    getRefundedCount() {\n        const refundLines = this.payments\n            ?.reduce((all, payment) => [...all, ...payment.refunds], [])\n            .filter(refund => refund.state !== 'Failed')\n            .reduce((all, refund) => [...all, ...refund.lines], []) ?? [];\n        return refundLines\n            .filter(i => i.orderLineId === this.line.id)\n            .reduce((sum, i) => sum + i.quantity, 0);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: LineRefundsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: LineRefundsComponent, selector: \"vdr-line-refunds\", inputs: { line: \"line\", payments: \"payments\" }, ngImport: i0, template: \"<span *ngIf=\\\"getRefundedCount()\\\" [title]=\\\"'order.refunded-count' | translate: { count: getRefundedCount() }\\\">\\r\\n    <clr-icon shape=\\\"redo\\\" class=\\\"is-solid\\\" dir=\\\"down\\\"></clr-icon>\\r\\n</span>\\r\\n\", styles: [\":host{color:var(--color-error-500)}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i3$1.Dir, selector: \"[dir]\", inputs: [\"dir\"], outputs: [\"dirChange\"], exportAs: [\"dir\"] }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: LineRefundsComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-line-refunds', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<span *ngIf=\\\"getRefundedCount()\\\" [title]=\\\"'order.refunded-count' | translate: { count: getRefundedCount() }\\\">\\r\\n    <clr-icon shape=\\\"redo\\\" class=\\\"is-solid\\\" dir=\\\"down\\\"></clr-icon>\\r\\n</span>\\r\\n\", styles: [\":host{color:var(--color-error-500)}\\n\"] }]\n        }], propDecorators: { line: [{\n                type: Input\n            }], payments: [{\n                type: Input\n            }] } });\n\nclass OrderTotalColumnComponent extends DataTable2ColumnComponent {\n    constructor() {\n        super(...arguments);\n        this.orderable = false;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderTotalColumnComponent, deps: null, target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: OrderTotalColumnComponent, selector: \"vdr-order-total-column\", exportAs: [\"row\"], usesInheritance: true, ngImport: i0, template: ``, isInline: true }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderTotalColumnComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'vdr-order-total-column',\n                    template: ``,\n                    exportAs: 'row',\n                }]\n        }] });\n\nclass OrderDataTableComponent extends DataTable2Component {\n    get allColumns() {\n        return [...(this.columns ?? []), ...(this.customFieldColumns ?? []), ...(this.totalColumns ?? [])];\n    }\n    get sortedColumns() {\n        const columns = this.allColumns;\n        const dataTableConfig = this.getDataTableConfig();\n        for (const [id, index] of Object.entries(dataTableConfig[this.id].order)) {\n            const column = columns.find(c => c.id === id);\n            const currentIndex = columns.findIndex(c => c.id === id);\n            if (currentIndex !== -1 && column) {\n                columns.splice(currentIndex, 1);\n                columns.splice(index, 0, column);\n            }\n        }\n        return columns;\n    }\n    getPromotionLink(promotion) {\n        const id = promotion.adjustmentSource.split(':')[1];\n        return ['/marketing', 'promotions', id];\n    }\n    getCouponCodeForAdjustment(order, promotionAdjustment) {\n        const id = promotionAdjustment.adjustmentSource.split(':')[1];\n        const promotion = order.promotions.find(p => p.id === id);\n        if (promotion) {\n            return promotion.couponCode || undefined;\n        }\n    }\n    getShippingNames(order) {\n        if (order.shippingLines.length) {\n            return order.shippingLines.map(shippingLine => shippingLine.shippingMethod.name).join(', ');\n        }\n        else {\n            return '';\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderDataTableComponent, deps: null, target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: OrderDataTableComponent, selector: \"vdr-order-data-table\", inputs: { order: \"order\" }, queries: [{ propertyName: \"totalColumns\", predicate: OrderTotalColumnComponent }], usesInheritance: true, ngImport: i0, template: \"<div class=\\\"bulk-actions\\\">\\r\\n    <ng-content select=\\\"vdr-bulk-action-menu\\\"></ng-content>\\r\\n</div>\\r\\n<div class=\\\"table-wrapper\\\">\\r\\n    <table\\r\\n        class=\\\"\\\"\\r\\n        [class.no-select]=\\\"disableSelect\\\"\\r\\n    >\\r\\n        <thead [class.items-selected]=\\\"selectionManager?.selection.length\\\">\\r\\n            <tr class=\\\"heading-row\\\">\\r\\n                <th *ngIf=\\\"selectionManager\\\" class=\\\"selection-col\\\">\\r\\n                    <input\\r\\n                        type=\\\"checkbox\\\"\\r\\n                        clrCheckbox\\r\\n                        [checked]=\\\"selectionManager?.areAllCurrentItemsSelected()\\\"\\r\\n                        (change)=\\\"onToggleAllClick()\\\"\\r\\n                    />\\r\\n                </th>\\r\\n                <th\\r\\n                    *ngFor=\\\"let column of visibleSortedColumns; last as isLast\\\"\\r\\n                    [class.expand]=\\\"column.expand\\\"\\r\\n                >\\r\\n                    <div class=\\\"cell-content\\\" [ngClass]=\\\"column.align\\\">\\r\\n                        <vdr-ui-extension-point\\r\\n                            [locationId]=\\\"id\\\"\\r\\n                            [metadata]=\\\"column.id\\\"\\r\\n                            api=\\\"dataTable\\\"\\r\\n                            [topPx]=\\\"-6\\\"\\r\\n                            [leftPx]=\\\"-24\\\"\\r\\n                            display=\\\"block\\\"\\r\\n                        >\\r\\n                            <span>{{ column.heading }}</span>\\r\\n                        </vdr-ui-extension-point>\\r\\n                        <div *ngIf=\\\"column.sort as sort\\\" class=\\\"sort-toggle\\\">\\r\\n                            <button (click)=\\\"sort.toggleSortOrder()\\\" [class.active]=\\\"sort.sortOrder\\\">\\r\\n                                <clr-icon *ngIf=\\\"!sort.sortOrder\\\" shape=\\\"two-way-arrows left\\\"></clr-icon>\\r\\n                                <clr-icon *ngIf=\\\"sort.sortOrder === 'ASC'\\\" shape=\\\"arrow up\\\"></clr-icon>\\r\\n                                <clr-icon *ngIf=\\\"sort.sortOrder === 'DESC'\\\" shape=\\\"arrow down\\\"></clr-icon>\\r\\n                            </button>\\r\\n                            <div class=\\\"sort-label\\\" *ngIf=\\\"sort.sortOrder\\\">{{ sort.sortOrder }}</div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </th>\\r\\n                <th>\\r\\n                    <div class=\\\"column-picker\\\">\\r\\n                        <vdr-data-table-colum-picker\\r\\n                            [uiLanguage]=\\\"uiLanguage$ | async\\\"\\r\\n                            [columns]=\\\"sortedColumns\\\"\\r\\n                            (reorder)=\\\"onColumnReorder($event)\\\"\\r\\n                            (resetColumns)=\\\"onColumnsReset()\\\"\\r\\n                        ></vdr-data-table-colum-picker>\\r\\n                    </div>\\r\\n                </th>\\r\\n            </tr>\\r\\n            <tr *ngIf=\\\"searchComponent || customSearchTemplate || filters?.length\\\">\\r\\n                <th\\r\\n                    [attr.colspan]=\\\"visibleSortedColumns.length + (selectionManager ? 2 : 1)\\\"\\r\\n                    class=\\\"filter-row\\\"\\r\\n                    [class.active]=\\\"showSearchFilterRow\\\"\\r\\n                >\\r\\n                    <button\\r\\n                        class=\\\"button-ghost toggle-search-filter-row\\\"\\r\\n                        [class.active]=\\\"showSearchFilterRow\\\"\\r\\n                        (click)=\\\"toggleSearchFilterRow()\\\"\\r\\n                        [title]=\\\"'common.search-and-filter-list' | translate\\\"\\r\\n                    >\\r\\n                        <clr-icon shape=\\\"search\\\"></clr-icon>\\r\\n                    </button>\\r\\n                    <div class=\\\"filter-row-wrapper\\\" [class.hidden]=\\\"!showSearchFilterRow\\\">\\r\\n                        <ng-container *ngTemplateOutlet=\\\"searchComponent?.template\\\"></ng-container>\\r\\n                        <ng-container *ngTemplateOutlet=\\\"customSearchTemplate\\\"></ng-container>\\r\\n                        <ng-container *ngIf=\\\"filters\\\">\\r\\n                            <div class=\\\"filters\\\">\\r\\n                                <vdr-data-table-filters\\r\\n                                    *ngFor=\\\"let activeFilter of filters.activeFilters\\\"\\r\\n                                    [filterWithValue]=\\\"activeFilter\\\"\\r\\n                                    [filters]=\\\"filters\\\"\\r\\n                                    class=\\\"mt-1\\\"\\r\\n                                ></vdr-data-table-filters>\\r\\n                                <vdr-data-table-filters\\r\\n                                    *ngIf=\\\"filters.length\\\"\\r\\n                                    [filters]=\\\"filters\\\"\\r\\n                                    class=\\\"mt-1\\\"\\r\\n                                ></vdr-data-table-filters>\\r\\n                            </div>\\r\\n                        </ng-container>\\r\\n                    </div>\\r\\n                </th>\\r\\n            </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n            <tr\\r\\n                *ngFor=\\\"\\r\\n                    let item of items\\r\\n                        | paginate\\r\\n                            : {\\r\\n                                  id: id,\\r\\n                                  itemsPerPage: itemsPerPage,\\r\\n                                  currentPage: currentPage,\\r\\n                                  totalItems: totalItems\\r\\n                              };\\r\\n                    index as i;\\r\\n                    trackBy: trackByFn\\r\\n                \\\"\\r\\n            >\\r\\n                <td *ngIf=\\\"selectionManager\\\" class=\\\"selection-col\\\" [class.active]=\\\"activeIndex === i\\\">\\r\\n                    <input\\r\\n                        type=\\\"checkbox\\\"\\r\\n                        clrCheckbox\\r\\n                        [checked]=\\\"selectionManager?.isSelected(item)\\\"\\r\\n                        (click)=\\\"onRowClick(item, $event)\\\"\\r\\n                    />\\r\\n                </td>\\r\\n                <td *ngFor=\\\"let column of visibleSortedColumns\\\" [class.active]=\\\"activeIndex === i\\\">\\r\\n                    <div class=\\\"cell-content\\\" [ngClass]=\\\"column.align\\\">\\r\\n                        <ng-container\\r\\n                            *ngIf=\\\"customComponents.get(column.id) as componentConfig; else defaultComponent\\\"\\r\\n                        >\\r\\n                            <ng-container\\r\\n                                *ngComponentOutlet=\\\"\\r\\n                                    componentConfig.config.component;\\r\\n                                    inputs: { rowItem: item };\\r\\n                                    injector: componentConfig.injector\\r\\n                                \\\"\\r\\n                            ></ng-container>\\r\\n                        </ng-container>\\r\\n                        <ng-template #defaultComponent>\\r\\n                            <ng-container\\r\\n                                *ngTemplateOutlet=\\\"column.template; context: { item: item, index: i }\\\"\\r\\n                            ></ng-container>\\r\\n                        </ng-template>\\r\\n                    </div>\\r\\n                </td>\\r\\n                <td [class.active]=\\\"activeIndex === i\\\"><!-- column select --></td>\\r\\n            </tr>\\r\\n            <ng-container>\\r\\n                <tr *ngIf=\\\"!items?.length\\\">\\r\\n                    <td [attr.colspan]=\\\"visibleSortedColumns.length + (selectionManager ? 2 : 1)\\\">\\r\\n                        <vdr-empty-placeholder [emptyStateLabel]=\\\"'order.order-is-empty' | translate\\\"></vdr-empty-placeholder>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </ng-container>\\r\\n            <tr class=\\\"surcharge\\\" *ngFor=\\\"let surcharge of order.surcharges\\\">\\r\\n                <td class=\\\"align-middle name left\\\" colspan=\\\"2\\\">{{ surcharge.description }}</td>\\r\\n                <td class=\\\"align-middle sku\\\">{{ surcharge.sku }}</td>\\r\\n                <td class=\\\"align-middle\\\" [attr.colspan]=\\\"visibleSortedColumns.length - 4\\\"></td>\\r\\n                <td class=\\\"align-middle total\\\">\\r\\n                    {{ surcharge.priceWithTax | localeCurrency : order.currencyCode }}\\r\\n                    <div class=\\\"net-price\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                        {{ surcharge.price | localeCurrency : order.currencyCode }}\\r\\n                    </div>\\r\\n                </td>\\r\\n                <td><!-- column select --></td>\\r\\n            </tr>\\r\\n            <ng-container *ngFor=\\\"let discount of order.discounts\\\">\\r\\n                <tr class=\\\"order-adjustment\\\" *ngIf=\\\"discount.type !== 'OTHER'\\\">\\r\\n                    <td [attr.colspan]=\\\"visibleSortedColumns.length - 1\\\" class=\\\"\\\">\\r\\n                        <a [routerLink]=\\\"getPromotionLink(discount)\\\">{{ discount.description }}</a>\\r\\n                        <vdr-chip *ngIf=\\\"getCouponCodeForAdjustment(order, discount) as couponCode\\\">{{\\r\\n                            couponCode\\r\\n                        }}</vdr-chip>\\r\\n                    </td>\\r\\n                    <td class=\\\"\\\">\\r\\n                        {{ discount.amountWithTax | localeCurrency : order.currencyCode }}\\r\\n                        <div class=\\\"net-price\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                            {{ discount.amount | localeCurrency : order.currencyCode }}\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td><!-- column select --></td>\\r\\n                </tr>\\r\\n            </ng-container>\\r\\n            <tr class=\\\"sub-total\\\">\\r\\n                <td class=\\\"\\\">{{ 'order.sub-total' | translate }}</td>\\r\\n                <td [attr.colspan]=\\\"visibleSortedColumns.length - 2\\\"></td>\\r\\n                <td class=\\\"clr-align-middle\\\">\\r\\n                    {{ order.subTotalWithTax | localeCurrency : order.currencyCode }}\\r\\n                    <div class=\\\"net-price\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                        {{ order.subTotal | localeCurrency : order.currencyCode }}\\r\\n                    </div>\\r\\n                </td>\\r\\n                <td><!-- column select --></td>\\r\\n            </tr>\\r\\n            <tr class=\\\"shipping\\\">\\r\\n                <td class=\\\"\\\">{{ 'order.shipping' | translate }}</td>\\r\\n                <td [attr.colspan]=\\\"visibleSortedColumns.length - 2\\\">\\r\\n                    <vdr-chip *ngFor=\\\"let shippingLine of order.shippingLines\\\" class=\\\"shipping-method-name\\\">\\r\\n                        {{ shippingLine.shippingMethod.name }}\\r\\n                    </vdr-chip>\\r\\n                </td>\\r\\n                <td class=\\\"clr-align-middle\\\">\\r\\n                    {{ order.shippingWithTax | localeCurrency : order.currencyCode }}\\r\\n                    <div class=\\\"net-price\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                        {{ order.shipping | localeCurrency : order.currencyCode }}\\r\\n                    </div>\\r\\n                </td>\\r\\n                <td><!-- column select --></td>\\r\\n            </tr>\\r\\n            <tr class=\\\"total\\\">\\r\\n                <td class=\\\"\\\">{{ 'order.total' | translate }}</td>\\r\\n                <td [attr.colspan]=\\\"visibleSortedColumns.length - 2\\\"></td>\\r\\n                <td class=\\\"clr-align-middle\\\">\\r\\n                    {{ order.totalWithTax | localeCurrency : order.currencyCode }}\\r\\n                    <div class=\\\"net-price\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                        {{ order.total | localeCurrency : order.currencyCode }}\\r\\n                    </div>\\r\\n                </td>\\r\\n                <td><!-- column select --></td>\\r\\n            </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n</div>\\r\\n\", styles: [\":host{display:block;max-width:100%;position:relative;margin-bottom:calc(var(--space-unit) * 4);container-type:inline-size}th{border-bottom:1px solid var(--color-table-header-border);color:var(--color-weight-700);font-size:var(--font-size-xs);font-weight:600;text-transform:uppercase;position:relative;white-space:nowrap;background-color:transparent}th,td{padding:calc(var(--space-unit) * 1.5) calc(var(--space-unit) * 1);color:var(--color-text-100)}tr td:first-of-type,tr th:first-of-type{text-align:center}@media screen and (min-width: 992px){tr td:first-of-type,tr th:first-of-type{padding-inline-start:var(--surface-margin-left);text-align:start}}th:last-of-type,td:last-of-type{border-inline-end:1px solid var(--color-table-header-border)}tr:first-of-type th:last-of-type{border-image:linear-gradient(0deg,var(--color-table-header-border),transparent) 1}tr:last-of-type td:last-of-type{border-image:linear-gradient(180deg,var(--color-table-header-border),transparent) 1}tbody td{border-bottom:1px solid var(--color-table-row-separator)}tbody tr:hover{background-color:var(--color-table-row-hover-bg)}.bulk-actions{margin-inline-start:calc(var(--space-unit) * 5);background-color:var(--color-surface-bg);z-index:10;display:flex;position:absolute;top:5px;height:40px}@media screen and (min-width: 992px){.bulk-actions{margin-inline-start:calc(var(--space-unit) * 8.5)}}@media screen and (min-width: 1280px){.bulk-actions{margin-inline-start:calc(var(--space-unit) * 10.5)}}.table-wrapper{display:block;overflow-y:hidden;overflow-x:auto;position:relative;width:100%;max-width:var(--surface-width)}table{width:100%}table.no-select{-webkit-user-select:none;user-select:none}.column-picker{width:24px}.sort-toggle{display:flex;align-items:center;margin-inline-start:calc(var(--space-unit) * .5)}.sort-toggle button{border:0;border-radius:var(--border-radius-lg);color:var(--color-weight-500);padding:0 2px;cursor:pointer;background-color:transparent}.sort-toggle button.active{color:var(--color-primary-700)}.sort-toggle .sort-label{margin-inline-start:calc(var(--space-unit) * .5);font-size:10px;color:var(--color-primary-600);font-weight:400}.toggle-search-filter-row{position:absolute;top:-12px;left:4px}@media screen and (min-width: 1280px){.toggle-search-filter-row{left:8px}}.toggle-search-filter-row.active{background-color:var(--color-primary-700);color:var(--color-primary-100);border-color:var(--color-primary-700)}th.filter-row{position:relative;font-size:var(--font-size-base);font-weight:400;background-color:var(--color-weight-100);box-shadow:var(--data-table-filter-box-shadow);border-left-width:0;border-right-width:0;text-align:initial;padding:0}th.filter-row input{width:100%}th.filter-row.active{border-bottom:1px solid var(--color-table-header-border)}th.filter-row .filters{margin-top:calc(var(--space-unit) * 1);display:flex;flex-wrap:wrap;gap:calc(var(--space-unit) * .5)}.filter-row-wrapper{padding:calc(var(--space-unit) * 4);padding-inline-start:0;max-height:150px;transition:max-height .2s,padding .2s,opacity .2s}.filter-row-wrapper.hidden{max-height:0px;padding-top:0;padding-bottom:0;overflow:hidden;opacity:0}.cell-link{display:block;width:100%;height:100%}td.active{background-color:var(--color-table-row-active-bg)}.cell-content{display:flex;align-items:center;line-height:var(--font-size-sm);color:var(--color-weight-700)}.cell-content.left{justify-content:flex-start}.cell-content.center{justify-content:center}.cell-content.right{justify-content:flex-end}.selection-col{width:calc(var(--space-unit) * 8)}vdr-empty-placeholder{width:100%}.table-footer{display:flex;align-items:baseline;justify-content:space-between;margin-top:var(--space-unit);margin-inline-start:var(--surface-margin-left);margin-inline-end:var(--space-unit)}.total-items-count{font-size:var(--font-size-xs)}@container (max-width: 500px){.total-items-count{display:none}}\\n\", \":host .is-cancelled td{text-decoration:line-through;background-color:var(--color-component-bg-200)}:host .sub-total td{border-top:1px dashed var(--color-component-border-200)}:host .total td{font-weight:700;border-top:1px dashed var(--color-component-border-200)}:host td.custom-fields-row{border-top-style:dashed;border-top-color:var(--color-grey-200)}:host img{border-radius:var(--border-radius-img)}:host .order-line-custom-fields{display:flex;flex-wrap:wrap}:host .order-line-custom-fields .custom-field{text-align:start;max-width:200px;overflow:hidden;text-overflow:ellipsis;margin-bottom:6px;margin-inline-end:18px}:host .draft-qty{max-width:48px}:host .order-line-custom-field{background-color:var(--color-component-bg-100)}:host .order-line-custom-field .custom-field-ellipsis{color:var(--color-text-300)}:host .net-price{font-size:11px;color:var(--color-text-300);line-height:14px}:host .promotions-label{text-decoration:underline dotted var(--color-text-200);font-size:11px;margin-top:6px;cursor:pointer;text-transform:lowercase}:host .thumb img{width:50px;height:50px}:host .shipping-method-name{font-size:var(--font-size-xs);margin-inline-end:2px}:host .order-placed-quantity{text-decoration:line-through;color:var(--color-text-300);margin-inline-end:2px}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i3.ClrCheckbox, selector: \"[clrCheckbox],[clrToggle]\" }, { kind: \"directive\", type: i2$1.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: i2$1.NgComponentOutlet, selector: \"[ngComponentOutlet]\", inputs: [\"ngComponentOutlet\", \"ngComponentOutletInputs\", \"ngComponentOutletInjector\", \"ngComponentOutletContent\", \"ngComponentOutletNgModule\", \"ngComponentOutletNgModuleFactory\"] }, { kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i2$1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }, { kind: \"directive\", type: i1$1.RouterLink, selector: \"[routerLink]\", inputs: [\"target\", \"queryParams\", \"fragment\", \"queryParamsHandling\", \"state\", \"info\", \"relativeTo\", \"preserveFragment\", \"skipLocationChange\", \"replaceUrl\", \"routerLink\"] }, { kind: \"component\", type: i1.ChipComponent, selector: \"vdr-chip\", inputs: [\"icon\", \"invert\", \"colorFrom\", \"colorType\"], outputs: [\"iconClick\"] }, { kind: \"directive\", type: i1.FormFieldControlDirective, selector: \"input, textarea, select, vdr-currency-input\" }, { kind: \"component\", type: i1.EmptyPlaceholderComponent, selector: \"vdr-empty-placeholder\", inputs: [\"emptyStateLabel\"] }, { kind: \"component\", type: i1.UiExtensionPointComponent, selector: \"vdr-ui-extension-point\", inputs: [\"locationId\", \"metadata\", \"topPx\", \"leftPx\", \"display\", \"api\"] }, { kind: \"component\", type: i1.DataTableFiltersComponent, selector: \"vdr-data-table-filters\", inputs: [\"filters\", \"filterWithValue\"] }, { kind: \"component\", type: i1.DataTableColumnPickerComponent, selector: \"vdr-data-table-colum-picker\", inputs: [\"columns\", \"uiLanguage\"], outputs: [\"reorder\", \"resetColumns\"] }, { kind: \"pipe\", type: i2$1.AsyncPipe, name: \"async\" }, { kind: \"pipe\", type: i5$1.PaginatePipe, name: \"paginate\" }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderDataTableComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-order-data-table', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"bulk-actions\\\">\\r\\n    <ng-content select=\\\"vdr-bulk-action-menu\\\"></ng-content>\\r\\n</div>\\r\\n<div class=\\\"table-wrapper\\\">\\r\\n    <table\\r\\n        class=\\\"\\\"\\r\\n        [class.no-select]=\\\"disableSelect\\\"\\r\\n    >\\r\\n        <thead [class.items-selected]=\\\"selectionManager?.selection.length\\\">\\r\\n            <tr class=\\\"heading-row\\\">\\r\\n                <th *ngIf=\\\"selectionManager\\\" class=\\\"selection-col\\\">\\r\\n                    <input\\r\\n                        type=\\\"checkbox\\\"\\r\\n                        clrCheckbox\\r\\n                        [checked]=\\\"selectionManager?.areAllCurrentItemsSelected()\\\"\\r\\n                        (change)=\\\"onToggleAllClick()\\\"\\r\\n                    />\\r\\n                </th>\\r\\n                <th\\r\\n                    *ngFor=\\\"let column of visibleSortedColumns; last as isLast\\\"\\r\\n                    [class.expand]=\\\"column.expand\\\"\\r\\n                >\\r\\n                    <div class=\\\"cell-content\\\" [ngClass]=\\\"column.align\\\">\\r\\n                        <vdr-ui-extension-point\\r\\n                            [locationId]=\\\"id\\\"\\r\\n                            [metadata]=\\\"column.id\\\"\\r\\n                            api=\\\"dataTable\\\"\\r\\n                            [topPx]=\\\"-6\\\"\\r\\n                            [leftPx]=\\\"-24\\\"\\r\\n                            display=\\\"block\\\"\\r\\n                        >\\r\\n                            <span>{{ column.heading }}</span>\\r\\n                        </vdr-ui-extension-point>\\r\\n                        <div *ngIf=\\\"column.sort as sort\\\" class=\\\"sort-toggle\\\">\\r\\n                            <button (click)=\\\"sort.toggleSortOrder()\\\" [class.active]=\\\"sort.sortOrder\\\">\\r\\n                                <clr-icon *ngIf=\\\"!sort.sortOrder\\\" shape=\\\"two-way-arrows left\\\"></clr-icon>\\r\\n                                <clr-icon *ngIf=\\\"sort.sortOrder === 'ASC'\\\" shape=\\\"arrow up\\\"></clr-icon>\\r\\n                                <clr-icon *ngIf=\\\"sort.sortOrder === 'DESC'\\\" shape=\\\"arrow down\\\"></clr-icon>\\r\\n                            </button>\\r\\n                            <div class=\\\"sort-label\\\" *ngIf=\\\"sort.sortOrder\\\">{{ sort.sortOrder }}</div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </th>\\r\\n                <th>\\r\\n                    <div class=\\\"column-picker\\\">\\r\\n                        <vdr-data-table-colum-picker\\r\\n                            [uiLanguage]=\\\"uiLanguage$ | async\\\"\\r\\n                            [columns]=\\\"sortedColumns\\\"\\r\\n                            (reorder)=\\\"onColumnReorder($event)\\\"\\r\\n                            (resetColumns)=\\\"onColumnsReset()\\\"\\r\\n                        ></vdr-data-table-colum-picker>\\r\\n                    </div>\\r\\n                </th>\\r\\n            </tr>\\r\\n            <tr *ngIf=\\\"searchComponent || customSearchTemplate || filters?.length\\\">\\r\\n                <th\\r\\n                    [attr.colspan]=\\\"visibleSortedColumns.length + (selectionManager ? 2 : 1)\\\"\\r\\n                    class=\\\"filter-row\\\"\\r\\n                    [class.active]=\\\"showSearchFilterRow\\\"\\r\\n                >\\r\\n                    <button\\r\\n                        class=\\\"button-ghost toggle-search-filter-row\\\"\\r\\n                        [class.active]=\\\"showSearchFilterRow\\\"\\r\\n                        (click)=\\\"toggleSearchFilterRow()\\\"\\r\\n                        [title]=\\\"'common.search-and-filter-list' | translate\\\"\\r\\n                    >\\r\\n                        <clr-icon shape=\\\"search\\\"></clr-icon>\\r\\n                    </button>\\r\\n                    <div class=\\\"filter-row-wrapper\\\" [class.hidden]=\\\"!showSearchFilterRow\\\">\\r\\n                        <ng-container *ngTemplateOutlet=\\\"searchComponent?.template\\\"></ng-container>\\r\\n                        <ng-container *ngTemplateOutlet=\\\"customSearchTemplate\\\"></ng-container>\\r\\n                        <ng-container *ngIf=\\\"filters\\\">\\r\\n                            <div class=\\\"filters\\\">\\r\\n                                <vdr-data-table-filters\\r\\n                                    *ngFor=\\\"let activeFilter of filters.activeFilters\\\"\\r\\n                                    [filterWithValue]=\\\"activeFilter\\\"\\r\\n                                    [filters]=\\\"filters\\\"\\r\\n                                    class=\\\"mt-1\\\"\\r\\n                                ></vdr-data-table-filters>\\r\\n                                <vdr-data-table-filters\\r\\n                                    *ngIf=\\\"filters.length\\\"\\r\\n                                    [filters]=\\\"filters\\\"\\r\\n                                    class=\\\"mt-1\\\"\\r\\n                                ></vdr-data-table-filters>\\r\\n                            </div>\\r\\n                        </ng-container>\\r\\n                    </div>\\r\\n                </th>\\r\\n            </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n            <tr\\r\\n                *ngFor=\\\"\\r\\n                    let item of items\\r\\n                        | paginate\\r\\n                            : {\\r\\n                                  id: id,\\r\\n                                  itemsPerPage: itemsPerPage,\\r\\n                                  currentPage: currentPage,\\r\\n                                  totalItems: totalItems\\r\\n                              };\\r\\n                    index as i;\\r\\n                    trackBy: trackByFn\\r\\n                \\\"\\r\\n            >\\r\\n                <td *ngIf=\\\"selectionManager\\\" class=\\\"selection-col\\\" [class.active]=\\\"activeIndex === i\\\">\\r\\n                    <input\\r\\n                        type=\\\"checkbox\\\"\\r\\n                        clrCheckbox\\r\\n                        [checked]=\\\"selectionManager?.isSelected(item)\\\"\\r\\n                        (click)=\\\"onRowClick(item, $event)\\\"\\r\\n                    />\\r\\n                </td>\\r\\n                <td *ngFor=\\\"let column of visibleSortedColumns\\\" [class.active]=\\\"activeIndex === i\\\">\\r\\n                    <div class=\\\"cell-content\\\" [ngClass]=\\\"column.align\\\">\\r\\n                        <ng-container\\r\\n                            *ngIf=\\\"customComponents.get(column.id) as componentConfig; else defaultComponent\\\"\\r\\n                        >\\r\\n                            <ng-container\\r\\n                                *ngComponentOutlet=\\\"\\r\\n                                    componentConfig.config.component;\\r\\n                                    inputs: { rowItem: item };\\r\\n                                    injector: componentConfig.injector\\r\\n                                \\\"\\r\\n                            ></ng-container>\\r\\n                        </ng-container>\\r\\n                        <ng-template #defaultComponent>\\r\\n                            <ng-container\\r\\n                                *ngTemplateOutlet=\\\"column.template; context: { item: item, index: i }\\\"\\r\\n                            ></ng-container>\\r\\n                        </ng-template>\\r\\n                    </div>\\r\\n                </td>\\r\\n                <td [class.active]=\\\"activeIndex === i\\\"><!-- column select --></td>\\r\\n            </tr>\\r\\n            <ng-container>\\r\\n                <tr *ngIf=\\\"!items?.length\\\">\\r\\n                    <td [attr.colspan]=\\\"visibleSortedColumns.length + (selectionManager ? 2 : 1)\\\">\\r\\n                        <vdr-empty-placeholder [emptyStateLabel]=\\\"'order.order-is-empty' | translate\\\"></vdr-empty-placeholder>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </ng-container>\\r\\n            <tr class=\\\"surcharge\\\" *ngFor=\\\"let surcharge of order.surcharges\\\">\\r\\n                <td class=\\\"align-middle name left\\\" colspan=\\\"2\\\">{{ surcharge.description }}</td>\\r\\n                <td class=\\\"align-middle sku\\\">{{ surcharge.sku }}</td>\\r\\n                <td class=\\\"align-middle\\\" [attr.colspan]=\\\"visibleSortedColumns.length - 4\\\"></td>\\r\\n                <td class=\\\"align-middle total\\\">\\r\\n                    {{ surcharge.priceWithTax | localeCurrency : order.currencyCode }}\\r\\n                    <div class=\\\"net-price\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                        {{ surcharge.price | localeCurrency : order.currencyCode }}\\r\\n                    </div>\\r\\n                </td>\\r\\n                <td><!-- column select --></td>\\r\\n            </tr>\\r\\n            <ng-container *ngFor=\\\"let discount of order.discounts\\\">\\r\\n                <tr class=\\\"order-adjustment\\\" *ngIf=\\\"discount.type !== 'OTHER'\\\">\\r\\n                    <td [attr.colspan]=\\\"visibleSortedColumns.length - 1\\\" class=\\\"\\\">\\r\\n                        <a [routerLink]=\\\"getPromotionLink(discount)\\\">{{ discount.description }}</a>\\r\\n                        <vdr-chip *ngIf=\\\"getCouponCodeForAdjustment(order, discount) as couponCode\\\">{{\\r\\n                            couponCode\\r\\n                        }}</vdr-chip>\\r\\n                    </td>\\r\\n                    <td class=\\\"\\\">\\r\\n                        {{ discount.amountWithTax | localeCurrency : order.currencyCode }}\\r\\n                        <div class=\\\"net-price\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                            {{ discount.amount | localeCurrency : order.currencyCode }}\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td><!-- column select --></td>\\r\\n                </tr>\\r\\n            </ng-container>\\r\\n            <tr class=\\\"sub-total\\\">\\r\\n                <td class=\\\"\\\">{{ 'order.sub-total' | translate }}</td>\\r\\n                <td [attr.colspan]=\\\"visibleSortedColumns.length - 2\\\"></td>\\r\\n                <td class=\\\"clr-align-middle\\\">\\r\\n                    {{ order.subTotalWithTax | localeCurrency : order.currencyCode }}\\r\\n                    <div class=\\\"net-price\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                        {{ order.subTotal | localeCurrency : order.currencyCode }}\\r\\n                    </div>\\r\\n                </td>\\r\\n                <td><!-- column select --></td>\\r\\n            </tr>\\r\\n            <tr class=\\\"shipping\\\">\\r\\n                <td class=\\\"\\\">{{ 'order.shipping' | translate }}</td>\\r\\n                <td [attr.colspan]=\\\"visibleSortedColumns.length - 2\\\">\\r\\n                    <vdr-chip *ngFor=\\\"let shippingLine of order.shippingLines\\\" class=\\\"shipping-method-name\\\">\\r\\n                        {{ shippingLine.shippingMethod.name }}\\r\\n                    </vdr-chip>\\r\\n                </td>\\r\\n                <td class=\\\"clr-align-middle\\\">\\r\\n                    {{ order.shippingWithTax | localeCurrency : order.currencyCode }}\\r\\n                    <div class=\\\"net-price\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                        {{ order.shipping | localeCurrency : order.currencyCode }}\\r\\n                    </div>\\r\\n                </td>\\r\\n                <td><!-- column select --></td>\\r\\n            </tr>\\r\\n            <tr class=\\\"total\\\">\\r\\n                <td class=\\\"\\\">{{ 'order.total' | translate }}</td>\\r\\n                <td [attr.colspan]=\\\"visibleSortedColumns.length - 2\\\"></td>\\r\\n                <td class=\\\"clr-align-middle\\\">\\r\\n                    {{ order.totalWithTax | localeCurrency : order.currencyCode }}\\r\\n                    <div class=\\\"net-price\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                        {{ order.total | localeCurrency : order.currencyCode }}\\r\\n                    </div>\\r\\n                </td>\\r\\n                <td><!-- column select --></td>\\r\\n            </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n</div>\\r\\n\", styles: [\":host{display:block;max-width:100%;position:relative;margin-bottom:calc(var(--space-unit) * 4);container-type:inline-size}th{border-bottom:1px solid var(--color-table-header-border);color:var(--color-weight-700);font-size:var(--font-size-xs);font-weight:600;text-transform:uppercase;position:relative;white-space:nowrap;background-color:transparent}th,td{padding:calc(var(--space-unit) * 1.5) calc(var(--space-unit) * 1);color:var(--color-text-100)}tr td:first-of-type,tr th:first-of-type{text-align:center}@media screen and (min-width: 992px){tr td:first-of-type,tr th:first-of-type{padding-inline-start:var(--surface-margin-left);text-align:start}}th:last-of-type,td:last-of-type{border-inline-end:1px solid var(--color-table-header-border)}tr:first-of-type th:last-of-type{border-image:linear-gradient(0deg,var(--color-table-header-border),transparent) 1}tr:last-of-type td:last-of-type{border-image:linear-gradient(180deg,var(--color-table-header-border),transparent) 1}tbody td{border-bottom:1px solid var(--color-table-row-separator)}tbody tr:hover{background-color:var(--color-table-row-hover-bg)}.bulk-actions{margin-inline-start:calc(var(--space-unit) * 5);background-color:var(--color-surface-bg);z-index:10;display:flex;position:absolute;top:5px;height:40px}@media screen and (min-width: 992px){.bulk-actions{margin-inline-start:calc(var(--space-unit) * 8.5)}}@media screen and (min-width: 1280px){.bulk-actions{margin-inline-start:calc(var(--space-unit) * 10.5)}}.table-wrapper{display:block;overflow-y:hidden;overflow-x:auto;position:relative;width:100%;max-width:var(--surface-width)}table{width:100%}table.no-select{-webkit-user-select:none;user-select:none}.column-picker{width:24px}.sort-toggle{display:flex;align-items:center;margin-inline-start:calc(var(--space-unit) * .5)}.sort-toggle button{border:0;border-radius:var(--border-radius-lg);color:var(--color-weight-500);padding:0 2px;cursor:pointer;background-color:transparent}.sort-toggle button.active{color:var(--color-primary-700)}.sort-toggle .sort-label{margin-inline-start:calc(var(--space-unit) * .5);font-size:10px;color:var(--color-primary-600);font-weight:400}.toggle-search-filter-row{position:absolute;top:-12px;left:4px}@media screen and (min-width: 1280px){.toggle-search-filter-row{left:8px}}.toggle-search-filter-row.active{background-color:var(--color-primary-700);color:var(--color-primary-100);border-color:var(--color-primary-700)}th.filter-row{position:relative;font-size:var(--font-size-base);font-weight:400;background-color:var(--color-weight-100);box-shadow:var(--data-table-filter-box-shadow);border-left-width:0;border-right-width:0;text-align:initial;padding:0}th.filter-row input{width:100%}th.filter-row.active{border-bottom:1px solid var(--color-table-header-border)}th.filter-row .filters{margin-top:calc(var(--space-unit) * 1);display:flex;flex-wrap:wrap;gap:calc(var(--space-unit) * .5)}.filter-row-wrapper{padding:calc(var(--space-unit) * 4);padding-inline-start:0;max-height:150px;transition:max-height .2s,padding .2s,opacity .2s}.filter-row-wrapper.hidden{max-height:0px;padding-top:0;padding-bottom:0;overflow:hidden;opacity:0}.cell-link{display:block;width:100%;height:100%}td.active{background-color:var(--color-table-row-active-bg)}.cell-content{display:flex;align-items:center;line-height:var(--font-size-sm);color:var(--color-weight-700)}.cell-content.left{justify-content:flex-start}.cell-content.center{justify-content:center}.cell-content.right{justify-content:flex-end}.selection-col{width:calc(var(--space-unit) * 8)}vdr-empty-placeholder{width:100%}.table-footer{display:flex;align-items:baseline;justify-content:space-between;margin-top:var(--space-unit);margin-inline-start:var(--surface-margin-left);margin-inline-end:var(--space-unit)}.total-items-count{font-size:var(--font-size-xs)}@container (max-width: 500px){.total-items-count{display:none}}\\n\", \":host .is-cancelled td{text-decoration:line-through;background-color:var(--color-component-bg-200)}:host .sub-total td{border-top:1px dashed var(--color-component-border-200)}:host .total td{font-weight:700;border-top:1px dashed var(--color-component-border-200)}:host td.custom-fields-row{border-top-style:dashed;border-top-color:var(--color-grey-200)}:host img{border-radius:var(--border-radius-img)}:host .order-line-custom-fields{display:flex;flex-wrap:wrap}:host .order-line-custom-fields .custom-field{text-align:start;max-width:200px;overflow:hidden;text-overflow:ellipsis;margin-bottom:6px;margin-inline-end:18px}:host .draft-qty{max-width:48px}:host .order-line-custom-field{background-color:var(--color-component-bg-100)}:host .order-line-custom-field .custom-field-ellipsis{color:var(--color-text-300)}:host .net-price{font-size:11px;color:var(--color-text-300);line-height:14px}:host .promotions-label{text-decoration:underline dotted var(--color-text-200);font-size:11px;margin-top:6px;cursor:pointer;text-transform:lowercase}:host .thumb img{width:50px;height:50px}:host .shipping-method-name{font-size:var(--font-size-xs);margin-inline-end:2px}:host .order-placed-quantity{text-decoration:line-through;color:var(--color-text-300);margin-inline-end:2px}\\n\"] }]\n        }], propDecorators: { totalColumns: [{\n                type: ContentChildren,\n                args: [OrderTotalColumnComponent]\n            }], order: [{\n                type: Input\n            }] } });\n\nclass OrderTableComponent {\n    constructor() {\n        this.isDraft = false;\n        this.adjust = new EventEmitter();\n        this.remove = new EventEmitter();\n        this.orderLineCustomFieldsVisible = false;\n        this.customFieldsForLine = {};\n    }\n    get visibleOrderLineCustomFields() {\n        return this.orderLineCustomFieldsVisible ? this.orderLineCustomFields : [];\n    }\n    get showElided() {\n        return !this.orderLineCustomFieldsVisible && 0 < this.orderLineCustomFields.length;\n    }\n    ngOnInit() {\n        this.orderLineCustomFieldsVisible = this.orderLineCustomFields.length < 2;\n        this.getLineCustomFields();\n    }\n    draftInputBlur(line, quantity) {\n        if (line.quantity !== quantity) {\n            this.adjust.emit({ lineId: line.id, quantity });\n        }\n    }\n    toggleOrderLineCustomFields() {\n        this.orderLineCustomFieldsVisible = !this.orderLineCustomFieldsVisible;\n    }\n    getLineDiscounts(line) {\n        return line.discounts.filter(a => a.type === AdjustmentType.PROMOTION);\n    }\n    getLineCustomFields() {\n        for (const line of this.order.lines) {\n            const formGroup = new UntypedFormGroup({});\n            const result = this.orderLineCustomFields\n                .map(config => {\n                const value = line.customFields[config.name];\n                formGroup.addControl(config.name, new UntypedFormControl(value));\n                return {\n                    config,\n                    formGroup,\n                    value,\n                };\n            })\n                .filter(field => this.orderLineCustomFieldsVisible ? true : field.value != null);\n            this.customFieldsForLine[line.id] = result;\n        }\n    }\n    getPromotionLink(promotion) {\n        const id = promotion.adjustmentSource.split(':')[1];\n        return ['/marketing', 'promotions', id];\n    }\n    getCouponCodeForAdjustment(order, promotionAdjustment) {\n        const id = promotionAdjustment.adjustmentSource.split(':')[1];\n        const promotion = order.promotions.find(p => p.id === id);\n        if (promotion) {\n            return promotion.couponCode || undefined;\n        }\n    }\n    getShippingNames(order) {\n        if (order.shippingLines.length) {\n            return order.shippingLines.map(shippingLine => shippingLine.shippingMethod.name).join(', ');\n        }\n        else {\n            return '';\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderTableComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: OrderTableComponent, selector: \"vdr-order-table\", inputs: { order: \"order\", orderLineCustomFields: \"orderLineCustomFields\", isDraft: \"isDraft\" }, outputs: { adjust: \"adjust\", remove: \"remove\" }, ngImport: i0, template: \"<vdr-order-data-table id=\\\"order-detail-list\\\" [items]=\\\"order.lines\\\" [order]=\\\"order\\\">\\r\\n    <vdr-dt2-column id=\\\"id\\\" [heading]=\\\"'common.id' | translate\\\" [hiddenByDefault]=\\\"true\\\">\\r\\n        <ng-template let-line=\\\"item\\\">\\r\\n            {{ line.id }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n            id=\\\"created-at\\\"\\r\\n            [heading]=\\\"'common.created-at' | translate\\\"\\r\\n            [hiddenByDefault]=\\\"true\\\"\\r\\n    >\\r\\n        <ng-template let-line=\\\"item\\\">\\r\\n            {{ line.createdAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n            id=\\\"updated-at\\\"\\r\\n            [heading]=\\\"'common.updated-at' | translate\\\"\\r\\n            [hiddenByDefault]=\\\"true\\\"\\r\\n    >\\r\\n        <ng-template let-line=\\\"item\\\">\\r\\n            {{ line.updatedAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'common.image' | translate\\\" id=\\\"image\\\">\\r\\n        <ng-template let-line=\\\"item\\\">\\r\\n            <div class=\\\"image-placeholder\\\">\\r\\n                <img\\r\\n                    *ngIf=\\\"line.featuredAsset as asset; else imagePlaceholder\\\"\\r\\n                    [src]=\\\"asset | assetPreview : 'tiny'\\\"\\r\\n                />\\r\\n                <ng-template #imagePlaceholder>\\r\\n                    <div class=\\\"placeholder\\\">\\r\\n                        <clr-icon shape=\\\"image\\\" size=\\\"48\\\"></clr-icon>\\r\\n                    </div>\\r\\n                </ng-template>\\r\\n            </div>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.product-name' | translate\\\" id=\\\"product-name\\\">\\r\\n        <ng-template let-line=\\\"item\\\">\\r\\n            {{ line.productVariant.name }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.product-sku' | translate\\\" id=\\\"product-sku\\\" [optional]=\\\"false\\\">\\r\\n        <ng-template let-line=\\\"item\\\">\\r\\n            {{ line.productVariant.sku }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.unit-price' | translate\\\" id=\\\"unit-price\\\">\\r\\n        <ng-template let-line=\\\"item\\\">\\r\\n            <div class=\\\"unit-price\\\">\\r\\n                {{ line.unitPriceWithTax | localeCurrency : order.currencyCode }}\\r\\n                <div class=\\\"net-price\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                    {{ line.unitPrice | localeCurrency : order.currencyCode }}\\r\\n                </div>\\r\\n            </div>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.quantity' | translate\\\" id=\\\"quantity\\\" [optional]=\\\"false\\\">\\r\\n        <ng-template let-line=\\\"item\\\">\\r\\n            <ng-container *ngIf=\\\"!isDraft; else draft\\\">\\r\\n                <div class=\\\"flex\\\">\\r\\n                    <div\\r\\n                        *ngIf=\\\"line.orderPlacedQuantity && line.quantity !== line.orderPlacedQuantity\\\"\\r\\n                        class=\\\"order-placed-quantity\\\"\\r\\n                        [title]=\\\"'order.original-quantity-at-checkout' | translate\\\"\\r\\n                    >\\r\\n                        {{ line.orderPlacedQuantity }}\\r\\n                    </div>\\r\\n                    <div>{{ line.quantity }}</div>\\r\\n                </div>\\r\\n            </ng-container>\\r\\n            <ng-template #draft>\\r\\n                <div class=\\\"flex\\\">\\r\\n                    <input\\r\\n                        class=\\\"draft-qty\\\"\\r\\n                        type=\\\"number\\\"\\r\\n                        min=\\\"0\\\"\\r\\n                        #qtyInput\\r\\n                        [value]=\\\"line.quantity\\\"\\r\\n                        (blur)=\\\"draftInputBlur(line, qtyInput.valueAsNumber)\\\"\\r\\n                    />\\r\\n                    <button class=\\\"icon-button\\\" (click)=\\\"remove.emit({ lineId: line.id })\\\">\\r\\n                        <clr-icon shape=\\\"trash\\\"></clr-icon>\\r\\n                    </button>\\r\\n                </div>\\r\\n            </ng-template>\\r\\n            <vdr-line-refunds [line]=\\\"line\\\" [payments]=\\\"order.payments\\\"></vdr-line-refunds>\\r\\n            <vdr-line-fulfillment\\r\\n                [line]=\\\"line\\\"\\r\\n                [orderState]=\\\"order.state\\\"\\r\\n                [allOrderFulfillments]=\\\"order.fulfillments\\\"\\r\\n            ></vdr-line-fulfillment>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-custom-field-column\\r\\n        *ngFor=\\\"let customField of orderLineCustomFields\\\"\\r\\n        [customField]=\\\"customField\\\"\\r\\n    />\\r\\n    <vdr-order-total-column [heading]=\\\"'order.total' | translate\\\" id=\\\"total\\\" [optional]=\\\"false\\\">\\r\\n        <ng-template let-line=\\\"item\\\">\\r\\n            <div class=\\\"unit-price\\\">\\r\\n                {{ line.linePriceWithTax | localeCurrency : order.currencyCode }}\\r\\n                <div class=\\\"net-price\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                    {{ line.linePrice | localeCurrency : order.currencyCode }}\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <ng-container *ngIf=\\\"getLineDiscounts(line) as discounts\\\">\\r\\n                <vdr-dropdown *ngIf=\\\"discounts.length\\\">\\r\\n                    <div class=\\\"promotions-label\\\" vdrDropdownTrigger>\\r\\n                        {{ 'order.promotions-applied' | translate }}\\r\\n                    </div>\\r\\n                    <vdr-dropdown-menu>\\r\\n                        <div class=\\\"line-promotion\\\" *ngFor=\\\"let discount of discounts\\\">\\r\\n                            <a class=\\\"promotion-name\\\" [routerLink]=\\\"getPromotionLink(discount)\\\">{{\\r\\n                                discount.description\\r\\n                            }}</a>\\r\\n                            <div class=\\\"promotion-amount\\\">\\r\\n                                {{ discount.amountWithTax | localeCurrency : order.currencyCode }}\\r\\n                                <div class=\\\"net-price\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                                    {{ discount.amount | localeCurrency : order.currencyCode }}\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </vdr-dropdown-menu>\\r\\n                </vdr-dropdown>\\r\\n            </ng-container>\\r\\n        </ng-template>\\r\\n    </vdr-order-total-column>\\r\\n</vdr-order-data-table>\\r\\n\", styles: [\":host .is-cancelled td{text-decoration:line-through;background-color:var(--color-component-bg-200)}:host .sub-total td{border-top:1px dashed var(--color-component-border-200)}:host .total td{font-weight:700;border-top:1px dashed var(--color-component-border-200)}:host td.custom-fields-row{border-top-style:dashed;border-top-color:var(--color-grey-200)}:host img{border-radius:var(--border-radius-img)}:host .order-line-custom-fields{display:flex;flex-wrap:wrap}:host .order-line-custom-fields .custom-field{text-align:start;max-width:200px;overflow:hidden;text-overflow:ellipsis;margin-bottom:6px;margin-inline-end:18px}:host .draft-qty{max-width:48px}:host .order-line-custom-field{background-color:var(--color-component-bg-100)}:host .order-line-custom-field .custom-field-ellipsis{color:var(--color-text-300)}:host .net-price{font-size:11px;color:var(--color-text-300);line-height:14px}:host .promotions-label{text-decoration:underline dotted var(--color-text-200);font-size:11px;margin-top:6px;cursor:pointer;text-transform:lowercase}:host .thumb img{width:50px;height:50px}:host .shipping-method-name{font-size:var(--font-size-xs);margin-inline-end:2px}:host .order-placed-quantity{text-decoration:line-through;color:var(--color-text-300);margin-inline-end:2px}::ng-deep .line-promotion{display:flex;justify-content:space-between;padding:6px 12px}::ng-deep .line-promotion .promotion-amount{margin-inline-start:12px}::ng-deep .line-promotion .net-price{font-size:11px;color:var(--color-text-300)}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1$1.RouterLink, selector: \"[routerLink]\", inputs: [\"target\", \"queryParams\", \"fragment\", \"queryParamsHandling\", \"state\", \"info\", \"relativeTo\", \"preserveFragment\", \"skipLocationChange\", \"replaceUrl\", \"routerLink\"] }, { kind: \"directive\", type: i1.FormFieldControlDirective, selector: \"input, textarea, select, vdr-currency-input\" }, { kind: \"component\", type: i1.DropdownComponent, selector: \"vdr-dropdown\", inputs: [\"manualToggle\"] }, { kind: \"component\", type: i1.DropdownMenuComponent, selector: \"vdr-dropdown-menu\", inputs: [\"vdrPosition\", \"customClasses\"] }, { kind: \"directive\", type: i1.DropdownTriggerDirective, selector: \"[vdrDropdownTrigger]\" }, { kind: \"component\", type: i1.DataTable2ColumnComponent, selector: \"vdr-dt2-column\", inputs: [\"id\", \"expand\", \"heading\", \"align\", \"sort\", \"optional\", \"hiddenByDefault\", \"orderable\"], exportAs: [\"row\"] }, { kind: \"component\", type: i1.DataTableCustomFieldColumnComponent, selector: \"vdr-dt2-custom-field-column\", inputs: [\"customField\", \"sorts\"], exportAs: [\"row\"] }, { kind: \"component\", type: LineFulfillmentComponent, selector: \"vdr-line-fulfillment\", inputs: [\"line\", \"allOrderFulfillments\", \"orderState\"] }, { kind: \"component\", type: LineRefundsComponent, selector: \"vdr-line-refunds\", inputs: [\"line\", \"payments\"] }, { kind: \"component\", type: OrderDataTableComponent, selector: \"vdr-order-data-table\", inputs: [\"order\"] }, { kind: \"component\", type: OrderTotalColumnComponent, selector: \"vdr-order-total-column\", exportAs: [\"row\"] }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.AssetPreviewPipe, name: \"assetPreview\" }, { kind: \"pipe\", type: i1.LocaleDatePipe, name: \"localeDate\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderTableComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-order-table', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<vdr-order-data-table id=\\\"order-detail-list\\\" [items]=\\\"order.lines\\\" [order]=\\\"order\\\">\\r\\n    <vdr-dt2-column id=\\\"id\\\" [heading]=\\\"'common.id' | translate\\\" [hiddenByDefault]=\\\"true\\\">\\r\\n        <ng-template let-line=\\\"item\\\">\\r\\n            {{ line.id }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n            id=\\\"created-at\\\"\\r\\n            [heading]=\\\"'common.created-at' | translate\\\"\\r\\n            [hiddenByDefault]=\\\"true\\\"\\r\\n    >\\r\\n        <ng-template let-line=\\\"item\\\">\\r\\n            {{ line.createdAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column\\r\\n            id=\\\"updated-at\\\"\\r\\n            [heading]=\\\"'common.updated-at' | translate\\\"\\r\\n            [hiddenByDefault]=\\\"true\\\"\\r\\n    >\\r\\n        <ng-template let-line=\\\"item\\\">\\r\\n            {{ line.updatedAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'common.image' | translate\\\" id=\\\"image\\\">\\r\\n        <ng-template let-line=\\\"item\\\">\\r\\n            <div class=\\\"image-placeholder\\\">\\r\\n                <img\\r\\n                    *ngIf=\\\"line.featuredAsset as asset; else imagePlaceholder\\\"\\r\\n                    [src]=\\\"asset | assetPreview : 'tiny'\\\"\\r\\n                />\\r\\n                <ng-template #imagePlaceholder>\\r\\n                    <div class=\\\"placeholder\\\">\\r\\n                        <clr-icon shape=\\\"image\\\" size=\\\"48\\\"></clr-icon>\\r\\n                    </div>\\r\\n                </ng-template>\\r\\n            </div>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.product-name' | translate\\\" id=\\\"product-name\\\">\\r\\n        <ng-template let-line=\\\"item\\\">\\r\\n            {{ line.productVariant.name }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.product-sku' | translate\\\" id=\\\"product-sku\\\" [optional]=\\\"false\\\">\\r\\n        <ng-template let-line=\\\"item\\\">\\r\\n            {{ line.productVariant.sku }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.unit-price' | translate\\\" id=\\\"unit-price\\\">\\r\\n        <ng-template let-line=\\\"item\\\">\\r\\n            <div class=\\\"unit-price\\\">\\r\\n                {{ line.unitPriceWithTax | localeCurrency : order.currencyCode }}\\r\\n                <div class=\\\"net-price\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                    {{ line.unitPrice | localeCurrency : order.currencyCode }}\\r\\n                </div>\\r\\n            </div>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.quantity' | translate\\\" id=\\\"quantity\\\" [optional]=\\\"false\\\">\\r\\n        <ng-template let-line=\\\"item\\\">\\r\\n            <ng-container *ngIf=\\\"!isDraft; else draft\\\">\\r\\n                <div class=\\\"flex\\\">\\r\\n                    <div\\r\\n                        *ngIf=\\\"line.orderPlacedQuantity && line.quantity !== line.orderPlacedQuantity\\\"\\r\\n                        class=\\\"order-placed-quantity\\\"\\r\\n                        [title]=\\\"'order.original-quantity-at-checkout' | translate\\\"\\r\\n                    >\\r\\n                        {{ line.orderPlacedQuantity }}\\r\\n                    </div>\\r\\n                    <div>{{ line.quantity }}</div>\\r\\n                </div>\\r\\n            </ng-container>\\r\\n            <ng-template #draft>\\r\\n                <div class=\\\"flex\\\">\\r\\n                    <input\\r\\n                        class=\\\"draft-qty\\\"\\r\\n                        type=\\\"number\\\"\\r\\n                        min=\\\"0\\\"\\r\\n                        #qtyInput\\r\\n                        [value]=\\\"line.quantity\\\"\\r\\n                        (blur)=\\\"draftInputBlur(line, qtyInput.valueAsNumber)\\\"\\r\\n                    />\\r\\n                    <button class=\\\"icon-button\\\" (click)=\\\"remove.emit({ lineId: line.id })\\\">\\r\\n                        <clr-icon shape=\\\"trash\\\"></clr-icon>\\r\\n                    </button>\\r\\n                </div>\\r\\n            </ng-template>\\r\\n            <vdr-line-refunds [line]=\\\"line\\\" [payments]=\\\"order.payments\\\"></vdr-line-refunds>\\r\\n            <vdr-line-fulfillment\\r\\n                [line]=\\\"line\\\"\\r\\n                [orderState]=\\\"order.state\\\"\\r\\n                [allOrderFulfillments]=\\\"order.fulfillments\\\"\\r\\n            ></vdr-line-fulfillment>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-custom-field-column\\r\\n        *ngFor=\\\"let customField of orderLineCustomFields\\\"\\r\\n        [customField]=\\\"customField\\\"\\r\\n    />\\r\\n    <vdr-order-total-column [heading]=\\\"'order.total' | translate\\\" id=\\\"total\\\" [optional]=\\\"false\\\">\\r\\n        <ng-template let-line=\\\"item\\\">\\r\\n            <div class=\\\"unit-price\\\">\\r\\n                {{ line.linePriceWithTax | localeCurrency : order.currencyCode }}\\r\\n                <div class=\\\"net-price\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                    {{ line.linePrice | localeCurrency : order.currencyCode }}\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <ng-container *ngIf=\\\"getLineDiscounts(line) as discounts\\\">\\r\\n                <vdr-dropdown *ngIf=\\\"discounts.length\\\">\\r\\n                    <div class=\\\"promotions-label\\\" vdrDropdownTrigger>\\r\\n                        {{ 'order.promotions-applied' | translate }}\\r\\n                    </div>\\r\\n                    <vdr-dropdown-menu>\\r\\n                        <div class=\\\"line-promotion\\\" *ngFor=\\\"let discount of discounts\\\">\\r\\n                            <a class=\\\"promotion-name\\\" [routerLink]=\\\"getPromotionLink(discount)\\\">{{\\r\\n                                discount.description\\r\\n                            }}</a>\\r\\n                            <div class=\\\"promotion-amount\\\">\\r\\n                                {{ discount.amountWithTax | localeCurrency : order.currencyCode }}\\r\\n                                <div class=\\\"net-price\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                                    {{ discount.amount | localeCurrency : order.currencyCode }}\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </vdr-dropdown-menu>\\r\\n                </vdr-dropdown>\\r\\n            </ng-container>\\r\\n        </ng-template>\\r\\n    </vdr-order-total-column>\\r\\n</vdr-order-data-table>\\r\\n\", styles: [\":host .is-cancelled td{text-decoration:line-through;background-color:var(--color-component-bg-200)}:host .sub-total td{border-top:1px dashed var(--color-component-border-200)}:host .total td{font-weight:700;border-top:1px dashed var(--color-component-border-200)}:host td.custom-fields-row{border-top-style:dashed;border-top-color:var(--color-grey-200)}:host img{border-radius:var(--border-radius-img)}:host .order-line-custom-fields{display:flex;flex-wrap:wrap}:host .order-line-custom-fields .custom-field{text-align:start;max-width:200px;overflow:hidden;text-overflow:ellipsis;margin-bottom:6px;margin-inline-end:18px}:host .draft-qty{max-width:48px}:host .order-line-custom-field{background-color:var(--color-component-bg-100)}:host .order-line-custom-field .custom-field-ellipsis{color:var(--color-text-300)}:host .net-price{font-size:11px;color:var(--color-text-300);line-height:14px}:host .promotions-label{text-decoration:underline dotted var(--color-text-200);font-size:11px;margin-top:6px;cursor:pointer;text-transform:lowercase}:host .thumb img{width:50px;height:50px}:host .shipping-method-name{font-size:var(--font-size-xs);margin-inline-end:2px}:host .order-placed-quantity{text-decoration:line-through;color:var(--color-text-300);margin-inline-end:2px}::ng-deep .line-promotion{display:flex;justify-content:space-between;padding:6px 12px}::ng-deep .line-promotion .promotion-amount{margin-inline-start:12px}::ng-deep .line-promotion .net-price{font-size:11px;color:var(--color-text-300)}\\n\"] }]\n        }], propDecorators: { order: [{\n                type: Input\n            }], orderLineCustomFields: [{\n                type: Input\n            }], isDraft: [{\n                type: Input\n            }], adjust: [{\n                type: Output\n            }], remove: [{\n                type: Output\n            }] } });\n\nclass DraftOrderVariantSelectorComponent {\n    constructor(dataService) {\n        this.dataService = dataService;\n        this.addItem = new EventEmitter();\n        this.customFieldsFormGroup = new UntypedFormGroup({});\n        this.selectedVariantId$ = new Subject();\n        this.quantity = 1;\n    }\n    ngOnInit() {\n        this.selectedVariant$ = this.selectedVariantId$.pipe(switchMap(id => {\n            if (id) {\n                return this.dataService.product\n                    .getProductVariant(id)\n                    .mapSingle(({ productVariant }) => productVariant);\n            }\n            else {\n                return [undefined];\n            }\n        }));\n        for (const customField of this.orderLineCustomFields) {\n            this.customFieldsFormGroup.addControl(customField.name, new UntypedFormControl(''));\n        }\n    }\n    addItemClick(selectedVariant) {\n        if (selectedVariant) {\n            this.addItem.emit({\n                productVariantId: selectedVariant.id,\n                quantity: this.quantity,\n                customFields: this.orderLineCustomFields.length\n                    ? this.customFieldsFormGroup.value\n                    : undefined,\n            });\n            this.selectedVariantId$.next(undefined);\n            this.customFieldsFormGroup.reset();\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: DraftOrderVariantSelectorComponent, deps: [{ token: i1.DataService }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: DraftOrderVariantSelectorComponent, selector: \"vdr-draft-order-variant-selector\", inputs: { currencyCode: \"currencyCode\", orderLineCustomFields: \"orderLineCustomFields\" }, outputs: { addItem: \"addItem\" }, ngImport: i0, template: \"<div class=\\\"card\\\">\\r\\n    <div class=\\\"card-block\\\">\\r\\n        <h4 class=\\\"card-title\\\">{{ 'order.add-item-to-order' | translate }}</h4>\\r\\n        <vdr-product-variant-selector\\r\\n            (productSelected)=\\\"selectedVariantId$.next($event.productVariantId)\\\"\\r\\n        ></vdr-product-variant-selector>\\r\\n    </div>\\r\\n    <div class=\\\"card-block\\\" *ngIf=\\\"selectedVariant$ | async as selectedVariant\\\">\\r\\n        <div class=\\\"variant-details\\\">\\r\\n            <img class=\\\"mr-2\\\" [src]=\\\"selectedVariant.featuredAsset || selectedVariant.product.featuredAsset | assetPreview: 32\\\">\\r\\n            <div class=\\\"details\\\">\\r\\n                <div>{{ selectedVariant?.name }}</div>\\r\\n                <div class=\\\"small\\\">{{ selectedVariant?.sku }}</div>\\r\\n            </div>\\r\\n            <div class=\\\"details ml-4\\\">\\r\\n                <div class=\\\"small\\\">\\r\\n                    {{ 'catalog.stock-on-hand' | translate }}: {{ selectedVariant.stockOnHand }}\\r\\n                </div>\\r\\n                <div class=\\\"small\\\">\\r\\n                    {{ 'catalog.stock-allocated' | translate }}: {{ selectedVariant.stockAllocated }}\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"flex-spacer\\\"></div>\\r\\n            <div class=\\\"details\\\">\\r\\n                <div>{{ selectedVariant?.priceWithTax | localeCurrency: currencyCode }}</div>\\r\\n                <div class=\\\"small\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                    {{ selectedVariant?.price | localeCurrency: currencyCode }}\\r\\n                </div>\\r\\n            </div>\\r\\n            <div>\\r\\n                <input [disabled]=\\\"!selectedVariant\\\" type=\\\"number\\\" min=\\\"0\\\" [(ngModel)]=\\\"quantity\\\" />\\r\\n            </div>\\r\\n            <button\\r\\n                [disabled]=\\\"!selectedVariant\\\"\\r\\n                class=\\\"btn btn-small btn-primary\\\"\\r\\n                (click)=\\\"addItemClick(selectedVariant)\\\"\\r\\n            >\\r\\n                {{ 'order.add-item-to-order' | translate }}\\r\\n            </button>\\r\\n        </div>\\r\\n        <ng-container *ngIf=\\\"orderLineCustomFields.length\\\">\\r\\n            <div class=\\\"custom-field\\\" *ngFor=\\\"let field of orderLineCustomFields\\\">\\r\\n                <vdr-custom-field-control\\r\\n                    [compact]=\\\"true\\\"\\r\\n                    [readonly]=\\\"false\\\"\\r\\n                    [customField]=\\\"field\\\"\\r\\n                    [customFieldsFormGroup]=\\\"customFieldsFormGroup\\\"\\r\\n                ></vdr-custom-field-control>\\r\\n            </div>\\r\\n        </ng-container>\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\".variant-details{display:flex;align-items:center}.variant-details img{border-radius:var(--border-radius-img);width:32px;height:32px}.variant-details .details{font-size:.65rem;line-height:.7rem}.variant-details input{width:48px;margin:0 6px}.variant-details .small{font-size:11px;color:var(--color-text-300)}\\n\"], dependencies: [{ kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i2.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i2.NumberValueAccessor, selector: \"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]\" }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.MinValidator, selector: \"input[type=number][min][formControlName],input[type=number][min][formControl],input[type=number][min][ngModel]\", inputs: [\"min\"] }, { kind: \"directive\", type: i2.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { kind: \"component\", type: i1.CustomFieldControlComponent, selector: \"vdr-custom-field-control\", inputs: [\"entityName\", \"customFieldsFormGroup\", \"customField\", \"compact\", \"showLabel\", \"readonly\"] }, { kind: \"directive\", type: i1.FormFieldControlDirective, selector: \"input, textarea, select, vdr-currency-input\" }, { kind: \"component\", type: i1.ProductVariantSelectorComponent, selector: \"vdr-product-variant-selector\", outputs: [\"productSelected\"] }, { kind: \"pipe\", type: i2$1.AsyncPipe, name: \"async\" }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.AssetPreviewPipe, name: \"assetPreview\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: DraftOrderVariantSelectorComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-draft-order-variant-selector', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"card\\\">\\r\\n    <div class=\\\"card-block\\\">\\r\\n        <h4 class=\\\"card-title\\\">{{ 'order.add-item-to-order' | translate }}</h4>\\r\\n        <vdr-product-variant-selector\\r\\n            (productSelected)=\\\"selectedVariantId$.next($event.productVariantId)\\\"\\r\\n        ></vdr-product-variant-selector>\\r\\n    </div>\\r\\n    <div class=\\\"card-block\\\" *ngIf=\\\"selectedVariant$ | async as selectedVariant\\\">\\r\\n        <div class=\\\"variant-details\\\">\\r\\n            <img class=\\\"mr-2\\\" [src]=\\\"selectedVariant.featuredAsset || selectedVariant.product.featuredAsset | assetPreview: 32\\\">\\r\\n            <div class=\\\"details\\\">\\r\\n                <div>{{ selectedVariant?.name }}</div>\\r\\n                <div class=\\\"small\\\">{{ selectedVariant?.sku }}</div>\\r\\n            </div>\\r\\n            <div class=\\\"details ml-4\\\">\\r\\n                <div class=\\\"small\\\">\\r\\n                    {{ 'catalog.stock-on-hand' | translate }}: {{ selectedVariant.stockOnHand }}\\r\\n                </div>\\r\\n                <div class=\\\"small\\\">\\r\\n                    {{ 'catalog.stock-allocated' | translate }}: {{ selectedVariant.stockAllocated }}\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"flex-spacer\\\"></div>\\r\\n            <div class=\\\"details\\\">\\r\\n                <div>{{ selectedVariant?.priceWithTax | localeCurrency: currencyCode }}</div>\\r\\n                <div class=\\\"small\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                    {{ selectedVariant?.price | localeCurrency: currencyCode }}\\r\\n                </div>\\r\\n            </div>\\r\\n            <div>\\r\\n                <input [disabled]=\\\"!selectedVariant\\\" type=\\\"number\\\" min=\\\"0\\\" [(ngModel)]=\\\"quantity\\\" />\\r\\n            </div>\\r\\n            <button\\r\\n                [disabled]=\\\"!selectedVariant\\\"\\r\\n                class=\\\"btn btn-small btn-primary\\\"\\r\\n                (click)=\\\"addItemClick(selectedVariant)\\\"\\r\\n            >\\r\\n                {{ 'order.add-item-to-order' | translate }}\\r\\n            </button>\\r\\n        </div>\\r\\n        <ng-container *ngIf=\\\"orderLineCustomFields.length\\\">\\r\\n            <div class=\\\"custom-field\\\" *ngFor=\\\"let field of orderLineCustomFields\\\">\\r\\n                <vdr-custom-field-control\\r\\n                    [compact]=\\\"true\\\"\\r\\n                    [readonly]=\\\"false\\\"\\r\\n                    [customField]=\\\"field\\\"\\r\\n                    [customFieldsFormGroup]=\\\"customFieldsFormGroup\\\"\\r\\n                ></vdr-custom-field-control>\\r\\n            </div>\\r\\n        </ng-container>\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\".variant-details{display:flex;align-items:center}.variant-details img{border-radius:var(--border-radius-img);width:32px;height:32px}.variant-details .details{font-size:.65rem;line-height:.7rem}.variant-details input{width:48px;margin:0 6px}.variant-details .small{font-size:11px;color:var(--color-text-300)}\\n\"] }]\n        }], ctorParameters: () => [{ type: i1.DataService }], propDecorators: { currencyCode: [{\n                type: Input\n            }], orderLineCustomFields: [{\n                type: Input\n            }], addItem: [{\n                type: Output\n            }] } });\n\nclass DraftOrderDetailComponent extends TypedBaseDetailComponent {\n    constructor(changeDetector, dataService, notificationService, modalService, orderTransitionService) {\n        super();\n        this.changeDetector = changeDetector;\n        this.dataService = dataService;\n        this.notificationService = notificationService;\n        this.modalService = modalService;\n        this.orderTransitionService = orderTransitionService;\n        this.customFields = this.getCustomFieldConfig('Order');\n        this.orderLineCustomFields = this.getCustomFieldConfig('OrderLine');\n        this.detailForm = new UntypedFormGroup({});\n        this.fetchHistory = new Subject();\n        this.displayCouponCodeInput = false;\n    }\n    ngOnInit() {\n        this.init();\n        this.orderLineCustomFields = this.getCustomFieldConfig('OrderLine');\n        this.eligibleShippingMethods$ = this.entity$.pipe(switchMap(order => this.dataService.order\n            .getDraftOrderEligibleShippingMethods(order.id)\n            .mapSingle(({ eligibleShippingMethodsForDraftOrder }) => eligibleShippingMethodsForDraftOrder)));\n    }\n    ngOnDestroy() {\n        this.destroy();\n    }\n    addItemToOrder(event) {\n        this.dataService.order.addItemToDraftOrder(this.id, event).subscribe(result => {\n            if (result.addItemToDraftOrder.__typename !== 'Order') {\n                this.notificationService.error(result.addItemToDraftOrder.message);\n            }\n        });\n    }\n    adjustOrderLine(event) {\n        this.dataService.order\n            .adjustDraftOrderLine(this.id, { orderLineId: event.lineId, quantity: event.quantity })\n            .subscribe(result => {\n            if (result.adjustDraftOrderLine.__typename !== 'Order') {\n                this.notificationService.error(result.adjustDraftOrderLine.message);\n            }\n        });\n    }\n    removeOrderLine(event) {\n        this.dataService.order.removeDraftOrderLine(this.id, event.lineId).subscribe(result => {\n            if (result.removeDraftOrderLine.__typename !== 'Order') {\n                this.notificationService.error(result.removeDraftOrderLine.message);\n            }\n        });\n    }\n    getOrderAddressLines(orderAddress) {\n        if (!orderAddress) {\n            return [];\n        }\n        return Object.values(orderAddress)\n            .filter(val => val !== 'OrderAddress')\n            .filter(line => !!line);\n    }\n    setCustomer() {\n        this.modalService.fromComponent(SelectCustomerDialogComponent).subscribe(result => {\n            if (this.hasId(result)) {\n                this.dataService.order\n                    .setCustomerForDraftOrder(this.id, { customerId: result.id })\n                    .subscribe();\n            }\n            else if (result) {\n                const { note, ...input } = result;\n                this.dataService.order.setCustomerForDraftOrder(this.id, { input }).subscribe();\n            }\n        });\n    }\n    setShippingAddress() {\n        this.entity$\n            .pipe(take(1), switchMap(order => this.modalService.fromComponent(SelectAddressDialogComponent, {\n            locals: {\n                customerId: order.customer?.id,\n                currentAddress: order.shippingAddress ?? undefined,\n            },\n        })))\n            .subscribe(result => {\n            if (result) {\n                this.dataService.order.setDraftOrderShippingAddress(this.id, result).subscribe();\n            }\n        });\n    }\n    setBillingAddress() {\n        this.entity$\n            .pipe(take(1), switchMap(order => this.modalService.fromComponent(SelectAddressDialogComponent, {\n            locals: {\n                customerId: order.customer?.id,\n                currentAddress: order.billingAddress ?? undefined,\n            },\n        })))\n            .subscribe(result => {\n            if (result) {\n                this.dataService.order.setDraftOrderBillingAddress(this.id, result).subscribe();\n            }\n        });\n    }\n    applyCouponCode(couponCode) {\n        this.dataService.order.applyCouponCodeToDraftOrder(this.id, couponCode).subscribe();\n    }\n    removeCouponCode(couponCode) {\n        this.dataService.order.removeCouponCodeFromDraftOrder(this.id, couponCode).subscribe();\n    }\n    setShippingMethod() {\n        combineLatest(this.entity$, this.eligibleShippingMethods$)\n            .pipe(take(1), switchMap(([order, methods]) => this.modalService.fromComponent(SelectShippingMethodDialogComponent, {\n            locals: {\n                eligibleShippingMethods: methods,\n                currencyCode: order.currencyCode,\n                currentSelectionId: order.shippingLines?.[0]?.shippingMethod.id,\n            },\n        })))\n            .subscribe(result => {\n            if (result) {\n                this.dataService.order.setDraftOrderShippingMethod(this.id, result).subscribe();\n            }\n        });\n    }\n    updateCustomFields(customFieldsValue) {\n        this.dataService.order\n            .updateOrderCustomFields({\n            id: this.id,\n            customFields: customFieldsValue,\n        })\n            .subscribe();\n    }\n    deleteOrder() {\n        this.dataService.order.deleteDraftOrder(this.id).subscribe(({ deleteDraftOrder }) => {\n            if (deleteDraftOrder.result === DeletionResult.DELETED) {\n                this.notificationService.success(marker('common.notify-delete-success'), {\n                    entity: 'Order',\n                });\n                this.router.navigate(['/orders']);\n            }\n            else if (deleteDraftOrder.message) {\n                this.notificationService.error(deleteDraftOrder.message);\n            }\n        });\n    }\n    completeOrder() {\n        this.dataService.order\n            .transitionToState(this.id, 'ArrangingPayment')\n            .subscribe(({ transitionOrderToState }) => {\n            if (transitionOrderToState?.__typename === 'Order') {\n                this.router.navigate(['/orders', this.id]);\n            }\n            else if (transitionOrderToState?.__typename === 'OrderStateTransitionError') {\n                this.notificationService.error(transitionOrderToState.transitionError);\n            }\n        });\n    }\n    hasId(input) {\n        return typeof input === 'object' && !!input.id;\n    }\n    setFormValues(entity) {\n        // empty\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: DraftOrderDetailComponent, deps: [{ token: i0.ChangeDetectorRef }, { token: i1.DataService }, { token: i1.NotificationService }, { token: i1.ModalService }, { token: OrderTransitionService }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: DraftOrderDetailComponent, selector: \"vdr-draft-order-detail\", usesInheritance: true, ngImport: i0, template: \"<vdr-page-block>\\r\\n    <vdr-action-bar *ngIf=\\\"entity$ | async as order\\\">\\r\\n        <vdr-ab-left>\\r\\n            <div class=\\\"flex clr-align-items-center\\\">\\r\\n                <vdr-order-state-label [state]=\\\"order.state\\\"></vdr-order-state-label>\\r\\n            </div>\\r\\n        </vdr-ab-left>\\r\\n\\r\\n        <vdr-ab-right>\\r\\n            <vdr-action-bar-items locationId=\\\"draft-order-detail\\\" />\\r\\n            <button\\r\\n                class=\\\"btn btn-primary\\\"\\r\\n                (click)=\\\"completeOrder()\\\"\\r\\n                [disabled]=\\\"!order.customer || !order.lines.length || !order.shippingLines.length\\\"\\r\\n            >\\r\\n                <clr-icon shape=\\\"check\\\"></clr-icon>\\r\\n                {{ 'order.complete-draft-order' | translate }}\\r\\n            </button>\\r\\n            <vdr-action-bar-dropdown-menu [alwaysShow]=\\\"true\\\" locationId=\\\"draft-order-detail\\\">\\r\\n                <button type=\\\"button\\\" vdrDropdownItem (click)=\\\"deleteOrder()\\\">\\r\\n                    <clr-icon shape=\\\"trash\\\" class=\\\"is-danger\\\"></clr-icon>\\r\\n                    {{ 'order.delete-draft-order' | translate }}\\r\\n                </button>\\r\\n            </vdr-action-bar-dropdown-menu>\\r\\n        </vdr-ab-right>\\r\\n    </vdr-action-bar>\\r\\n</vdr-page-block>\\r\\n\\r\\n<vdr-page-detail-layout *ngIf=\\\"entity$ | async as order\\\">\\r\\n    <vdr-page-detail-sidebar>\\r\\n        <vdr-card [title]=\\\"'order.customer' | translate\\\">\\r\\n            <ng-template vdrCardControls>\\r\\n                <clr-icon *ngIf=\\\"!order.customer\\\" shape=\\\"unknown-status\\\" class=\\\"is-warning\\\"></clr-icon>\\r\\n                <clr-icon *ngIf=\\\"order.customer\\\" shape=\\\"check\\\" class=\\\"is-success\\\"></clr-icon>\\r\\n            </ng-template>\\r\\n            <vdr-customer-label\\r\\n                class=\\\"block mb-2\\\"\\r\\n                *ngIf=\\\"order.customer\\\"\\r\\n                [customer]=\\\"order.customer\\\"\\r\\n            ></vdr-customer-label>\\r\\n            <button class=\\\"button-small\\\" (click)=\\\"setCustomer()\\\">\\r\\n                {{ 'order.set-customer-for-order' | translate }}\\r\\n            </button>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.billing-address' | translate\\\">\\r\\n            <ng-template vdrCardControls>\\r\\n                <clr-icon\\r\\n                    *ngIf=\\\"!order.billingAddress.streetLine1\\\"\\r\\n                    shape=\\\"unknown-status\\\"\\r\\n                    class=\\\"is-warning\\\"\\r\\n                ></clr-icon>\\r\\n                <clr-icon\\r\\n                    *ngIf=\\\"order.billingAddress.streetLine1\\\"\\r\\n                    shape=\\\"check\\\"\\r\\n                    class=\\\"is-success\\\"\\r\\n                ></clr-icon>\\r\\n            </ng-template>\\r\\n            <vdr-formatted-address\\r\\n                class=\\\"block mb-2\\\"\\r\\n                *ngIf=\\\"order.billingAddress\\\"\\r\\n                [address]=\\\"order.billingAddress\\\"\\r\\n            ></vdr-formatted-address>\\r\\n            <button class=\\\"button-small\\\" (click)=\\\"setBillingAddress()\\\">\\r\\n                {{ 'order.set-billing-address' | translate }}\\r\\n            </button>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.shipping' | translate\\\">\\r\\n            <ng-template vdrCardControls>\\r\\n                <clr-icon\\r\\n                    *ngIf=\\\"!order.shippingAddress.streetLine1 || !order.shippingLines.length\\\"\\r\\n                    shape=\\\"unknown-status\\\"\\r\\n                    class=\\\"is-warning\\\"\\r\\n                ></clr-icon>\\r\\n                <clr-icon\\r\\n                    *ngIf=\\\"order.shippingAddress.streetLine1 && order.shippingLines.length\\\"\\r\\n                    shape=\\\"check\\\"\\r\\n                    class=\\\"is-success\\\"\\r\\n                ></clr-icon>\\r\\n            </ng-template>\\r\\n            <vdr-formatted-address\\r\\n                class=\\\"block mb-2\\\"\\r\\n                *ngIf=\\\"order.shippingAddress\\\"\\r\\n                [address]=\\\"order.shippingAddress\\\"\\r\\n            ></vdr-formatted-address>\\r\\n            <button class=\\\"button-small mr-2\\\" (click)=\\\"setShippingAddress()\\\">\\r\\n                {{ 'order.set-shipping-address' | translate }}\\r\\n            </button>\\r\\n\\r\\n            <div *ngFor=\\\"let shippingLine of order.shippingLines\\\">\\r\\n                {{ shippingLine.shippingMethod.name }}\\r\\n            </div>\\r\\n            <button class=\\\"button-small\\\" (click)=\\\"setShippingMethod()\\\">\\r\\n                {{ 'order.set-shipping-method' | translate }}\\r\\n            </button>\\r\\n        </vdr-card>\\r\\n        <vdr-card>\\r\\n            <button\\r\\n                *ngIf=\\\"order.couponCodes.length === 0 && !displayCouponCodeInput\\\"\\r\\n                class=\\\"button-small\\\"\\r\\n                (click)=\\\"displayCouponCodeInput = !displayCouponCodeInput\\\"\\r\\n            >\\r\\n                {{ 'order.set-coupon-codes' | translate }}\\r\\n            </button>\\r\\n            <div *ngIf=\\\"order.couponCodes.length || displayCouponCodeInput\\\">\\r\\n                <label>{{ 'order.set-coupon-codes' | translate }}</label>\\r\\n                <vdr-coupon-code-selector\\r\\n                    [couponCodes]=\\\"order.couponCodes\\\"\\r\\n                    (addCouponCode)=\\\"applyCouponCode($event)\\\"\\r\\n                    (removeCouponCode)=\\\"removeCouponCode($event)\\\"\\r\\n                ></vdr-coupon-code-selector>\\r\\n            </div>\\r\\n        </vdr-card>\\r\\n        <vdr-card>\\r\\n            <vdr-page-entity-info *ngIf=\\\"entity$ | async as entity\\\" [entity]=\\\"entity\\\" />\\r\\n        </vdr-card>\\r\\n    </vdr-page-detail-sidebar>\\r\\n    <vdr-page-block>\\r\\n        <vdr-card>\\r\\n            <vdr-draft-order-variant-selector\\r\\n                [orderLineCustomFields]=\\\"orderLineCustomFields\\\"\\r\\n                [currencyCode]=\\\"order.currencyCode\\\"\\r\\n                (addItem)=\\\"addItemToOrder($event)\\\"\\r\\n            ></vdr-draft-order-variant-selector>\\r\\n            <vdr-order-table\\r\\n                [order]=\\\"order\\\"\\r\\n                [orderLineCustomFields]=\\\"orderLineCustomFields\\\"\\r\\n                [isDraft]=\\\"true\\\"\\r\\n                (adjust)=\\\"adjustOrderLine($event)\\\"\\r\\n                (remove)=\\\"removeOrderLine($event)\\\"\\r\\n            ></vdr-order-table>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.tax-summary' | translate\\\">\\r\\n            <ng-container *ngIf=\\\"order.taxSummary.length\\\">\\r\\n                <table class=\\\"table\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th>{{ 'common.description' | translate }}</th>\\r\\n                            <th>{{ 'order.tax-rate' | translate }}</th>\\r\\n                            <th>{{ 'order.tax-base' | translate }}</th>\\r\\n                            <th>{{ 'order.tax-total' | translate }}</th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                        <tr *ngFor=\\\"let row of order.taxSummary\\\">\\r\\n                            <td>{{ row.description }}</td>\\r\\n                            <td>{{ row.taxRate / 100 | percent }}</td>\\r\\n                            <td>{{ row.taxBase | localeCurrency : order.currencyCode }}</td>\\r\\n                            <td>{{ row.taxTotal | localeCurrency : order.currencyCode }}</td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n            </ng-container>\\r\\n        </vdr-card>\\r\\n        <vdr-custom-detail-component-host\\r\\n            locationId=\\\"draft-order-detail\\\"\\r\\n            [entity$]=\\\"entity$\\\"\\r\\n            [detailForm]=\\\"detailForm\\\"\\r\\n        ></vdr-custom-detail-component-host>\\r\\n\\r\\n        <vdr-order-custom-fields-card\\r\\n            [customFieldsConfig]=\\\"customFields\\\"\\r\\n            [customFieldValues]=\\\"order.customFields\\\"\\r\\n            (updateClick)=\\\"updateCustomFields($event)\\\"\\r\\n        ></vdr-order-custom-fields-card>\\r\\n    </vdr-page-block>\\r\\n</vdr-page-detail-layout>\\r\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i3.ClrLabel, selector: \"label\", inputs: [\"for\"] }, { kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"component\", type: i1.ActionBarComponent, selector: \"vdr-action-bar\" }, { kind: \"component\", type: i1.ActionBarLeftComponent, selector: \"vdr-ab-left\", inputs: [\"grow\"] }, { kind: \"component\", type: i1.ActionBarRightComponent, selector: \"vdr-ab-right\", inputs: [\"grow\"] }, { kind: \"component\", type: i1.ActionBarDropdownMenuComponent, selector: \"vdr-action-bar-dropdown-menu\", inputs: [\"alwaysShow\"] }, { kind: \"component\", type: i1.CustomerLabelComponent, selector: \"vdr-customer-label\", inputs: [\"customer\"] }, { kind: \"directive\", type: i1.DropdownItemDirective, selector: \"[vdrDropdownItem]\" }, { kind: \"component\", type: i1.OrderStateLabelComponent, selector: \"vdr-order-state-label\", inputs: [\"state\"] }, { kind: \"component\", type: i1.FormattedAddressComponent, selector: \"vdr-formatted-address\", inputs: [\"address\"] }, { kind: \"component\", type: i1.ActionBarItemsComponent, selector: \"vdr-action-bar-items\" }, { kind: \"component\", type: i1.CustomDetailComponentHostComponent, selector: \"vdr-custom-detail-component-host\", inputs: [\"locationId\", \"entity$\", \"detailForm\"] }, { kind: \"component\", type: i1.PageBlockComponent, selector: \"vdr-page-block\" }, { kind: \"component\", type: i1.PageEntityInfoComponent, selector: \"vdr-page-entity-info\", inputs: [\"entity\"] }, { kind: \"component\", type: i1.PageDetailLayoutComponent, selector: \"vdr-page-detail-layout\" }, { kind: \"component\", type: i1.PageDetailSidebarComponent, selector: \"vdr-page-detail-sidebar\" }, { kind: \"component\", type: i1.CardComponent, selector: \"vdr-card\", inputs: [\"title\", \"paddingX\"] }, { kind: \"directive\", type: i1.CardControlsDirective, selector: \"[vdrCardControls]\" }, { kind: \"component\", type: OrderCustomFieldsCardComponent, selector: \"vdr-order-custom-fields-card\", inputs: [\"customFieldsConfig\", \"customFieldValues\"], outputs: [\"updateClick\"] }, { kind: \"component\", type: OrderTableComponent, selector: \"vdr-order-table\", inputs: [\"order\", \"orderLineCustomFields\", \"isDraft\"], outputs: [\"adjust\", \"remove\"] }, { kind: \"component\", type: DraftOrderVariantSelectorComponent, selector: \"vdr-draft-order-variant-selector\", inputs: [\"currencyCode\", \"orderLineCustomFields\"], outputs: [\"addItem\"] }, { kind: \"component\", type: CouponCodeSelectorComponent, selector: \"vdr-coupon-code-selector\", inputs: [\"couponCodes\", \"control\"], outputs: [\"addCouponCode\", \"removeCouponCode\"] }, { kind: \"pipe\", type: i2$1.AsyncPipe, name: \"async\" }, { kind: \"pipe\", type: i2$1.PercentPipe, name: \"percent\" }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: DraftOrderDetailComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-draft-order-detail', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<vdr-page-block>\\r\\n    <vdr-action-bar *ngIf=\\\"entity$ | async as order\\\">\\r\\n        <vdr-ab-left>\\r\\n            <div class=\\\"flex clr-align-items-center\\\">\\r\\n                <vdr-order-state-label [state]=\\\"order.state\\\"></vdr-order-state-label>\\r\\n            </div>\\r\\n        </vdr-ab-left>\\r\\n\\r\\n        <vdr-ab-right>\\r\\n            <vdr-action-bar-items locationId=\\\"draft-order-detail\\\" />\\r\\n            <button\\r\\n                class=\\\"btn btn-primary\\\"\\r\\n                (click)=\\\"completeOrder()\\\"\\r\\n                [disabled]=\\\"!order.customer || !order.lines.length || !order.shippingLines.length\\\"\\r\\n            >\\r\\n                <clr-icon shape=\\\"check\\\"></clr-icon>\\r\\n                {{ 'order.complete-draft-order' | translate }}\\r\\n            </button>\\r\\n            <vdr-action-bar-dropdown-menu [alwaysShow]=\\\"true\\\" locationId=\\\"draft-order-detail\\\">\\r\\n                <button type=\\\"button\\\" vdrDropdownItem (click)=\\\"deleteOrder()\\\">\\r\\n                    <clr-icon shape=\\\"trash\\\" class=\\\"is-danger\\\"></clr-icon>\\r\\n                    {{ 'order.delete-draft-order' | translate }}\\r\\n                </button>\\r\\n            </vdr-action-bar-dropdown-menu>\\r\\n        </vdr-ab-right>\\r\\n    </vdr-action-bar>\\r\\n</vdr-page-block>\\r\\n\\r\\n<vdr-page-detail-layout *ngIf=\\\"entity$ | async as order\\\">\\r\\n    <vdr-page-detail-sidebar>\\r\\n        <vdr-card [title]=\\\"'order.customer' | translate\\\">\\r\\n            <ng-template vdrCardControls>\\r\\n                <clr-icon *ngIf=\\\"!order.customer\\\" shape=\\\"unknown-status\\\" class=\\\"is-warning\\\"></clr-icon>\\r\\n                <clr-icon *ngIf=\\\"order.customer\\\" shape=\\\"check\\\" class=\\\"is-success\\\"></clr-icon>\\r\\n            </ng-template>\\r\\n            <vdr-customer-label\\r\\n                class=\\\"block mb-2\\\"\\r\\n                *ngIf=\\\"order.customer\\\"\\r\\n                [customer]=\\\"order.customer\\\"\\r\\n            ></vdr-customer-label>\\r\\n            <button class=\\\"button-small\\\" (click)=\\\"setCustomer()\\\">\\r\\n                {{ 'order.set-customer-for-order' | translate }}\\r\\n            </button>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.billing-address' | translate\\\">\\r\\n            <ng-template vdrCardControls>\\r\\n                <clr-icon\\r\\n                    *ngIf=\\\"!order.billingAddress.streetLine1\\\"\\r\\n                    shape=\\\"unknown-status\\\"\\r\\n                    class=\\\"is-warning\\\"\\r\\n                ></clr-icon>\\r\\n                <clr-icon\\r\\n                    *ngIf=\\\"order.billingAddress.streetLine1\\\"\\r\\n                    shape=\\\"check\\\"\\r\\n                    class=\\\"is-success\\\"\\r\\n                ></clr-icon>\\r\\n            </ng-template>\\r\\n            <vdr-formatted-address\\r\\n                class=\\\"block mb-2\\\"\\r\\n                *ngIf=\\\"order.billingAddress\\\"\\r\\n                [address]=\\\"order.billingAddress\\\"\\r\\n            ></vdr-formatted-address>\\r\\n            <button class=\\\"button-small\\\" (click)=\\\"setBillingAddress()\\\">\\r\\n                {{ 'order.set-billing-address' | translate }}\\r\\n            </button>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.shipping' | translate\\\">\\r\\n            <ng-template vdrCardControls>\\r\\n                <clr-icon\\r\\n                    *ngIf=\\\"!order.shippingAddress.streetLine1 || !order.shippingLines.length\\\"\\r\\n                    shape=\\\"unknown-status\\\"\\r\\n                    class=\\\"is-warning\\\"\\r\\n                ></clr-icon>\\r\\n                <clr-icon\\r\\n                    *ngIf=\\\"order.shippingAddress.streetLine1 && order.shippingLines.length\\\"\\r\\n                    shape=\\\"check\\\"\\r\\n                    class=\\\"is-success\\\"\\r\\n                ></clr-icon>\\r\\n            </ng-template>\\r\\n            <vdr-formatted-address\\r\\n                class=\\\"block mb-2\\\"\\r\\n                *ngIf=\\\"order.shippingAddress\\\"\\r\\n                [address]=\\\"order.shippingAddress\\\"\\r\\n            ></vdr-formatted-address>\\r\\n            <button class=\\\"button-small mr-2\\\" (click)=\\\"setShippingAddress()\\\">\\r\\n                {{ 'order.set-shipping-address' | translate }}\\r\\n            </button>\\r\\n\\r\\n            <div *ngFor=\\\"let shippingLine of order.shippingLines\\\">\\r\\n                {{ shippingLine.shippingMethod.name }}\\r\\n            </div>\\r\\n            <button class=\\\"button-small\\\" (click)=\\\"setShippingMethod()\\\">\\r\\n                {{ 'order.set-shipping-method' | translate }}\\r\\n            </button>\\r\\n        </vdr-card>\\r\\n        <vdr-card>\\r\\n            <button\\r\\n                *ngIf=\\\"order.couponCodes.length === 0 && !displayCouponCodeInput\\\"\\r\\n                class=\\\"button-small\\\"\\r\\n                (click)=\\\"displayCouponCodeInput = !displayCouponCodeInput\\\"\\r\\n            >\\r\\n                {{ 'order.set-coupon-codes' | translate }}\\r\\n            </button>\\r\\n            <div *ngIf=\\\"order.couponCodes.length || displayCouponCodeInput\\\">\\r\\n                <label>{{ 'order.set-coupon-codes' | translate }}</label>\\r\\n                <vdr-coupon-code-selector\\r\\n                    [couponCodes]=\\\"order.couponCodes\\\"\\r\\n                    (addCouponCode)=\\\"applyCouponCode($event)\\\"\\r\\n                    (removeCouponCode)=\\\"removeCouponCode($event)\\\"\\r\\n                ></vdr-coupon-code-selector>\\r\\n            </div>\\r\\n        </vdr-card>\\r\\n        <vdr-card>\\r\\n            <vdr-page-entity-info *ngIf=\\\"entity$ | async as entity\\\" [entity]=\\\"entity\\\" />\\r\\n        </vdr-card>\\r\\n    </vdr-page-detail-sidebar>\\r\\n    <vdr-page-block>\\r\\n        <vdr-card>\\r\\n            <vdr-draft-order-variant-selector\\r\\n                [orderLineCustomFields]=\\\"orderLineCustomFields\\\"\\r\\n                [currencyCode]=\\\"order.currencyCode\\\"\\r\\n                (addItem)=\\\"addItemToOrder($event)\\\"\\r\\n            ></vdr-draft-order-variant-selector>\\r\\n            <vdr-order-table\\r\\n                [order]=\\\"order\\\"\\r\\n                [orderLineCustomFields]=\\\"orderLineCustomFields\\\"\\r\\n                [isDraft]=\\\"true\\\"\\r\\n                (adjust)=\\\"adjustOrderLine($event)\\\"\\r\\n                (remove)=\\\"removeOrderLine($event)\\\"\\r\\n            ></vdr-order-table>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.tax-summary' | translate\\\">\\r\\n            <ng-container *ngIf=\\\"order.taxSummary.length\\\">\\r\\n                <table class=\\\"table\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th>{{ 'common.description' | translate }}</th>\\r\\n                            <th>{{ 'order.tax-rate' | translate }}</th>\\r\\n                            <th>{{ 'order.tax-base' | translate }}</th>\\r\\n                            <th>{{ 'order.tax-total' | translate }}</th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                        <tr *ngFor=\\\"let row of order.taxSummary\\\">\\r\\n                            <td>{{ row.description }}</td>\\r\\n                            <td>{{ row.taxRate / 100 | percent }}</td>\\r\\n                            <td>{{ row.taxBase | localeCurrency : order.currencyCode }}</td>\\r\\n                            <td>{{ row.taxTotal | localeCurrency : order.currencyCode }}</td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n            </ng-container>\\r\\n        </vdr-card>\\r\\n        <vdr-custom-detail-component-host\\r\\n            locationId=\\\"draft-order-detail\\\"\\r\\n            [entity$]=\\\"entity$\\\"\\r\\n            [detailForm]=\\\"detailForm\\\"\\r\\n        ></vdr-custom-detail-component-host>\\r\\n\\r\\n        <vdr-order-custom-fields-card\\r\\n            [customFieldsConfig]=\\\"customFields\\\"\\r\\n            [customFieldValues]=\\\"order.customFields\\\"\\r\\n            (updateClick)=\\\"updateCustomFields($event)\\\"\\r\\n        ></vdr-order-custom-fields-card>\\r\\n    </vdr-page-block>\\r\\n</vdr-page-detail-layout>\\r\\n\" }]\n        }], ctorParameters: () => [{ type: i0.ChangeDetectorRef }, { type: i1.DataService }, { type: i1.NotificationService }, { type: i1.ModalService }, { type: OrderTransitionService }] });\n\nclass FulfillOrderDialogComponent {\n    constructor(dataService, changeDetector) {\n        this.dataService = dataService;\n        this.changeDetector = changeDetector;\n        this.fulfillmentHandlerControl = new UntypedFormControl();\n        this.fulfillmentQuantities = {};\n    }\n    ngOnInit() {\n        this.dataService.settings.getGlobalSettings().single$.subscribe(({ globalSettings }) => {\n            this.fulfillmentQuantities = this.order.lines.reduce((result, line) => {\n                const fulfillCount = this.getFulfillableCount(line, globalSettings.trackInventory);\n                return {\n                    ...result,\n                    [line.id]: { fulfillCount, max: fulfillCount },\n                };\n            }, {});\n            this.changeDetector.markForCheck();\n        });\n        this.dataService.shippingMethod\n            .getShippingMethodOperations()\n            .mapSingle(data => data.fulfillmentHandlers)\n            .subscribe(handlers => {\n            this.fulfillmentHandlerDef =\n                handlers.find(h => h.code === this.order.shippingLines[0]?.shippingMethod?.fulfillmentHandlerCode) || handlers[0];\n            this.fulfillmentHandler = configurableDefinitionToInstance(this.fulfillmentHandlerDef);\n            this.fulfillmentHandlerControl.patchValue(this.fulfillmentHandler);\n            this.changeDetector.markForCheck();\n        });\n    }\n    getFulfillableCount(line, globalTrackInventory) {\n        const { trackInventory, stockOnHand } = line.productVariant;\n        const effectiveTracInventory = trackInventory === GlobalFlag.INHERIT ? globalTrackInventory : trackInventory === GlobalFlag.TRUE;\n        const unfulfilledCount = this.getUnfulfilledCount(line);\n        return effectiveTracInventory ? Math.min(unfulfilledCount, stockOnHand) : unfulfilledCount;\n    }\n    getUnfulfilledCount(line) {\n        const fulfilled = this.order.fulfillments\n            ?.filter(f => f.state !== 'Cancelled')\n            .map(f => f.lines)\n            .flat()\n            .filter(row => row.orderLineId === line.id)\n            .reduce((sum, row) => sum + row.quantity, 0) ?? 0;\n        return line.quantity - fulfilled;\n    }\n    canSubmit() {\n        const totalCount = Object.values(this.fulfillmentQuantities).reduce((total, { fulfillCount }) => total + fulfillCount, 0);\n        const fulfillmentQuantityIsValid = Object.values(this.fulfillmentQuantities).every(({ fulfillCount, max }) => fulfillCount <= max);\n        const formIsValid = configurableOperationValueIsValid(this.fulfillmentHandlerDef, this.fulfillmentHandlerControl.value) && this.fulfillmentHandlerControl.valid;\n        return formIsValid && 0 < totalCount && fulfillmentQuantityIsValid;\n    }\n    select() {\n        const lines = Object.entries(this.fulfillmentQuantities).map(([orderLineId, { fulfillCount }]) => ({\n            orderLineId,\n            quantity: fulfillCount,\n        }));\n        this.resolveWith({\n            lines,\n            handler: toConfigurableOperationInput(this.fulfillmentHandler, this.fulfillmentHandlerControl.value),\n        });\n    }\n    cancel() {\n        this.resolveWith();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: FulfillOrderDialogComponent, deps: [{ token: i1.DataService }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: FulfillOrderDialogComponent, selector: \"vdr-fulfill-order-dialog\", ngImport: i0, template: \"<ng-template vdrDialogTitle>{{ 'order.fulfill-order' | translate }}</ng-template>\\r\\n\\r\\n<div class=\\\"fulfillment-wrapper\\\">\\r\\n    <div class=\\\"order-table\\\">\\r\\n        <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th></th>\\r\\n                    <th>{{ 'order.product-name' | translate }}</th>\\r\\n                    <th>{{ 'order.product-sku' | translate }}</th>\\r\\n                    <th>{{ 'order.unfulfilled' | translate }}</th>\\r\\n                    <th>{{ 'catalog.stock-on-hand' | translate }}</th>\\r\\n                    <th>{{ 'order.fulfill' | translate }}</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tr\\r\\n                *ngFor=\\\"let line of order.lines\\\"\\r\\n                class=\\\"order-line\\\"\\r\\n                [class.ignore]=\\\"getUnfulfilledCount(line) === 0\\\"\\r\\n            >\\r\\n                <td class=\\\"align-middle thumb\\\">\\r\\n                    <img *ngIf=\\\"line.featuredAsset\\\" [src]=\\\"line.featuredAsset | assetPreview: 'tiny'\\\" />\\r\\n                </td>\\r\\n                <td class=\\\"align-middle name\\\">{{ line.productVariant.name }}</td>\\r\\n                <td class=\\\"align-middle sku\\\">{{ line.productVariant.sku }}</td>\\r\\n                <td class=\\\"align-middle quantity\\\">{{ getUnfulfilledCount(line) }}</td>\\r\\n                <td class=\\\"align-middle quantity\\\">{{ line.productVariant.stockOnHand }}</td>\\r\\n                <td class=\\\"align-middle fulfil\\\">\\r\\n                    <input\\r\\n                        *ngIf=\\\"fulfillmentQuantities[line.id]\\\"\\r\\n                        [disabled]=\\\"getUnfulfilledCount(line) === 0\\\"\\r\\n                        [(ngModel)]=\\\"fulfillmentQuantities[line.id].fulfillCount\\\"\\r\\n                        type=\\\"number\\\"\\r\\n                        [max]=\\\"fulfillmentQuantities[line.id].max\\\"\\r\\n                        min=\\\"0\\\"\\r\\n                    />\\r\\n                </td>\\r\\n            </tr>\\r\\n        </table>\\r\\n    </div>\\r\\n    <div class=\\\"shipping-details\\\">\\r\\n        <vdr-formatted-address [address]=\\\"order.shippingAddress\\\"></vdr-formatted-address>\\r\\n        <h6>{{ 'order.shipping-method' | translate }}</h6>\\r\\n        {{ order.shippingLines[0]?.shippingMethod?.name }}\\r\\n        <strong>{{ order.shipping | localeCurrency: order.currencyCode }}</strong>\\r\\n        <vdr-configurable-input\\r\\n            [operationDefinition]=\\\"fulfillmentHandlerDef\\\"\\r\\n            [operation]=\\\"fulfillmentHandler\\\"\\r\\n            [formControl]=\\\"fulfillmentHandlerControl\\\"\\r\\n            [removable]=\\\"false\\\"\\r\\n        ></vdr-configurable-input>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<ng-template vdrDialogButtons>\\r\\n    <button type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"cancel()\\\">{{ 'common.cancel' | translate }}</button>\\r\\n    <button type=\\\"submit\\\" (click)=\\\"select()\\\" [disabled]=\\\"!canSubmit()\\\" class=\\\"btn btn-primary\\\">\\r\\n        {{ 'order.create-fulfillment' | translate }}\\r\\n    </button>\\r\\n</ng-template>\\r\\n\", styles: [\":host{height:100%;display:flex;min-height:64vh}:host .is-cancelled td{text-decoration:line-through;background-color:var(--color-component-bg-200)}:host .sub-total td{border-top:1px dashed var(--color-component-border-200)}:host .total td{font-weight:700;border-top:1px dashed var(--color-component-border-200)}:host td.custom-fields-row{border-top-style:dashed;border-top-color:var(--color-grey-200)}:host img{border-radius:var(--border-radius-img)}:host .order-line-custom-fields{display:flex;flex-wrap:wrap}:host .order-line-custom-fields .custom-field{text-align:start;max-width:200px;overflow:hidden;text-overflow:ellipsis;margin-bottom:6px;margin-inline-end:18px}:host .draft-qty{max-width:48px}:host .order-line-custom-field{background-color:var(--color-component-bg-100)}:host .order-line-custom-field .custom-field-ellipsis{color:var(--color-text-300)}:host .net-price{font-size:11px;color:var(--color-text-300);line-height:14px}:host .promotions-label{text-decoration:underline dotted var(--color-text-200);font-size:11px;margin-top:6px;cursor:pointer;text-transform:lowercase}:host .thumb img{width:50px;height:50px}:host .shipping-method-name{font-size:var(--font-size-xs);margin-inline-end:2px}:host .order-placed-quantity{text-decoration:line-through;color:var(--color-text-300);margin-inline-end:2px}.fulfillment-wrapper{flex:1}@media screen and (min-width: 768px){.fulfillment-wrapper{display:flex;flex-direction:row}}.fulfillment-wrapper .shipping-details{margin-top:24px}@media screen and (min-width: 768px){.fulfillment-wrapper .shipping-details{margin-top:0;margin-inline-start:24px;width:250px}}.fulfillment-wrapper .shipping-details clr-input-container{margin-top:24px}.fulfillment-wrapper .order-table{flex:1;overflow-y:auto}.fulfillment-wrapper .order-table table{margin-top:0}.fulfillment-wrapper tr.ignore{color:var(--color-grey-300)}\\n\"], dependencies: [{ kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i2.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i2.NumberValueAccessor, selector: \"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]\" }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.MinValidator, selector: \"input[type=number][min][formControlName],input[type=number][min][formControl],input[type=number][min][ngModel]\", inputs: [\"min\"] }, { kind: \"directive\", type: i2.MaxValidator, selector: \"input[type=number][max][formControlName],input[type=number][max][formControl],input[type=number][max][ngModel]\", inputs: [\"max\"] }, { kind: \"directive\", type: i2.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { kind: \"directive\", type: i2.FormControlDirective, selector: \"[formControl]\", inputs: [\"formControl\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }, { kind: \"component\", type: i1.ConfigurableInputComponent, selector: \"vdr-configurable-input\", inputs: [\"operation\", \"operationDefinition\", \"readonly\", \"removable\", \"position\", \"hideDescription\"], outputs: [\"remove\"] }, { kind: \"directive\", type: i1.FormFieldControlDirective, selector: \"input, textarea, select, vdr-currency-input\" }, { kind: \"directive\", type: i1.DialogButtonsDirective, selector: \"[vdrDialogButtons]\" }, { kind: \"directive\", type: i1.DialogTitleDirective, selector: \"[vdrDialogTitle]\" }, { kind: \"component\", type: i1.FormattedAddressComponent, selector: \"vdr-formatted-address\", inputs: [\"address\"] }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.AssetPreviewPipe, name: \"assetPreview\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: FulfillOrderDialogComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-fulfill-order-dialog', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-template vdrDialogTitle>{{ 'order.fulfill-order' | translate }}</ng-template>\\r\\n\\r\\n<div class=\\\"fulfillment-wrapper\\\">\\r\\n    <div class=\\\"order-table\\\">\\r\\n        <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th></th>\\r\\n                    <th>{{ 'order.product-name' | translate }}</th>\\r\\n                    <th>{{ 'order.product-sku' | translate }}</th>\\r\\n                    <th>{{ 'order.unfulfilled' | translate }}</th>\\r\\n                    <th>{{ 'catalog.stock-on-hand' | translate }}</th>\\r\\n                    <th>{{ 'order.fulfill' | translate }}</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tr\\r\\n                *ngFor=\\\"let line of order.lines\\\"\\r\\n                class=\\\"order-line\\\"\\r\\n                [class.ignore]=\\\"getUnfulfilledCount(line) === 0\\\"\\r\\n            >\\r\\n                <td class=\\\"align-middle thumb\\\">\\r\\n                    <img *ngIf=\\\"line.featuredAsset\\\" [src]=\\\"line.featuredAsset | assetPreview: 'tiny'\\\" />\\r\\n                </td>\\r\\n                <td class=\\\"align-middle name\\\">{{ line.productVariant.name }}</td>\\r\\n                <td class=\\\"align-middle sku\\\">{{ line.productVariant.sku }}</td>\\r\\n                <td class=\\\"align-middle quantity\\\">{{ getUnfulfilledCount(line) }}</td>\\r\\n                <td class=\\\"align-middle quantity\\\">{{ line.productVariant.stockOnHand }}</td>\\r\\n                <td class=\\\"align-middle fulfil\\\">\\r\\n                    <input\\r\\n                        *ngIf=\\\"fulfillmentQuantities[line.id]\\\"\\r\\n                        [disabled]=\\\"getUnfulfilledCount(line) === 0\\\"\\r\\n                        [(ngModel)]=\\\"fulfillmentQuantities[line.id].fulfillCount\\\"\\r\\n                        type=\\\"number\\\"\\r\\n                        [max]=\\\"fulfillmentQuantities[line.id].max\\\"\\r\\n                        min=\\\"0\\\"\\r\\n                    />\\r\\n                </td>\\r\\n            </tr>\\r\\n        </table>\\r\\n    </div>\\r\\n    <div class=\\\"shipping-details\\\">\\r\\n        <vdr-formatted-address [address]=\\\"order.shippingAddress\\\"></vdr-formatted-address>\\r\\n        <h6>{{ 'order.shipping-method' | translate }}</h6>\\r\\n        {{ order.shippingLines[0]?.shippingMethod?.name }}\\r\\n        <strong>{{ order.shipping | localeCurrency: order.currencyCode }}</strong>\\r\\n        <vdr-configurable-input\\r\\n            [operationDefinition]=\\\"fulfillmentHandlerDef\\\"\\r\\n            [operation]=\\\"fulfillmentHandler\\\"\\r\\n            [formControl]=\\\"fulfillmentHandlerControl\\\"\\r\\n            [removable]=\\\"false\\\"\\r\\n        ></vdr-configurable-input>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<ng-template vdrDialogButtons>\\r\\n    <button type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"cancel()\\\">{{ 'common.cancel' | translate }}</button>\\r\\n    <button type=\\\"submit\\\" (click)=\\\"select()\\\" [disabled]=\\\"!canSubmit()\\\" class=\\\"btn btn-primary\\\">\\r\\n        {{ 'order.create-fulfillment' | translate }}\\r\\n    </button>\\r\\n</ng-template>\\r\\n\", styles: [\":host{height:100%;display:flex;min-height:64vh}:host .is-cancelled td{text-decoration:line-through;background-color:var(--color-component-bg-200)}:host .sub-total td{border-top:1px dashed var(--color-component-border-200)}:host .total td{font-weight:700;border-top:1px dashed var(--color-component-border-200)}:host td.custom-fields-row{border-top-style:dashed;border-top-color:var(--color-grey-200)}:host img{border-radius:var(--border-radius-img)}:host .order-line-custom-fields{display:flex;flex-wrap:wrap}:host .order-line-custom-fields .custom-field{text-align:start;max-width:200px;overflow:hidden;text-overflow:ellipsis;margin-bottom:6px;margin-inline-end:18px}:host .draft-qty{max-width:48px}:host .order-line-custom-field{background-color:var(--color-component-bg-100)}:host .order-line-custom-field .custom-field-ellipsis{color:var(--color-text-300)}:host .net-price{font-size:11px;color:var(--color-text-300);line-height:14px}:host .promotions-label{text-decoration:underline dotted var(--color-text-200);font-size:11px;margin-top:6px;cursor:pointer;text-transform:lowercase}:host .thumb img{width:50px;height:50px}:host .shipping-method-name{font-size:var(--font-size-xs);margin-inline-end:2px}:host .order-placed-quantity{text-decoration:line-through;color:var(--color-text-300);margin-inline-end:2px}.fulfillment-wrapper{flex:1}@media screen and (min-width: 768px){.fulfillment-wrapper{display:flex;flex-direction:row}}.fulfillment-wrapper .shipping-details{margin-top:24px}@media screen and (min-width: 768px){.fulfillment-wrapper .shipping-details{margin-top:0;margin-inline-start:24px;width:250px}}.fulfillment-wrapper .shipping-details clr-input-container{margin-top:24px}.fulfillment-wrapper .order-table{flex:1;overflow-y:auto}.fulfillment-wrapper .order-table table{margin-top:0}.fulfillment-wrapper tr.ignore{color:var(--color-grey-300)}\\n\"] }]\n        }], ctorParameters: () => [{ type: i1.DataService }, { type: i0.ChangeDetectorRef }] });\n\nclass SimpleItemListComponent {\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: SimpleItemListComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: SimpleItemListComponent, selector: \"vdr-simple-item-list\", inputs: { items: \"items\" }, ngImport: i0, template: \"<div class=\\\"items-list\\\">\\r\\n    <ul>\\r\\n        <li *ngFor=\\\"let item of items\\\" [title]=\\\"item.name\\\">\\r\\n            <div class=\\\"quantity\\\" *ngIf=\\\"item.quantity != null\\\">{{ item.quantity }}</div>\\r\\n            <clr-icon shape=\\\"times\\\" size=\\\"12\\\" *ngIf=\\\"item.quantity != null\\\"></clr-icon>\\r\\n            {{ item.name }}\\r\\n        </li>\\r\\n    </ul>\\r\\n</div>\\r\\n\", styles: [\".items-list{font-size:12px}.items-list ul{margin-top:6px;list-style-type:none;margin-inline-start:2px}.items-list ul li{line-height:14px;text-overflow:ellipsis;overflow:hidden}.items-list .quantity{min-width:16px;display:inline-block}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: SimpleItemListComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-simple-item-list', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"items-list\\\">\\r\\n    <ul>\\r\\n        <li *ngFor=\\\"let item of items\\\" [title]=\\\"item.name\\\">\\r\\n            <div class=\\\"quantity\\\" *ngIf=\\\"item.quantity != null\\\">{{ item.quantity }}</div>\\r\\n            <clr-icon shape=\\\"times\\\" size=\\\"12\\\" *ngIf=\\\"item.quantity != null\\\"></clr-icon>\\r\\n            {{ item.name }}\\r\\n        </li>\\r\\n    </ul>\\r\\n</div>\\r\\n\", styles: [\".items-list{font-size:12px}.items-list ul{margin-top:6px;list-style-type:none;margin-inline-start:2px}.items-list ul li{line-height:14px;text-overflow:ellipsis;overflow:hidden}.items-list .quantity{min-width:16px;display:inline-block}\\n\"] }]\n        }], propDecorators: { items: [{\n                type: Input\n            }] } });\n\nclass FulfillmentDetailComponent {\n    constructor(serverConfigService) {\n        this.serverConfigService = serverConfigService;\n        this.customFieldConfig = [];\n        this.customFieldFormGroup = new UntypedFormGroup({});\n    }\n    ngOnInit() {\n        this.customFieldConfig = this.serverConfigService.getCustomFieldsFor('Fulfillment');\n    }\n    ngOnChanges(changes) {\n        this.buildCustomFieldsFormGroup();\n    }\n    get fulfillment() {\n        return this.order.fulfillments && this.order.fulfillments.find(f => f.id === this.fulfillmentId);\n    }\n    get items() {\n        return (this.fulfillment?.lines.map(row => ({\n            name: this.order.lines.find(line => line.id === row.orderLineId)?.productVariant.name ?? '',\n            quantity: row.quantity,\n        })) ?? []);\n    }\n    buildCustomFieldsFormGroup() {\n        const customFields = this.fulfillment.customFields;\n        for (const fieldDef of this.serverConfigService.getCustomFieldsFor('Fulfillment')) {\n            this.customFieldFormGroup.addControl(fieldDef.name, new UntypedFormControl(customFields[fieldDef.name]));\n        }\n    }\n    customFieldIsObject(customField) {\n        return Array.isArray(customField) || isObject(customField);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: FulfillmentDetailComponent, deps: [{ token: i1.ServerConfigService }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: FulfillmentDetailComponent, selector: \"vdr-fulfillment-detail\", inputs: { fulfillmentId: \"fulfillmentId\", order: \"order\" }, usesOnChanges: true, ngImport: i0, template: \"<vdr-labeled-data [label]=\\\"'common.created-at' | translate\\\">\\r\\n    {{ fulfillment?.createdAt | localeDate: 'medium' }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data [label]=\\\"'order.fulfillment-method' | translate\\\">\\r\\n    {{ fulfillment?.method }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data *ngIf=\\\"fulfillment?.trackingCode\\\" [label]=\\\"'order.tracking-code' | translate\\\">\\r\\n    {{ fulfillment?.trackingCode }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data [label]=\\\"'order.contents' | translate\\\">\\r\\n    <vdr-simple-item-list [items]=\\\"items\\\"></vdr-simple-item-list>\\r\\n</vdr-labeled-data>\\r\\n<ng-container *ngFor=\\\"let customField of customFieldConfig\\\">\\r\\n    <vdr-custom-field-control\\r\\n        *ngIf=\\\"customFieldFormGroup.get(customField.name)\\\"\\r\\n        [readonly]=\\\"true\\\"\\r\\n        [compact]=\\\"true\\\"\\r\\n        [customField]=\\\"customField\\\"\\r\\n        [customFieldsFormGroup]=\\\"customFieldFormGroup\\\"\\r\\n    ></vdr-custom-field-control>\\r\\n</ng-container>\\r\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"component\", type: i1.CustomFieldControlComponent, selector: \"vdr-custom-field-control\", inputs: [\"entityName\", \"customFieldsFormGroup\", \"customField\", \"compact\", \"showLabel\", \"readonly\"] }, { kind: \"component\", type: i1.LabeledDataComponent, selector: \"vdr-labeled-data\", inputs: [\"label\"] }, { kind: \"component\", type: SimpleItemListComponent, selector: \"vdr-simple-item-list\", inputs: [\"items\"] }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.LocaleDatePipe, name: \"localeDate\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: FulfillmentDetailComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-fulfillment-detail', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<vdr-labeled-data [label]=\\\"'common.created-at' | translate\\\">\\r\\n    {{ fulfillment?.createdAt | localeDate: 'medium' }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data [label]=\\\"'order.fulfillment-method' | translate\\\">\\r\\n    {{ fulfillment?.method }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data *ngIf=\\\"fulfillment?.trackingCode\\\" [label]=\\\"'order.tracking-code' | translate\\\">\\r\\n    {{ fulfillment?.trackingCode }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data [label]=\\\"'order.contents' | translate\\\">\\r\\n    <vdr-simple-item-list [items]=\\\"items\\\"></vdr-simple-item-list>\\r\\n</vdr-labeled-data>\\r\\n<ng-container *ngFor=\\\"let customField of customFieldConfig\\\">\\r\\n    <vdr-custom-field-control\\r\\n        *ngIf=\\\"customFieldFormGroup.get(customField.name)\\\"\\r\\n        [readonly]=\\\"true\\\"\\r\\n        [compact]=\\\"true\\\"\\r\\n        [customField]=\\\"customField\\\"\\r\\n        [customFieldsFormGroup]=\\\"customFieldFormGroup\\\"\\r\\n    ></vdr-custom-field-control>\\r\\n</ng-container>\\r\\n\" }]\n        }], ctorParameters: () => [{ type: i1.ServerConfigService }], propDecorators: { fulfillmentId: [{\n                type: Input\n            }], order: [{\n                type: Input\n            }] } });\n\nclass FulfillmentStateLabelComponent {\n    get chipColorType() {\n        switch (this.state) {\n            case 'Pending':\n            case 'Shipped':\n                return 'warning';\n            case 'Delivered':\n                return 'success';\n            case 'Cancelled':\n                return 'error';\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: FulfillmentStateLabelComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: FulfillmentStateLabelComponent, selector: \"vdr-fulfillment-state-label\", inputs: { state: \"state\" }, ngImport: i0, template: \"<vdr-chip [title]=\\\"'order.payment-state' | translate\\\" [colorType]=\\\"chipColorType\\\">\\r\\n    <clr-icon shape=\\\"check-circle\\\" *ngIf=\\\"state === 'Delivered'\\\"></clr-icon>\\r\\n    {{ state | stateI18nToken | translate }}\\r\\n</vdr-chip>\\r\\n\", styles: [\":host{font-size:14px}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"component\", type: i1.ChipComponent, selector: \"vdr-chip\", inputs: [\"icon\", \"invert\", \"colorFrom\", \"colorType\"], outputs: [\"iconClick\"] }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.StateI18nTokenPipe, name: \"stateI18nToken\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: FulfillmentStateLabelComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-fulfillment-state-label', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<vdr-chip [title]=\\\"'order.payment-state' | translate\\\" [colorType]=\\\"chipColorType\\\">\\r\\n    <clr-icon shape=\\\"check-circle\\\" *ngIf=\\\"state === 'Delivered'\\\"></clr-icon>\\r\\n    {{ state | stateI18nToken | translate }}\\r\\n</vdr-chip>\\r\\n\", styles: [\":host{font-size:14px}\\n\"] }]\n        }], propDecorators: { state: [{\n                type: Input\n            }] } });\n\nclass FulfillmentCardComponent {\n    constructor() {\n        this.transitionState = new EventEmitter();\n    }\n    nextSuggestedState() {\n        if (!this.fulfillment) {\n            return;\n        }\n        const { nextStates } = this.fulfillment;\n        const namedStateOrDefault = (targetState) => nextStates.includes(targetState) ? targetState : nextStates[0];\n        switch (this.fulfillment?.state) {\n            case 'Pending':\n                return namedStateOrDefault('Shipped');\n            case 'Shipped':\n                return namedStateOrDefault('Delivered');\n            default:\n                return nextStates.find(s => s !== 'Cancelled');\n        }\n    }\n    nextOtherStates() {\n        if (!this.fulfillment) {\n            return [];\n        }\n        const suggested = this.nextSuggestedState();\n        return this.fulfillment.nextStates.filter(s => s !== suggested);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: FulfillmentCardComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: FulfillmentCardComponent, selector: \"vdr-fulfillment-card\", inputs: { fulfillment: \"fulfillment\", order: \"order\" }, outputs: { transitionState: \"transitionState\" }, ngImport: i0, template: \"<div class=\\\"card\\\">\\r\\n    <div class=\\\"card-header fulfillment-header\\\">\\r\\n        <div>{{ 'order.fulfillment' | translate }}</div>\\r\\n        <div class=\\\"fulfillment-state\\\">\\r\\n            <vdr-fulfillment-state-label [state]=\\\"fulfillment?.state\\\"></vdr-fulfillment-state-label>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"card-block\\\">\\r\\n        <vdr-fulfillment-detail\\r\\n            *ngIf=\\\"!!fulfillment\\\"\\r\\n            [fulfillmentId]=\\\"fulfillment?.id\\\"\\r\\n            [order]=\\\"order\\\"\\r\\n        ></vdr-fulfillment-detail>\\r\\n    </div>\\r\\n    <div class=\\\"card-footer\\\" *ngIf=\\\"fulfillment?.nextStates.length\\\">\\r\\n        <ng-container *ngIf=\\\"nextSuggestedState() as suggestedState\\\">\\r\\n            <button class=\\\"btn btn-sm btn-primary\\\" (click)=\\\"transitionState.emit(suggestedState)\\\">\\r\\n                {{ 'order.set-fulfillment-state' | translate: { state: (suggestedState | stateI18nToken | translate) } }}\\r\\n            </button>\\r\\n        </ng-container>\\r\\n        <vdr-dropdown>\\r\\n            <button class=\\\"icon-button\\\" vdrDropdownTrigger>\\r\\n                <clr-icon shape=\\\"ellipsis-vertical\\\"></clr-icon>\\r\\n            </button>\\r\\n            <vdr-dropdown-menu vdrPosition=\\\"bottom-right\\\">\\r\\n                <ng-container *ngFor=\\\"let nextState of nextOtherStates()\\\">\\r\\n                    <button\\r\\n                        type=\\\"button\\\"\\r\\n                        vdrDropdownItem\\r\\n                        (click)=\\\"transitionState.emit(nextState)\\\"\\r\\n                    >\\r\\n                        <ng-container *ngIf=\\\"nextState !== 'Cancelled'; else cancel\\\">\\r\\n                            <clr-icon shape=\\\"step-forward-2\\\"></clr-icon>\\r\\n                            {{ 'order.transition-to-state' | translate: { state: (nextState | stateI18nToken | translate) } }}\\r\\n                        </ng-container>\\r\\n                        <ng-template #cancel>\\r\\n                            <clr-icon shape=\\\"error-standard\\\" class=\\\"is-error\\\"></clr-icon>\\r\\n                            {{ 'order.cancel-fulfillment' | translate }}\\r\\n                        </ng-template>\\r\\n                    </button>\\r\\n                </ng-container>\\r\\n            </vdr-dropdown-menu>\\r\\n        </vdr-dropdown>\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\".fulfillment-header{display:flex;justify-content:space-between;align-items:center}.card-footer{display:flex;align-items:center;justify-content:flex-end}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"component\", type: i1.DropdownComponent, selector: \"vdr-dropdown\", inputs: [\"manualToggle\"] }, { kind: \"component\", type: i1.DropdownMenuComponent, selector: \"vdr-dropdown-menu\", inputs: [\"vdrPosition\", \"customClasses\"] }, { kind: \"directive\", type: i1.DropdownTriggerDirective, selector: \"[vdrDropdownTrigger]\" }, { kind: \"directive\", type: i1.DropdownItemDirective, selector: \"[vdrDropdownItem]\" }, { kind: \"component\", type: FulfillmentDetailComponent, selector: \"vdr-fulfillment-detail\", inputs: [\"fulfillmentId\", \"order\"] }, { kind: \"component\", type: FulfillmentStateLabelComponent, selector: \"vdr-fulfillment-state-label\", inputs: [\"state\"] }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.StateI18nTokenPipe, name: \"stateI18nToken\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: FulfillmentCardComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-fulfillment-card', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"card\\\">\\r\\n    <div class=\\\"card-header fulfillment-header\\\">\\r\\n        <div>{{ 'order.fulfillment' | translate }}</div>\\r\\n        <div class=\\\"fulfillment-state\\\">\\r\\n            <vdr-fulfillment-state-label [state]=\\\"fulfillment?.state\\\"></vdr-fulfillment-state-label>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"card-block\\\">\\r\\n        <vdr-fulfillment-detail\\r\\n            *ngIf=\\\"!!fulfillment\\\"\\r\\n            [fulfillmentId]=\\\"fulfillment?.id\\\"\\r\\n            [order]=\\\"order\\\"\\r\\n        ></vdr-fulfillment-detail>\\r\\n    </div>\\r\\n    <div class=\\\"card-footer\\\" *ngIf=\\\"fulfillment?.nextStates.length\\\">\\r\\n        <ng-container *ngIf=\\\"nextSuggestedState() as suggestedState\\\">\\r\\n            <button class=\\\"btn btn-sm btn-primary\\\" (click)=\\\"transitionState.emit(suggestedState)\\\">\\r\\n                {{ 'order.set-fulfillment-state' | translate: { state: (suggestedState | stateI18nToken | translate) } }}\\r\\n            </button>\\r\\n        </ng-container>\\r\\n        <vdr-dropdown>\\r\\n            <button class=\\\"icon-button\\\" vdrDropdownTrigger>\\r\\n                <clr-icon shape=\\\"ellipsis-vertical\\\"></clr-icon>\\r\\n            </button>\\r\\n            <vdr-dropdown-menu vdrPosition=\\\"bottom-right\\\">\\r\\n                <ng-container *ngFor=\\\"let nextState of nextOtherStates()\\\">\\r\\n                    <button\\r\\n                        type=\\\"button\\\"\\r\\n                        vdrDropdownItem\\r\\n                        (click)=\\\"transitionState.emit(nextState)\\\"\\r\\n                    >\\r\\n                        <ng-container *ngIf=\\\"nextState !== 'Cancelled'; else cancel\\\">\\r\\n                            <clr-icon shape=\\\"step-forward-2\\\"></clr-icon>\\r\\n                            {{ 'order.transition-to-state' | translate: { state: (nextState | stateI18nToken | translate) } }}\\r\\n                        </ng-container>\\r\\n                        <ng-template #cancel>\\r\\n                            <clr-icon shape=\\\"error-standard\\\" class=\\\"is-error\\\"></clr-icon>\\r\\n                            {{ 'order.cancel-fulfillment' | translate }}\\r\\n                        </ng-template>\\r\\n                    </button>\\r\\n                </ng-container>\\r\\n            </vdr-dropdown-menu>\\r\\n        </vdr-dropdown>\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\".fulfillment-header{display:flex;justify-content:space-between;align-items:center}.card-footer{display:flex;align-items:center;justify-content:flex-end}\\n\"] }]\n        }], propDecorators: { fulfillment: [{\n                type: Input\n            }], order: [{\n                type: Input\n            }], transitionState: [{\n                type: Output\n            }] } });\n\nclass ModificationDetailComponent {\n    constructor() {\n        this.addedItems = new Map();\n        this.removedItems = new Map();\n        this.modifiedItems = new Set();\n    }\n    ngOnChanges() {\n        const { added, removed, modified } = this.getModifiedLines();\n        this.addedItems = added;\n        this.removedItems = removed;\n        this.modifiedItems = modified;\n    }\n    getSurcharge(id) {\n        return this.order.surcharges.find(m => m.id === id);\n    }\n    getAddedItems() {\n        return [...this.addedItems.entries()].map(([line, count]) => ({\n            name: line.productVariant.name,\n            quantity: count,\n        }));\n    }\n    getRemovedItems() {\n        return [...this.removedItems.entries()].map(([line, count]) => ({\n            name: line.productVariant.name,\n            quantity: count,\n        }));\n    }\n    getModifiedItems() {\n        return [...this.modifiedItems].map(line => ({\n            name: line.productVariant.name,\n        }));\n    }\n    getModifiedLines() {\n        const added = new Map();\n        const removed = new Map();\n        const modified = new Set();\n        for (const modificationLine of this.modification.lines || []) {\n            const line = this.order.lines.find(l => l.id === modificationLine.orderLineId);\n            if (!line) {\n                continue;\n            }\n            if (modificationLine.quantity === 0) {\n                modified.add(line);\n            }\n            else if (modificationLine.quantity < 0) {\n                removed.set(line, -modificationLine.quantity);\n            }\n            else {\n                added.set(line, modificationLine.quantity);\n            }\n        }\n        return { added, removed, modified };\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: ModificationDetailComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: ModificationDetailComponent, selector: \"vdr-modification-detail\", inputs: { order: \"order\", modification: \"modification\" }, usesOnChanges: true, ngImport: i0, template: \"<vdr-labeled-data [label]=\\\"'common.ID' | translate\\\">{{ modification.id }}</vdr-labeled-data>\\r\\n<vdr-labeled-data *ngIf=\\\"modification.note\\\" [label]=\\\"'order.note' | translate\\\">{{\\r\\n    modification.note\\r\\n}}</vdr-labeled-data>\\r\\n<vdr-labeled-data *ngFor=\\\"let surcharge of modification.surcharges\\\" [label]=\\\"'order.surcharges' | translate\\\">\\r\\n    {{ getSurcharge(surcharge.id)?.description }}\\r\\n    {{ getSurcharge(surcharge.id)?.priceWithTax | localeCurrency: order.currencyCode }}</vdr-labeled-data\\r\\n>\\r\\n<vdr-labeled-data *ngIf=\\\"getAddedItems().length\\\" [label]=\\\"'order.added-items' | translate\\\">\\r\\n    <vdr-simple-item-list [items]=\\\"getAddedItems()\\\"></vdr-simple-item-list>\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data *ngIf=\\\"getRemovedItems().length\\\" [label]=\\\"'order.removed-items' | translate\\\">\\r\\n    <vdr-simple-item-list [items]=\\\"getRemovedItems()\\\"></vdr-simple-item-list>\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data *ngIf=\\\"getModifiedItems().length\\\" [label]=\\\"'order.modified-items' | translate\\\">\\r\\n    <vdr-simple-item-list [items]=\\\"getModifiedItems()\\\"></vdr-simple-item-list>\\r\\n</vdr-labeled-data>\\r\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"component\", type: i1.LabeledDataComponent, selector: \"vdr-labeled-data\", inputs: [\"label\"] }, { kind: \"component\", type: SimpleItemListComponent, selector: \"vdr-simple-item-list\", inputs: [\"items\"] }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: ModificationDetailComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-modification-detail', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<vdr-labeled-data [label]=\\\"'common.ID' | translate\\\">{{ modification.id }}</vdr-labeled-data>\\r\\n<vdr-labeled-data *ngIf=\\\"modification.note\\\" [label]=\\\"'order.note' | translate\\\">{{\\r\\n    modification.note\\r\\n}}</vdr-labeled-data>\\r\\n<vdr-labeled-data *ngFor=\\\"let surcharge of modification.surcharges\\\" [label]=\\\"'order.surcharges' | translate\\\">\\r\\n    {{ getSurcharge(surcharge.id)?.description }}\\r\\n    {{ getSurcharge(surcharge.id)?.priceWithTax | localeCurrency: order.currencyCode }}</vdr-labeled-data\\r\\n>\\r\\n<vdr-labeled-data *ngIf=\\\"getAddedItems().length\\\" [label]=\\\"'order.added-items' | translate\\\">\\r\\n    <vdr-simple-item-list [items]=\\\"getAddedItems()\\\"></vdr-simple-item-list>\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data *ngIf=\\\"getRemovedItems().length\\\" [label]=\\\"'order.removed-items' | translate\\\">\\r\\n    <vdr-simple-item-list [items]=\\\"getRemovedItems()\\\"></vdr-simple-item-list>\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data *ngIf=\\\"getModifiedItems().length\\\" [label]=\\\"'order.modified-items' | translate\\\">\\r\\n    <vdr-simple-item-list [items]=\\\"getModifiedItems()\\\"></vdr-simple-item-list>\\r\\n</vdr-labeled-data>\\r\\n\" }]\n        }], propDecorators: { order: [{\n                type: Input\n            }], modification: [{\n                type: Input\n            }] } });\n\nconst NODE_HEIGHT = 72;\n\nclass OrderProcessNodeComponent {\n    constructor(elementRef) {\n        this.elementRef = elementRef;\n        this.active$ = new BehaviorSubject(false);\n        this.activeTarget$ = new BehaviorSubject(false);\n        this.isCancellable = false;\n        // We use a class field here to prevent the\n        // i18n extractor from extracting a \"Cancelled\" key\n        this.cancelledState = 'Cancelled';\n    }\n    ngOnChanges(changes) {\n        this.isCancellable = !!this.node.to.find((s) => s.name === 'Cancelled');\n        if (changes.active) {\n            this.active$.next(this.active);\n        }\n    }\n    getPos(origin = 'top') {\n        const rect = this.elementRef.nativeElement.getBoundingClientRect();\n        const nodeHeight = this.elementRef.nativeElement.querySelector('.node')?.getBoundingClientRect().height ?? 0;\n        return {\n            x: 10,\n            y: this.index * NODE_HEIGHT + (origin === 'bottom' ? nodeHeight : 0),\n        };\n    }\n    getStyle() {\n        const pos = this.getPos();\n        return {\n            'top.px': pos.y,\n            'left.px': pos.x,\n        };\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderProcessNodeComponent, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: OrderProcessNodeComponent, selector: \"vdr-order-process-node\", inputs: { node: \"node\", index: \"index\", active: \"active\" }, usesOnChanges: true, ngImport: i0, template: \"<div class=\\\"node-wrapper\\\" [ngStyle]=\\\"getStyle()\\\" [class.active]=\\\"active$ | async\\\">\\r\\n    <div\\r\\n        class=\\\"node\\\"\\r\\n        [class.active-target]=\\\"activeTarget$ | async\\\"\\r\\n    >\\r\\n        {{ node.name | stateI18nToken | translate }}\\r\\n    </div>\\r\\n    <div class=\\\"cancelled-wrapper\\\" *ngIf=\\\"isCancellable\\\">\\r\\n        <div class=\\\"cancelled-edge\\\">\\r\\n        </div>\\r\\n        <clr-icon shape=\\\"dot-circle\\\"></clr-icon>\\r\\n        <div class=\\\"cancelled-node\\\">\\r\\n            {{ cancelledState | stateI18nToken | translate }}\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\":host{display:block}.node-wrapper{position:absolute;z-index:1;display:flex;align-items:center}.node{display:inline-block;border:2px solid var(--color-component-border-200);border-radius:3px;padding:3px 6px;z-index:1;background-color:var(--color-component-bg-100);opacity:.7;transition:opacity .2s,background-color .2s,color .2s;cursor:default}.node.active-target{border-color:var(--color-primary-500);opacity:.9}.cancelled-wrapper{display:flex;align-items:center;color:var(--color-grey-300);transition:color .2s,opacity .2s;opacity:.7}.cancelled-edge{width:48px;height:2px;background-color:var(--color-component-bg-300);transition:background-color .2s}clr-icon{margin-inline-start:-1px}.cancelled-node{margin-inline-start:6px}.active .cancelled-wrapper{opacity:1}.active .node{opacity:1;background-color:var(--color-primary-600);border-color:var(--color-primary-600);color:var(--color-primary-100)}.active .cancelled-wrapper{color:var(--color-error-500)}.active .cancelled-edge{background-color:var(--color-error-500)}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i2$1.NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }, { kind: \"pipe\", type: i2$1.AsyncPipe, name: \"async\" }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.StateI18nTokenPipe, name: \"stateI18nToken\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderProcessNodeComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-order-process-node', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"node-wrapper\\\" [ngStyle]=\\\"getStyle()\\\" [class.active]=\\\"active$ | async\\\">\\r\\n    <div\\r\\n        class=\\\"node\\\"\\r\\n        [class.active-target]=\\\"activeTarget$ | async\\\"\\r\\n    >\\r\\n        {{ node.name | stateI18nToken | translate }}\\r\\n    </div>\\r\\n    <div class=\\\"cancelled-wrapper\\\" *ngIf=\\\"isCancellable\\\">\\r\\n        <div class=\\\"cancelled-edge\\\">\\r\\n        </div>\\r\\n        <clr-icon shape=\\\"dot-circle\\\"></clr-icon>\\r\\n        <div class=\\\"cancelled-node\\\">\\r\\n            {{ cancelledState | stateI18nToken | translate }}\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\":host{display:block}.node-wrapper{position:absolute;z-index:1;display:flex;align-items:center}.node{display:inline-block;border:2px solid var(--color-component-border-200);border-radius:3px;padding:3px 6px;z-index:1;background-color:var(--color-component-bg-100);opacity:.7;transition:opacity .2s,background-color .2s,color .2s;cursor:default}.node.active-target{border-color:var(--color-primary-500);opacity:.9}.cancelled-wrapper{display:flex;align-items:center;color:var(--color-grey-300);transition:color .2s,opacity .2s;opacity:.7}.cancelled-edge{width:48px;height:2px;background-color:var(--color-component-bg-300);transition:background-color .2s}clr-icon{margin-inline-start:-1px}.cancelled-node{margin-inline-start:6px}.active .cancelled-wrapper{opacity:1}.active .node{opacity:1;background-color:var(--color-primary-600);border-color:var(--color-primary-600);color:var(--color-primary-100)}.active .cancelled-wrapper{color:var(--color-error-500)}.active .cancelled-edge{background-color:var(--color-error-500)}\\n\"] }]\n        }], ctorParameters: () => [{ type: i0.ElementRef }], propDecorators: { node: [{\n                type: Input\n            }], index: [{\n                type: Input\n            }], active: [{\n                type: Input\n            }] } });\n\nclass OrderProcessEdgeComponent {\n    ngOnInit() {\n        this.active$ = this.from.active$\n            .asObservable()\n            .pipe(tap((active) => this.to.activeTarget$.next(active)));\n    }\n    getStyle() {\n        const direction = this.from.index < this.to.index ? 'down' : 'up';\n        const startPos = this.from.getPos(direction === 'down' ? 'bottom' : 'top');\n        const endPos = this.to.getPos(direction === 'down' ? 'top' : 'bottom');\n        const dX = Math.abs(startPos.x - endPos.x);\n        const dY = Math.abs(startPos.y - endPos.y);\n        const length = Math.sqrt(dX ** 2 + dY ** 2);\n        return {\n            'top.px': startPos.y,\n            'left.px': startPos.x + (direction === 'down' ? 10 : 40) + this.index * 12,\n            'height.px': length,\n            'width.px': 1,\n            ...(direction === 'up'\n                ? {\n                    transform: 'rotateZ(180deg)',\n                    'transform-origin': 'top',\n                }\n                : {}),\n        };\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderProcessEdgeComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: OrderProcessEdgeComponent, selector: \"vdr-order-process-edge\", inputs: { from: \"from\", to: \"to\", index: \"index\" }, ngImport: i0, template: \"<div\\r\\n    [attr.data-from]=\\\"from.node.name\\\"\\r\\n    [attr.data-to]=\\\"to.node.name\\\"\\r\\n    [ngStyle]=\\\"getStyle()\\\"\\r\\n    [class.active]=\\\"active$ | async\\\"\\r\\n    class=\\\"edge\\\">\\r\\n    <clr-icon shape=\\\"arrow\\\" flip=\\\"vertical\\\" class=\\\"arrow\\\"></clr-icon>\\r\\n</div>\\r\\n\", styles: [\".edge{position:absolute;border:1px solid var(--color-component-border-200);background-color:var(--color-component-bg-300);opacity:.3;transition:border .2s,opacity .2s,background-color .2s}.edge.active{border-color:var(--color-primary-500);background-color:var(--color-primary-500);opacity:1}.edge.active .arrow{color:var(--color-primary-500)}.edge .arrow{position:absolute;bottom:-4px;left:-8px;color:var(--color-grey-300)}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i2$1.NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }, { kind: \"pipe\", type: i2$1.AsyncPipe, name: \"async\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderProcessEdgeComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-order-process-edge', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div\\r\\n    [attr.data-from]=\\\"from.node.name\\\"\\r\\n    [attr.data-to]=\\\"to.node.name\\\"\\r\\n    [ngStyle]=\\\"getStyle()\\\"\\r\\n    [class.active]=\\\"active$ | async\\\"\\r\\n    class=\\\"edge\\\">\\r\\n    <clr-icon shape=\\\"arrow\\\" flip=\\\"vertical\\\" class=\\\"arrow\\\"></clr-icon>\\r\\n</div>\\r\\n\", styles: [\".edge{position:absolute;border:1px solid var(--color-component-border-200);background-color:var(--color-component-bg-300);opacity:.3;transition:border .2s,opacity .2s,background-color .2s}.edge.active{border-color:var(--color-primary-500);background-color:var(--color-primary-500);opacity:1}.edge.active .arrow{color:var(--color-primary-500)}.edge .arrow{position:absolute;bottom:-4px;left:-8px;color:var(--color-grey-300)}\\n\"] }]\n        }], propDecorators: { from: [{\n                type: Input\n            }], to: [{\n                type: Input\n            }], index: [{\n                type: Input\n            }] } });\n\nclass OrderProcessGraphComponent {\n    constructor(changeDetector) {\n        this.changeDetector = changeDetector;\n        this.setActiveState$ = new BehaviorSubject(undefined);\n        this.nodes = [];\n        this.edges = [];\n    }\n    get outerHeight() {\n        return this.nodes.length * NODE_HEIGHT;\n    }\n    ngOnInit() {\n        this.setActiveState$.next(this.initialState);\n        this.activeState$ = this.setActiveState$.pipe(debounceTime(150));\n    }\n    ngOnChanges(changes) {\n        this.populateNodes();\n    }\n    ngAfterViewInit() {\n        setTimeout(() => this.populateEdges());\n    }\n    onMouseOver(stateName) {\n        this.setActiveState$.next(stateName);\n    }\n    onMouseOut() {\n        this.setActiveState$.next(this.initialState);\n    }\n    getNodeFor(state) {\n        if (this.nodeComponents) {\n            return this.nodeComponents.find((n) => n.node.name === state);\n        }\n    }\n    populateNodes() {\n        const stateNodeMap = new Map();\n        for (const state of this.states) {\n            stateNodeMap.set(state.name, {\n                name: state.name,\n                to: [],\n            });\n        }\n        for (const [name, stateNode] of stateNodeMap.entries()) {\n            const targets = this.states.find((s) => s.name === name)?.to ?? [];\n            for (const target of targets) {\n                const targetNode = stateNodeMap.get(target);\n                if (targetNode) {\n                    stateNode.to.push(targetNode);\n                }\n            }\n        }\n        this.nodes = [...stateNodeMap.values()].filter((n) => n.name !== 'Cancelled');\n    }\n    populateEdges() {\n        for (const node of this.nodes) {\n            const nodeCmp = this.getNodeFor(node.name);\n            let index = 0;\n            for (const to of node.to) {\n                const toCmp = this.getNodeFor(to.name);\n                if (nodeCmp && toCmp && nodeCmp !== toCmp) {\n                    this.edges.push({\n                        to: toCmp,\n                        from: nodeCmp,\n                        index,\n                    });\n                    index++;\n                }\n            }\n        }\n        this.edges = [...this.edges];\n        this.changeDetector.markForCheck();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderProcessGraphComponent, deps: [{ token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: OrderProcessGraphComponent, selector: \"vdr-order-process-graph\", inputs: { states: \"states\", initialState: \"initialState\" }, host: { properties: { \"style.height.px\": \"this.outerHeight\" } }, viewQueries: [{ propertyName: \"nodeComponents\", predicate: OrderProcessNodeComponent, descendants: true }], usesOnChanges: true, ngImport: i0, template: \"<ng-container *ngFor=\\\"let state of nodes; let i = index\\\">\\r\\n    <vdr-order-process-node\\r\\n        [node]=\\\"state\\\"\\r\\n        [index]=\\\"i\\\"\\r\\n        [active]=\\\"(activeState$ | async) === state.name\\\"\\r\\n        (mouseenter)=\\\"onMouseOver(state.name)\\\"\\r\\n        (mouseleave)=\\\"onMouseOut()\\\"\\r\\n    ></vdr-order-process-node>\\r\\n</ng-container>\\r\\n<ng-container *ngFor=\\\"let edge of edges\\\">\\r\\n    <vdr-order-process-edge [from]=\\\"edge.from\\\" [to]=\\\"edge.to\\\" [index]=\\\"edge.index\\\"></vdr-order-process-edge>\\r\\n</ng-container>\\r\\n\", styles: [\":host{display:block;border:1px hotpink;margin:20px;padding:12px;position:relative}.state-row{display:flex}\\n\"], dependencies: [{ kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"component\", type: OrderProcessNodeComponent, selector: \"vdr-order-process-node\", inputs: [\"node\", \"index\", \"active\"] }, { kind: \"component\", type: OrderProcessEdgeComponent, selector: \"vdr-order-process-edge\", inputs: [\"from\", \"to\", \"index\"] }, { kind: \"pipe\", type: i2$1.AsyncPipe, name: \"async\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderProcessGraphComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-order-process-graph', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-container *ngFor=\\\"let state of nodes; let i = index\\\">\\r\\n    <vdr-order-process-node\\r\\n        [node]=\\\"state\\\"\\r\\n        [index]=\\\"i\\\"\\r\\n        [active]=\\\"(activeState$ | async) === state.name\\\"\\r\\n        (mouseenter)=\\\"onMouseOver(state.name)\\\"\\r\\n        (mouseleave)=\\\"onMouseOut()\\\"\\r\\n    ></vdr-order-process-node>\\r\\n</ng-container>\\r\\n<ng-container *ngFor=\\\"let edge of edges\\\">\\r\\n    <vdr-order-process-edge [from]=\\\"edge.from\\\" [to]=\\\"edge.to\\\" [index]=\\\"edge.index\\\"></vdr-order-process-edge>\\r\\n</ng-container>\\r\\n\", styles: [\":host{display:block;border:1px hotpink;margin:20px;padding:12px;position:relative}.state-row{display:flex}\\n\"] }]\n        }], ctorParameters: () => [{ type: i0.ChangeDetectorRef }], propDecorators: { states: [{\n                type: Input\n            }], initialState: [{\n                type: Input\n            }], nodeComponents: [{\n                type: ViewChildren,\n                args: [OrderProcessNodeComponent]\n            }], outerHeight: [{\n                type: HostBinding,\n                args: ['style.height.px']\n            }] } });\n\nclass OrderProcessGraphDialogComponent {\n    constructor(serverConfigService) {\n        this.serverConfigService = serverConfigService;\n        this.states = [];\n    }\n    ngOnInit() {\n        this.states = this.serverConfigService.getOrderProcessStates();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderProcessGraphDialogComponent, deps: [{ token: i1.ServerConfigService }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: OrderProcessGraphDialogComponent, selector: \"vdr-order-process-graph-dialog\", ngImport: i0, template: \"<ng-template vdrDialogTitle>{{ 'order.order-state-diagram' | translate }}</ng-template>\\r\\n\\r\\n<vdr-order-process-graph [states]=\\\"states\\\" [initialState]=\\\"activeState\\\"></vdr-order-process-graph>\\r\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i1.DialogTitleDirective, selector: \"[vdrDialogTitle]\" }, { kind: \"component\", type: OrderProcessGraphComponent, selector: \"vdr-order-process-graph\", inputs: [\"states\", \"initialState\"] }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderProcessGraphDialogComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-order-process-graph-dialog', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-template vdrDialogTitle>{{ 'order.order-state-diagram' | translate }}</ng-template>\\r\\n\\r\\n<vdr-order-process-graph [states]=\\\"states\\\" [initialState]=\\\"activeState\\\"></vdr-order-process-graph>\\r\\n\" }]\n        }], ctorParameters: () => [{ type: i1.ServerConfigService }] });\n\nclass PaymentForRefundSelectorComponent {\n    constructor() {\n        this.paymentSelected = new EventEmitter();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: PaymentForRefundSelectorComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: PaymentForRefundSelectorComponent, selector: \"vdr-payment-for-refund-selector\", inputs: { refundablePayments: \"refundablePayments\", order: \"order\" }, outputs: { paymentSelected: \"paymentSelected\" }, ngImport: i0, template: \"<vdr-card\\r\\n        [title]=\\\"'order.payment' | translate\\\"\\r\\n        [class.selected]=\\\"payment.selected\\\"\\r\\n        [class.unselected]=\\\"!payment.selected\\\"\\r\\n        *ngFor=\\\"let payment of refundablePayments\\\"\\r\\n>\\r\\n    <ng-template vdrCardControls>\\r\\n        <vdr-select-toggle\\r\\n                size=\\\"small\\\"\\r\\n                [title]=\\\"'order.refund-this-payment' | translate\\\"\\r\\n                [label]=\\\"'order.refund-this-payment' | translate\\\"\\r\\n                [disabled]=\\\"refundablePayments.length === 1\\\"\\r\\n                [(selected)]=\\\"payment.selected\\\"\\r\\n                (selectedChange)=\\\"paymentSelected.emit({ payment: payment, selected: $event })\\\"\\r\\n        ></vdr-select-toggle>\\r\\n    </ng-template>\\r\\n    <div class=\\\"form-grid\\\">\\r\\n        <vdr-labeled-data [label]=\\\"'order.payment-method' | translate\\\">\\r\\n            {{ payment.method }}\\r\\n        </vdr-labeled-data>\\r\\n        <vdr-labeled-data [label]=\\\"'order.transaction-id' | translate\\\">\\r\\n            {{ payment.transactionId }}\\r\\n        </vdr-labeled-data>\\r\\n        <vdr-labeled-data [label]=\\\"'order.payment-amount' | translate\\\">\\r\\n            {{ payment.amount | localeCurrency : order.currencyCode }}\\r\\n        </vdr-labeled-data>\\r\\n        <vdr-labeled-data [label]=\\\"'order.refundable-amount' | translate\\\">\\r\\n            {{ payment.refundableAmount | localeCurrency : order.currencyCode }}\\r\\n        </vdr-labeled-data>\\r\\n    </div>\\r\\n    <vdr-form-field [label]=\\\"'order.refund-amount' | translate\\\">\\r\\n        <vdr-currency-input\\r\\n                [readonly]=\\\"!payment.selected\\\"\\r\\n                [currencyCode]=\\\"order.currencyCode\\\"\\r\\n                [formControl]=\\\"payment.amountToRefundControl\\\"\\r\\n        ></vdr-currency-input>\\r\\n    </vdr-form-field>\\r\\n</vdr-card>\", styles: [\":host{display:block}\\n\"], dependencies: [{ kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.FormControlDirective, selector: \"[formControl]\", inputs: [\"formControl\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }, { kind: \"component\", type: i1.CurrencyInputComponent, selector: \"vdr-currency-input\", inputs: [\"disabled\", \"readonly\", \"value\", \"currencyCode\"], outputs: [\"valueChange\"] }, { kind: \"component\", type: i1.FormFieldComponent, selector: \"vdr-form-field\", inputs: [\"label\", \"for\", \"tooltip\", \"errors\", \"readOnlyToggle\"], outputs: [\"readOnlyToggleChange\"] }, { kind: \"directive\", type: i1.FormFieldControlDirective, selector: \"input, textarea, select, vdr-currency-input\" }, { kind: \"component\", type: i1.SelectToggleComponent, selector: \"vdr-select-toggle\", inputs: [\"size\", \"selected\", \"hiddenWhenOff\", \"disabled\", \"label\"], outputs: [\"selectedChange\"] }, { kind: \"component\", type: i1.LabeledDataComponent, selector: \"vdr-labeled-data\", inputs: [\"label\"] }, { kind: \"component\", type: i1.CardComponent, selector: \"vdr-card\", inputs: [\"title\", \"paddingX\"] }, { kind: \"directive\", type: i1.CardControlsDirective, selector: \"[vdrCardControls]\" }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.Default }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: PaymentForRefundSelectorComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-payment-for-refund-selector', changeDetection: ChangeDetectionStrategy.Default, template: \"<vdr-card\\r\\n        [title]=\\\"'order.payment' | translate\\\"\\r\\n        [class.selected]=\\\"payment.selected\\\"\\r\\n        [class.unselected]=\\\"!payment.selected\\\"\\r\\n        *ngFor=\\\"let payment of refundablePayments\\\"\\r\\n>\\r\\n    <ng-template vdrCardControls>\\r\\n        <vdr-select-toggle\\r\\n                size=\\\"small\\\"\\r\\n                [title]=\\\"'order.refund-this-payment' | translate\\\"\\r\\n                [label]=\\\"'order.refund-this-payment' | translate\\\"\\r\\n                [disabled]=\\\"refundablePayments.length === 1\\\"\\r\\n                [(selected)]=\\\"payment.selected\\\"\\r\\n                (selectedChange)=\\\"paymentSelected.emit({ payment: payment, selected: $event })\\\"\\r\\n        ></vdr-select-toggle>\\r\\n    </ng-template>\\r\\n    <div class=\\\"form-grid\\\">\\r\\n        <vdr-labeled-data [label]=\\\"'order.payment-method' | translate\\\">\\r\\n            {{ payment.method }}\\r\\n        </vdr-labeled-data>\\r\\n        <vdr-labeled-data [label]=\\\"'order.transaction-id' | translate\\\">\\r\\n            {{ payment.transactionId }}\\r\\n        </vdr-labeled-data>\\r\\n        <vdr-labeled-data [label]=\\\"'order.payment-amount' | translate\\\">\\r\\n            {{ payment.amount | localeCurrency : order.currencyCode }}\\r\\n        </vdr-labeled-data>\\r\\n        <vdr-labeled-data [label]=\\\"'order.refundable-amount' | translate\\\">\\r\\n            {{ payment.refundableAmount | localeCurrency : order.currencyCode }}\\r\\n        </vdr-labeled-data>\\r\\n    </div>\\r\\n    <vdr-form-field [label]=\\\"'order.refund-amount' | translate\\\">\\r\\n        <vdr-currency-input\\r\\n                [readonly]=\\\"!payment.selected\\\"\\r\\n                [currencyCode]=\\\"order.currencyCode\\\"\\r\\n                [formControl]=\\\"payment.amountToRefundControl\\\"\\r\\n        ></vdr-currency-input>\\r\\n    </vdr-form-field>\\r\\n</vdr-card>\", styles: [\":host{display:block}\\n\"] }]\n        }], propDecorators: { refundablePayments: [{\n                type: Input\n            }], order: [{\n                type: Input\n            }], paymentSelected: [{\n                type: Output\n            }] } });\n\nclass RefundOrderDialogComponent {\n    constructor(i18nService) {\n        this.i18nService = i18nService;\n        this.lineQuantities = {};\n        this.refundablePayments = [];\n        this.refundShippingLineIds = [];\n        this.reasons = getAppConfig().cancellationReasons ?? [\n            marker('order.refund-reason-customer-request'),\n            marker('order.refund-reason-not-available'),\n        ];\n        this.manuallySetRefundTotal = false;\n        this.refundTotal = 0;\n        this.reasons = this.reasons.map(r => this.i18nService.translate(r));\n    }\n    get totalRefundableAmount() {\n        return summate(this.refundablePayments, 'refundableAmount');\n    }\n    get amountToRefundTotal() {\n        return this.refundablePayments.reduce((total, payment) => total + payment.amountToRefundControl.value, 0);\n    }\n    lineCanBeRefundedOrCancelled(line) {\n        const refundedCount = this.order.payments\n            ?.reduce((all, payment) => [...all, ...payment.refunds], [])\n            .filter(refund => refund.state !== 'Failed')\n            .reduce((all, refund) => [...all, ...refund.lines], [])\n            .filter(refundLine => refundLine.orderLineId === line.id)\n            .reduce((sum, refundLine) => sum + refundLine.quantity, 0) ?? 0;\n        return refundedCount < line.orderPlacedQuantity;\n    }\n    ngOnInit() {\n        this.lineQuantities = this.order.lines.reduce((result, line) => ({\n            ...result,\n            [line.id]: {\n                quantity: 0,\n                refund: true,\n                cancel: false,\n            },\n        }), {});\n        this.refundablePayments = getRefundablePayments(this.order.payments);\n    }\n    updateRefundTotal() {\n        if (!this.manuallySetRefundTotal) {\n            const itemTotal = this.order.lines.reduce((total, line) => {\n                const lineRef = this.lineQuantities[line.id];\n                const refundCount = lineRef.quantity || 0;\n                return total + line.proratedUnitPriceWithTax * refundCount;\n            }, 0);\n            const shippingTotal = this.order.shippingLines.reduce((total, line) => {\n                if (this.refundShippingLineIds.includes(line.id)) {\n                    return total + line.discountedPriceWithTax;\n                }\n                else {\n                    return total;\n                }\n            }, 0);\n            this.refundTotal = itemTotal + shippingTotal;\n        }\n        // allocate the refund total across the refundable payments\n        const refundablePayments = this.refundablePayments.filter(p => p.selected);\n        let refundsAllocated = 0;\n        for (const payment of refundablePayments) {\n            const amountToRefund = Math.min(payment.refundableAmount, this.refundTotal - refundsAllocated);\n            payment.amountToRefundControl.setValue(amountToRefund);\n            refundsAllocated += amountToRefund;\n        }\n    }\n    toggleShippingRefund(lineId) {\n        const index = this.refundShippingLineIds.indexOf(lineId);\n        if (index === -1) {\n            this.refundShippingLineIds.push(lineId);\n        }\n        else {\n            this.refundShippingLineIds.splice(index, 1);\n        }\n        this.updateRefundTotal();\n    }\n    onRefundQuantityChange(orderLineId, quantity) {\n        this.manuallySetRefundTotal = false;\n        const selectionLine = this.lineQuantities[orderLineId];\n        if (selectionLine) {\n            const previousQuantity = selectionLine.quantity;\n            if (quantity === 0) {\n                selectionLine.cancel = false;\n            }\n            else if (previousQuantity === 0 && quantity > 0) {\n                selectionLine.cancel = true;\n            }\n            selectionLine.quantity = quantity;\n            this.updateRefundTotal();\n        }\n    }\n    onPaymentSelected(payment, selected) {\n        if (selected) {\n            const outstandingRefundAmount = this.refundTotal -\n                this.refundablePayments\n                    .filter(p => p.id !== payment.id)\n                    .reduce((total, p) => total + p.amountToRefundControl.value, 0);\n            if (0 < outstandingRefundAmount) {\n                payment.amountToRefundControl.setValue(Math.min(outstandingRefundAmount, payment.refundableAmount));\n            }\n        }\n        else {\n            payment.amountToRefundControl.setValue(0);\n        }\n    }\n    isRefunding() {\n        const result = Object.values(this.lineQuantities).reduce((isRefunding, line) => isRefunding || 0 < line.quantity, false);\n        return result;\n    }\n    isCancelling() {\n        const result = Object.values(this.lineQuantities).reduce((isCancelling, line) => isCancelling || (0 < line.quantity && line.cancel), false);\n        return result;\n    }\n    canSubmit() {\n        return 0 < this.refundTotal && this.amountToRefundTotal === this.refundTotal && !!this.reason;\n    }\n    select() {\n        const refundLines = this.getOrderLineInput(() => true);\n        const cancelLines = this.getOrderLineInput(line => line.cancel);\n        this.resolveWith({\n            refunds: this.refundablePayments\n                .filter(rp => rp.selected && 0 < rp.amountToRefundControl.value)\n                .map(payment => {\n                return {\n                    lines: refundLines,\n                    reason: this.reason,\n                    paymentId: payment.id,\n                    amount: payment.amountToRefundControl.value,\n                    shipping: 0,\n                    adjustment: 0,\n                };\n            }),\n            cancel: {\n                lines: cancelLines,\n                orderId: this.order.id,\n                reason: this.reason,\n                cancelShipping: this.refundShippingLineIds.length > 0,\n            },\n        });\n    }\n    cancel() {\n        this.resolveWith();\n    }\n    getOrderLineInput(filterFn) {\n        return Object.entries(this.lineQuantities)\n            .filter(([orderLineId, line]) => 0 < line.quantity && filterFn(line))\n            .map(([orderLineId, line]) => ({\n            orderLineId,\n            quantity: line.quantity,\n        }));\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: RefundOrderDialogComponent, deps: [{ token: i1.I18nService }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: RefundOrderDialogComponent, selector: \"vdr-refund-order-dialog\", ngImport: i0, template: \"<ng-template vdrDialogTitle>{{ 'order.refund-and-cancel-order' | translate }}</ng-template>\\r\\n\\r\\n<div class=\\\"refund-wrapper\\\">\\r\\n    <vdr-data-table-2 id=\\\"refund-order\\\" [items]=\\\"order.lines\\\">\\r\\n        <!-- Here we define all the available columns -->\\r\\n        <vdr-dt2-column id=\\\"id\\\" [heading]=\\\"'common.id' | translate\\\" [hiddenByDefault]=\\\"true\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                {{ line.id }}\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column id=\\\"created-at\\\" [heading]=\\\"'common.created-at' | translate\\\" [hiddenByDefault]=\\\"true\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                {{ line.createdAt | localeDate : 'short' }}\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column id=\\\"updated-at\\\" [heading]=\\\"'common.updated-at' | translate\\\" [hiddenByDefault]=\\\"true\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                {{ line.updatedAt | localeDate : 'short' }}\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column [heading]=\\\"'common.image' | translate\\\" id=\\\"image\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                <div class=\\\"image-placeholder\\\">\\r\\n                    <img\\r\\n                        *ngIf=\\\"line.featuredAsset as asset; else imagePlaceholder\\\"\\r\\n                        [src]=\\\"asset | assetPreview : 'tiny'\\\"\\r\\n                    />\\r\\n                    <ng-template #imagePlaceholder>\\r\\n                        <div class=\\\"placeholder\\\">\\r\\n                            <clr-icon shape=\\\"image\\\" size=\\\"48\\\"></clr-icon>\\r\\n                        </div>\\r\\n                    </ng-template>\\r\\n                </div>\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column id=\\\"product-name\\\" [heading]=\\\"'order.product-name' | translate\\\" [optional]=\\\"false\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                {{ line.productVariant.name }}\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column id=\\\"product-sku\\\" [heading]=\\\"'order.product-sku' | translate\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                {{ line.productVariant.sku }}\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column id=\\\"unit-price\\\" [heading]=\\\"'order.unit-price' | translate\\\" [hiddenByDefault]=\\\"true\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                {{ line.unitPriceWithTax | localeCurrency : order.currencyCode }}\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column id=\\\"prorated-unit-price\\\" [heading]=\\\"'order.prorated-unit-price' | translate\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                {{ line.unitPriceWithTax | localeCurrency : order.currencyCode }}\\r\\n                <ng-container *ngIf=\\\"line.discounts as discounts\\\">\\r\\n                    <vdr-dropdown *ngIf=\\\"discounts.length\\\">\\r\\n                        <div class=\\\"promotions-label\\\" vdrDropdownTrigger>\\r\\n                            <button class=\\\"icon-button\\\"><clr-icon shape=\\\"info\\\"></clr-icon></button>\\r\\n                        </div>\\r\\n                        <vdr-dropdown-menu>\\r\\n                            <div class=\\\"line-promotion\\\" *ngFor=\\\"let discount of discounts\\\">\\r\\n                                {{ discount.description }}\\r\\n                                <div class=\\\"promotion-amount\\\">\\r\\n                                    {{\\r\\n                                        discount.amount / 100 / line.quantity\\r\\n                                            | number : '1.0-2'\\r\\n                                            | currency : order.currencyCode\\r\\n                                    }}\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </vdr-dropdown-menu>\\r\\n                    </vdr-dropdown>\\r\\n                </ng-container>\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column id=\\\"quantity\\\" [heading]=\\\"'order.quantity' | translate\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                {{ line.quantity }}\\r\\n                <vdr-line-refunds [line]=\\\"line\\\" [payments]=\\\"order.payments\\\"></vdr-line-refunds>\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column id=\\\"refund-quantity\\\" [heading]=\\\"'order.refund' | translate\\\" [optional]=\\\"false\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                <input\\r\\n                    *ngIf=\\\"lineCanBeRefundedOrCancelled(line)\\\"\\r\\n                    [ngModel]=\\\"lineQuantities[line.id].quantity\\\"\\r\\n                    type=\\\"number\\\"\\r\\n                    [max]=\\\"line.quantity\\\"\\r\\n                    min=\\\"0\\\"\\r\\n                    (ngModelChange)=\\\"onRefundQuantityChange(line.id, $event)\\\"\\r\\n                />\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column id=\\\"cancel\\\" [heading]=\\\"'order.return-to-stock' | translate\\\" [optional]=\\\"false\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                <div class=\\\"cancel-checkbox-wrapper\\\">\\r\\n                    <label class=\\\"flex center\\\">\\r\\n                        <input\\r\\n                            type=\\\"checkbox\\\"\\r\\n                            *ngIf=\\\"lineCanBeRefundedOrCancelled(line)\\\"\\r\\n                            clrCheckbox\\r\\n                            [disabled]=\\\"0 === lineQuantities[line.id].quantity\\\"\\r\\n                            [(ngModel)]=\\\"lineQuantities[line.id].cancel\\\"\\r\\n                        />\\r\\n                        <span class=\\\"ml-1\\\">{{ 'order.return-to-stock' | translate }}</span></label\\r\\n                    >\\r\\n                </div>\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n    </vdr-data-table-2>\\r\\n\\r\\n    <div class=\\\"refund-details mt-4\\\">\\r\\n        <div>\\r\\n            <vdr-card>\\r\\n                <label class=\\\"flex mb-2\\\" *ngFor=\\\"let shippingLine of order.shippingLines\\\">\\r\\n                    <input type=\\\"checkbox\\\" clrCheckbox (change)=\\\"toggleShippingRefund(shippingLine.id)\\\" />\\r\\n                    <div class=\\\"ml-1\\\">\\r\\n                        {{ 'order.refund-shipping' | translate }}\\r\\n                        <span>{{ shippingLine.shippingMethod.name }}:</span>\\r\\n                        <span class=\\\"ml-1\\\"\\r\\n                            >{{ shippingLine.discountedPriceWithTax | localeCurrency : order.currencyCode }}\\r\\n                        </span>\\r\\n                    </div></label\\r\\n                >\\r\\n                <vdr-form-field [label]=\\\"'order.refund-cancellation-reason' | translate\\\" class=\\\"mb-2\\\">\\r\\n                    <ng-select\\r\\n                        [items]=\\\"reasons\\\"\\r\\n                        bindLabel=\\\"name\\\"\\r\\n                        autofocus\\r\\n                        [placeholder]=\\\"'order.refund-cancellation-reason-required' | translate\\\"\\r\\n                        bindValue=\\\"id\\\"\\r\\n                        [addTag]=\\\"true\\\"\\r\\n                        [(ngModel)]=\\\"reason\\\"\\r\\n                    ></ng-select>\\r\\n                </vdr-form-field>\\r\\n                <vdr-form-field\\r\\n                    [label]=\\\"'order.refund-total' | translate\\\"\\r\\n                    [readOnlyToggle]=\\\"true\\\"\\r\\n                    (readOnlyToggleChange)=\\\"manuallySetRefundTotal = !$event\\\"\\r\\n                >\\r\\n                    <vdr-currency-input\\r\\n                        [readonly]=\\\"!manuallySetRefundTotal\\\"\\r\\n                        [currencyCode]=\\\"order.currencyCode\\\"\\r\\n                        [(ngModel)]=\\\"refundTotal\\\"\\r\\n                        (ngModelChange)=\\\"updateRefundTotal()\\\"\\r\\n                    ></vdr-currency-input>\\r\\n                </vdr-form-field>\\r\\n            </vdr-card>\\r\\n        </div>\\r\\n        <div class=\\\"\\\">\\r\\n            <vdr-payment-for-refund-selector\\r\\n                [refundablePayments]=\\\"refundablePayments\\\"\\r\\n                (paymentSelected)=\\\"onPaymentSelected($event.payment, $event.selected)\\\"\\r\\n                [order]=\\\"order\\\"\\r\\n            ></vdr-payment-for-refund-selector>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<ng-template vdrDialogButtons>\\r\\n    <div>\\r\\n        <div class=\\\"errors\\\">\\r\\n            <clr-alert\\r\\n                *ngIf=\\\"refundTotal < 0 || totalRefundableAmount < refundTotal\\\"\\r\\n                [clrAlertType]=\\\"'danger'\\\"\\r\\n                [clrAlertClosable]=\\\"false\\\"\\r\\n            >\\r\\n                <clr-alert-item>\\r\\n                    {{\\r\\n                        'order.refund-total-error'\\r\\n                            | translate\\r\\n                                : {\\r\\n                                      min: 0 | currency : order.currencyCode,\\r\\n                                      max: totalRefundableAmount | localeCurrency : order.currencyCode\\r\\n                                  }\\r\\n                    }}\\r\\n                </clr-alert-item>\\r\\n            </clr-alert>\\r\\n            <clr-alert\\r\\n                *ngIf=\\\"amountToRefundTotal < refundTotal || refundTotal < amountToRefundTotal\\\"\\r\\n                [clrAlertType]=\\\"'danger'\\\"\\r\\n                [clrAlertClosable]=\\\"false\\\"\\r\\n            >\\r\\n                <clr-alert-item>\\r\\n                    {{ 'order.refund-total-warning' | translate }}\\r\\n                </clr-alert-item>\\r\\n            </clr-alert>\\r\\n            <clr-alert\\r\\n                *ngIf=\\\"amountToRefundTotal && !reason\\\"\\r\\n                [clrAlertType]=\\\"'danger'\\\"\\r\\n                [clrAlertClosable]=\\\"false\\\"\\r\\n            >\\r\\n                <clr-alert-item>\\r\\n                    {{ 'order.refund-cancellation-reason-required' | translate }}\\r\\n                </clr-alert-item>\\r\\n            </clr-alert>\\r\\n        </div>\\r\\n        <div class=\\\"modal-buttons\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"cancel()\\\">{{ 'common.cancel' | translate }}</button>\\r\\n            <button type=\\\"submit\\\" (click)=\\\"select()\\\" [disabled]=\\\"!canSubmit()\\\" class=\\\"btn btn-primary\\\">\\r\\n                {{\\r\\n                    'order.refund-with-amount'\\r\\n                        | translate : { amount: amountToRefundTotal | localeCurrency : order.currencyCode }\\r\\n                }}\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</ng-template>\\r\\n\", styles: [\":host{height:100%;display:flex;flex-direction:column;min-height:64vh}.refund-wrapper{flex:1;flex-direction:column}.refund-wrapper .order-table{flex:1;overflow-y:auto}.refund-wrapper .order-table table{margin-top:0}.refund-wrapper tr.ignore{color:var(--color-grey-300)}::ng-deep .refund-wrapper .table-wrapper{max-width:initial!important}.quantity-col{background-color:var(--color-warning-100)}.cancel-checkbox-wrapper{display:flex;align-items:center;justify-content:center}clr-checkbox-wrapper{margin-top:12px;margin-bottom:12px;display:block}.refund-details{display:flex;flex-direction:column;padding-bottom:var(--space-unit);gap:calc(var(--space-unit) * 2);justify-content:space-between}@media screen and (min-width: 992px){.refund-details{flex-direction:row}}.refund-details vdr-card.unselected{opacity:.8}.refund-details>*{flex:1}.errors{display:flex;justify-content:flex-end;gap:calc(var(--space-unit) * 2);margin:calc(var(--space-unit) * 2) 0}.prorated-wrapper{display:flex;justify-content:center}.line-promotion{display:flex;justify-content:space-between;font-size:12px;padding:3px 6px}.line-promotion .promotion-amount{margin-inline-start:12px}vdr-card.faded{opacity:.8}.modal-buttons{display:flex;justify-content:flex-end;gap:.6rem;gap:var(--clr-modal-footer-gap, .6rem)}\\n\"], dependencies: [{ kind: \"component\", type: i3.ClrAlert, selector: \"clr-alert\", inputs: [\"clrAlertSizeSmall\", \"clrAlertClosable\", \"clrAlertAppLevel\", \"clrCloseButtonAriaLabel\", \"clrAlertLightweight\", \"clrAlertType\", \"clrAlertIcon\", \"clrAlertClosed\"], outputs: [\"clrAlertClosedChange\"] }, { kind: \"component\", type: i3.ClrAlertItem, selector: \"clr-alert-item\" }, { kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i3.ClrLabel, selector: \"label\", inputs: [\"for\"] }, { kind: \"directive\", type: i3.ClrCheckbox, selector: \"[clrCheckbox],[clrToggle]\" }, { kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i2.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i2.NumberValueAccessor, selector: \"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]\" }, { kind: \"directive\", type: i2.CheckboxControlValueAccessor, selector: \"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]\" }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.MinValidator, selector: \"input[type=number][min][formControlName],input[type=number][min][formControl],input[type=number][min][ngModel]\", inputs: [\"min\"] }, { kind: \"directive\", type: i2.MaxValidator, selector: \"input[type=number][max][formControlName],input[type=number][max][formControl],input[type=number][max][ngModel]\", inputs: [\"max\"] }, { kind: \"directive\", type: i2.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { kind: \"component\", type: i5.NgSelectComponent, selector: \"ng-select\", inputs: [\"bindLabel\", \"bindValue\", \"markFirst\", \"placeholder\", \"notFoundText\", \"typeToSearchText\", \"addTagText\", \"loadingText\", \"clearAllText\", \"appearance\", \"dropdownPosition\", \"appendTo\", \"loading\", \"closeOnSelect\", \"hideSelected\", \"selectOnTab\", \"openOnEnter\", \"maxSelectedItems\", \"groupBy\", \"groupValue\", \"bufferAmount\", \"virtualScroll\", \"selectableGroup\", \"selectableGroupAsModel\", \"searchFn\", \"trackByFn\", \"clearOnBackspace\", \"labelForId\", \"inputAttrs\", \"tabIndex\", \"readonly\", \"searchWhileComposing\", \"minTermLength\", \"editableSearchTerm\", \"keyDownFn\", \"typeahead\", \"multiple\", \"addTag\", \"searchable\", \"clearable\", \"isOpen\", \"items\", \"compareWith\", \"clearSearchOnAdd\", \"deselectOnClick\"], outputs: [\"blur\", \"focus\", \"change\", \"open\", \"close\", \"search\", \"clear\", \"add\", \"remove\", \"scroll\", \"scrollToEnd\"] }, { kind: \"component\", type: i1.CurrencyInputComponent, selector: \"vdr-currency-input\", inputs: [\"disabled\", \"readonly\", \"value\", \"currencyCode\"], outputs: [\"valueChange\"] }, { kind: \"component\", type: i1.FormFieldComponent, selector: \"vdr-form-field\", inputs: [\"label\", \"for\", \"tooltip\", \"errors\", \"readOnlyToggle\"], outputs: [\"readOnlyToggleChange\"] }, { kind: \"directive\", type: i1.FormFieldControlDirective, selector: \"input, textarea, select, vdr-currency-input\" }, { kind: \"directive\", type: i1.DialogButtonsDirective, selector: \"[vdrDialogButtons]\" }, { kind: \"directive\", type: i1.DialogTitleDirective, selector: \"[vdrDialogTitle]\" }, { kind: \"component\", type: i1.DropdownComponent, selector: \"vdr-dropdown\", inputs: [\"manualToggle\"] }, { kind: \"component\", type: i1.DropdownMenuComponent, selector: \"vdr-dropdown-menu\", inputs: [\"vdrPosition\", \"customClasses\"] }, { kind: \"directive\", type: i1.DropdownTriggerDirective, selector: \"[vdrDropdownTrigger]\" }, { kind: \"component\", type: i1.DataTable2Component, selector: \"vdr-data-table-2\", inputs: [\"id\", \"items\", \"itemsPerPage\", \"currentPage\", \"totalItems\", \"emptyStateLabel\", \"filters\", \"activeIndex\"], outputs: [\"pageChange\", \"itemsPerPageChange\"] }, { kind: \"component\", type: i1.DataTable2ColumnComponent, selector: \"vdr-dt2-column\", inputs: [\"id\", \"expand\", \"heading\", \"align\", \"sort\", \"optional\", \"hiddenByDefault\", \"orderable\"], exportAs: [\"row\"] }, { kind: \"component\", type: i1.CardComponent, selector: \"vdr-card\", inputs: [\"title\", \"paddingX\"] }, { kind: \"component\", type: LineRefundsComponent, selector: \"vdr-line-refunds\", inputs: [\"line\", \"payments\"] }, { kind: \"component\", type: PaymentForRefundSelectorComponent, selector: \"vdr-payment-for-refund-selector\", inputs: [\"refundablePayments\", \"order\"], outputs: [\"paymentSelected\"] }, { kind: \"pipe\", type: i2$1.DecimalPipe, name: \"number\" }, { kind: \"pipe\", type: i2$1.CurrencyPipe, name: \"currency\" }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.AssetPreviewPipe, name: \"assetPreview\" }, { kind: \"pipe\", type: i1.LocaleDatePipe, name: \"localeDate\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: RefundOrderDialogComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-refund-order-dialog', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-template vdrDialogTitle>{{ 'order.refund-and-cancel-order' | translate }}</ng-template>\\r\\n\\r\\n<div class=\\\"refund-wrapper\\\">\\r\\n    <vdr-data-table-2 id=\\\"refund-order\\\" [items]=\\\"order.lines\\\">\\r\\n        <!-- Here we define all the available columns -->\\r\\n        <vdr-dt2-column id=\\\"id\\\" [heading]=\\\"'common.id' | translate\\\" [hiddenByDefault]=\\\"true\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                {{ line.id }}\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column id=\\\"created-at\\\" [heading]=\\\"'common.created-at' | translate\\\" [hiddenByDefault]=\\\"true\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                {{ line.createdAt | localeDate : 'short' }}\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column id=\\\"updated-at\\\" [heading]=\\\"'common.updated-at' | translate\\\" [hiddenByDefault]=\\\"true\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                {{ line.updatedAt | localeDate : 'short' }}\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column [heading]=\\\"'common.image' | translate\\\" id=\\\"image\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                <div class=\\\"image-placeholder\\\">\\r\\n                    <img\\r\\n                        *ngIf=\\\"line.featuredAsset as asset; else imagePlaceholder\\\"\\r\\n                        [src]=\\\"asset | assetPreview : 'tiny'\\\"\\r\\n                    />\\r\\n                    <ng-template #imagePlaceholder>\\r\\n                        <div class=\\\"placeholder\\\">\\r\\n                            <clr-icon shape=\\\"image\\\" size=\\\"48\\\"></clr-icon>\\r\\n                        </div>\\r\\n                    </ng-template>\\r\\n                </div>\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column id=\\\"product-name\\\" [heading]=\\\"'order.product-name' | translate\\\" [optional]=\\\"false\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                {{ line.productVariant.name }}\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column id=\\\"product-sku\\\" [heading]=\\\"'order.product-sku' | translate\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                {{ line.productVariant.sku }}\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column id=\\\"unit-price\\\" [heading]=\\\"'order.unit-price' | translate\\\" [hiddenByDefault]=\\\"true\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                {{ line.unitPriceWithTax | localeCurrency : order.currencyCode }}\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column id=\\\"prorated-unit-price\\\" [heading]=\\\"'order.prorated-unit-price' | translate\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                {{ line.unitPriceWithTax | localeCurrency : order.currencyCode }}\\r\\n                <ng-container *ngIf=\\\"line.discounts as discounts\\\">\\r\\n                    <vdr-dropdown *ngIf=\\\"discounts.length\\\">\\r\\n                        <div class=\\\"promotions-label\\\" vdrDropdownTrigger>\\r\\n                            <button class=\\\"icon-button\\\"><clr-icon shape=\\\"info\\\"></clr-icon></button>\\r\\n                        </div>\\r\\n                        <vdr-dropdown-menu>\\r\\n                            <div class=\\\"line-promotion\\\" *ngFor=\\\"let discount of discounts\\\">\\r\\n                                {{ discount.description }}\\r\\n                                <div class=\\\"promotion-amount\\\">\\r\\n                                    {{\\r\\n                                        discount.amount / 100 / line.quantity\\r\\n                                            | number : '1.0-2'\\r\\n                                            | currency : order.currencyCode\\r\\n                                    }}\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </vdr-dropdown-menu>\\r\\n                    </vdr-dropdown>\\r\\n                </ng-container>\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column id=\\\"quantity\\\" [heading]=\\\"'order.quantity' | translate\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                {{ line.quantity }}\\r\\n                <vdr-line-refunds [line]=\\\"line\\\" [payments]=\\\"order.payments\\\"></vdr-line-refunds>\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column id=\\\"refund-quantity\\\" [heading]=\\\"'order.refund' | translate\\\" [optional]=\\\"false\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                <input\\r\\n                    *ngIf=\\\"lineCanBeRefundedOrCancelled(line)\\\"\\r\\n                    [ngModel]=\\\"lineQuantities[line.id].quantity\\\"\\r\\n                    type=\\\"number\\\"\\r\\n                    [max]=\\\"line.quantity\\\"\\r\\n                    min=\\\"0\\\"\\r\\n                    (ngModelChange)=\\\"onRefundQuantityChange(line.id, $event)\\\"\\r\\n                />\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n        <vdr-dt2-column id=\\\"cancel\\\" [heading]=\\\"'order.return-to-stock' | translate\\\" [optional]=\\\"false\\\">\\r\\n            <ng-template let-line=\\\"item\\\">\\r\\n                <div class=\\\"cancel-checkbox-wrapper\\\">\\r\\n                    <label class=\\\"flex center\\\">\\r\\n                        <input\\r\\n                            type=\\\"checkbox\\\"\\r\\n                            *ngIf=\\\"lineCanBeRefundedOrCancelled(line)\\\"\\r\\n                            clrCheckbox\\r\\n                            [disabled]=\\\"0 === lineQuantities[line.id].quantity\\\"\\r\\n                            [(ngModel)]=\\\"lineQuantities[line.id].cancel\\\"\\r\\n                        />\\r\\n                        <span class=\\\"ml-1\\\">{{ 'order.return-to-stock' | translate }}</span></label\\r\\n                    >\\r\\n                </div>\\r\\n            </ng-template>\\r\\n        </vdr-dt2-column>\\r\\n    </vdr-data-table-2>\\r\\n\\r\\n    <div class=\\\"refund-details mt-4\\\">\\r\\n        <div>\\r\\n            <vdr-card>\\r\\n                <label class=\\\"flex mb-2\\\" *ngFor=\\\"let shippingLine of order.shippingLines\\\">\\r\\n                    <input type=\\\"checkbox\\\" clrCheckbox (change)=\\\"toggleShippingRefund(shippingLine.id)\\\" />\\r\\n                    <div class=\\\"ml-1\\\">\\r\\n                        {{ 'order.refund-shipping' | translate }}\\r\\n                        <span>{{ shippingLine.shippingMethod.name }}:</span>\\r\\n                        <span class=\\\"ml-1\\\"\\r\\n                            >{{ shippingLine.discountedPriceWithTax | localeCurrency : order.currencyCode }}\\r\\n                        </span>\\r\\n                    </div></label\\r\\n                >\\r\\n                <vdr-form-field [label]=\\\"'order.refund-cancellation-reason' | translate\\\" class=\\\"mb-2\\\">\\r\\n                    <ng-select\\r\\n                        [items]=\\\"reasons\\\"\\r\\n                        bindLabel=\\\"name\\\"\\r\\n                        autofocus\\r\\n                        [placeholder]=\\\"'order.refund-cancellation-reason-required' | translate\\\"\\r\\n                        bindValue=\\\"id\\\"\\r\\n                        [addTag]=\\\"true\\\"\\r\\n                        [(ngModel)]=\\\"reason\\\"\\r\\n                    ></ng-select>\\r\\n                </vdr-form-field>\\r\\n                <vdr-form-field\\r\\n                    [label]=\\\"'order.refund-total' | translate\\\"\\r\\n                    [readOnlyToggle]=\\\"true\\\"\\r\\n                    (readOnlyToggleChange)=\\\"manuallySetRefundTotal = !$event\\\"\\r\\n                >\\r\\n                    <vdr-currency-input\\r\\n                        [readonly]=\\\"!manuallySetRefundTotal\\\"\\r\\n                        [currencyCode]=\\\"order.currencyCode\\\"\\r\\n                        [(ngModel)]=\\\"refundTotal\\\"\\r\\n                        (ngModelChange)=\\\"updateRefundTotal()\\\"\\r\\n                    ></vdr-currency-input>\\r\\n                </vdr-form-field>\\r\\n            </vdr-card>\\r\\n        </div>\\r\\n        <div class=\\\"\\\">\\r\\n            <vdr-payment-for-refund-selector\\r\\n                [refundablePayments]=\\\"refundablePayments\\\"\\r\\n                (paymentSelected)=\\\"onPaymentSelected($event.payment, $event.selected)\\\"\\r\\n                [order]=\\\"order\\\"\\r\\n            ></vdr-payment-for-refund-selector>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<ng-template vdrDialogButtons>\\r\\n    <div>\\r\\n        <div class=\\\"errors\\\">\\r\\n            <clr-alert\\r\\n                *ngIf=\\\"refundTotal < 0 || totalRefundableAmount < refundTotal\\\"\\r\\n                [clrAlertType]=\\\"'danger'\\\"\\r\\n                [clrAlertClosable]=\\\"false\\\"\\r\\n            >\\r\\n                <clr-alert-item>\\r\\n                    {{\\r\\n                        'order.refund-total-error'\\r\\n                            | translate\\r\\n                                : {\\r\\n                                      min: 0 | currency : order.currencyCode,\\r\\n                                      max: totalRefundableAmount | localeCurrency : order.currencyCode\\r\\n                                  }\\r\\n                    }}\\r\\n                </clr-alert-item>\\r\\n            </clr-alert>\\r\\n            <clr-alert\\r\\n                *ngIf=\\\"amountToRefundTotal < refundTotal || refundTotal < amountToRefundTotal\\\"\\r\\n                [clrAlertType]=\\\"'danger'\\\"\\r\\n                [clrAlertClosable]=\\\"false\\\"\\r\\n            >\\r\\n                <clr-alert-item>\\r\\n                    {{ 'order.refund-total-warning' | translate }}\\r\\n                </clr-alert-item>\\r\\n            </clr-alert>\\r\\n            <clr-alert\\r\\n                *ngIf=\\\"amountToRefundTotal && !reason\\\"\\r\\n                [clrAlertType]=\\\"'danger'\\\"\\r\\n                [clrAlertClosable]=\\\"false\\\"\\r\\n            >\\r\\n                <clr-alert-item>\\r\\n                    {{ 'order.refund-cancellation-reason-required' | translate }}\\r\\n                </clr-alert-item>\\r\\n            </clr-alert>\\r\\n        </div>\\r\\n        <div class=\\\"modal-buttons\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"cancel()\\\">{{ 'common.cancel' | translate }}</button>\\r\\n            <button type=\\\"submit\\\" (click)=\\\"select()\\\" [disabled]=\\\"!canSubmit()\\\" class=\\\"btn btn-primary\\\">\\r\\n                {{\\r\\n                    'order.refund-with-amount'\\r\\n                        | translate : { amount: amountToRefundTotal | localeCurrency : order.currencyCode }\\r\\n                }}\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</ng-template>\\r\\n\", styles: [\":host{height:100%;display:flex;flex-direction:column;min-height:64vh}.refund-wrapper{flex:1;flex-direction:column}.refund-wrapper .order-table{flex:1;overflow-y:auto}.refund-wrapper .order-table table{margin-top:0}.refund-wrapper tr.ignore{color:var(--color-grey-300)}::ng-deep .refund-wrapper .table-wrapper{max-width:initial!important}.quantity-col{background-color:var(--color-warning-100)}.cancel-checkbox-wrapper{display:flex;align-items:center;justify-content:center}clr-checkbox-wrapper{margin-top:12px;margin-bottom:12px;display:block}.refund-details{display:flex;flex-direction:column;padding-bottom:var(--space-unit);gap:calc(var(--space-unit) * 2);justify-content:space-between}@media screen and (min-width: 992px){.refund-details{flex-direction:row}}.refund-details vdr-card.unselected{opacity:.8}.refund-details>*{flex:1}.errors{display:flex;justify-content:flex-end;gap:calc(var(--space-unit) * 2);margin:calc(var(--space-unit) * 2) 0}.prorated-wrapper{display:flex;justify-content:center}.line-promotion{display:flex;justify-content:space-between;font-size:12px;padding:3px 6px}.line-promotion .promotion-amount{margin-inline-start:12px}vdr-card.faded{opacity:.8}.modal-buttons{display:flex;justify-content:flex-end;gap:.6rem;gap:var(--clr-modal-footer-gap, .6rem)}\\n\"] }]\n        }], ctorParameters: () => [{ type: i1.I18nService }] });\n\nclass SettleRefundDialogComponent {\n    constructor() {\n        this.transactionId = '';\n    }\n    submit() {\n        this.resolveWith(this.transactionId);\n    }\n    cancel() {\n        this.resolveWith();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: SettleRefundDialogComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: SettleRefundDialogComponent, selector: \"vdr-settle-refund-dialog\", ngImport: i0, template: \"<ng-template vdrDialogTitle>{{ 'order.settle-refund' | translate }}</ng-template>\\r\\n<p class=\\\"instruction\\\">\\r\\n    {{ 'order.settle-refund-manual-instructions' | translate: { method: refund.method } }}\\r\\n</p>\\r\\n<clr-input-container>\\r\\n    <label>{{ 'order.transaction-id' | translate }}</label>\\r\\n    <input clrInput name=\\\"transactionId\\\" [(ngModel)]=\\\"transactionId\\\" />\\r\\n</clr-input-container>\\r\\n\\r\\n<ng-template vdrDialogButtons>\\r\\n    <button type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"cancel()\\\">{{ 'common.cancel' | translate }}</button>\\r\\n    <button type=\\\"submit\\\" (click)=\\\"submit()\\\" [disabled]=\\\"!transactionId\\\" class=\\\"btn btn-primary\\\">\\r\\n        {{ 'order.settle-refund' | translate }}\\r\\n    </button>\\r\\n</ng-template>\\r\\n\", styles: [\":host{padding-bottom:32px}.instruction{margin-top:0;margin-bottom:24px}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrLabel, selector: \"label\", inputs: [\"for\"] }, { kind: \"directive\", type: i3.ClrInput, selector: \"[clrInput]\" }, { kind: \"component\", type: i3.ClrInputContainer, selector: \"clr-input-container\" }, { kind: \"directive\", type: i2.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { kind: \"directive\", type: i1.FormFieldControlDirective, selector: \"input, textarea, select, vdr-currency-input\" }, { kind: \"directive\", type: i1.DialogButtonsDirective, selector: \"[vdrDialogButtons]\" }, { kind: \"directive\", type: i1.DialogTitleDirective, selector: \"[vdrDialogTitle]\" }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: SettleRefundDialogComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-settle-refund-dialog', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-template vdrDialogTitle>{{ 'order.settle-refund' | translate }}</ng-template>\\r\\n<p class=\\\"instruction\\\">\\r\\n    {{ 'order.settle-refund-manual-instructions' | translate: { method: refund.method } }}\\r\\n</p>\\r\\n<clr-input-container>\\r\\n    <label>{{ 'order.transaction-id' | translate }}</label>\\r\\n    <input clrInput name=\\\"transactionId\\\" [(ngModel)]=\\\"transactionId\\\" />\\r\\n</clr-input-container>\\r\\n\\r\\n<ng-template vdrDialogButtons>\\r\\n    <button type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"cancel()\\\">{{ 'common.cancel' | translate }}</button>\\r\\n    <button type=\\\"submit\\\" (click)=\\\"submit()\\\" [disabled]=\\\"!transactionId\\\" class=\\\"btn btn-primary\\\">\\r\\n        {{ 'order.settle-refund' | translate }}\\r\\n    </button>\\r\\n</ng-template>\\r\\n\", styles: [\":host{padding-bottom:32px}.instruction{margin-top:0;margin-bottom:24px}\\n\"] }]\n        }] });\n\nclass PaymentStateLabelComponent {\n    get chipColorType() {\n        switch (this.state) {\n            case 'Authorized':\n                return 'warning';\n            case 'Settled':\n                return 'success';\n            case 'Declined':\n            case 'Cancelled':\n                return 'error';\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: PaymentStateLabelComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: PaymentStateLabelComponent, selector: \"vdr-payment-state-label\", inputs: { state: \"state\" }, ngImport: i0, template: \"<vdr-chip [title]=\\\"'order.payment-state' | translate\\\" [colorType]=\\\"chipColorType\\\">\\r\\n    <clr-icon shape=\\\"check-circle\\\" *ngIf=\\\"state === 'Settled'\\\"></clr-icon>\\r\\n    {{ state | stateI18nToken | translate }}\\r\\n</vdr-chip>\\r\\n\", styles: [\":host{display:flex;font-size:14px}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"component\", type: i1.ChipComponent, selector: \"vdr-chip\", inputs: [\"icon\", \"invert\", \"colorFrom\", \"colorType\"], outputs: [\"iconClick\"] }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.StateI18nTokenPipe, name: \"stateI18nToken\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: PaymentStateLabelComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-payment-state-label', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<vdr-chip [title]=\\\"'order.payment-state' | translate\\\" [colorType]=\\\"chipColorType\\\">\\r\\n    <clr-icon shape=\\\"check-circle\\\" *ngIf=\\\"state === 'Settled'\\\"></clr-icon>\\r\\n    {{ state | stateI18nToken | translate }}\\r\\n</vdr-chip>\\r\\n\", styles: [\":host{display:flex;font-size:14px}\\n\"] }]\n        }], propDecorators: { state: [{\n                type: Input\n            }] } });\n\nclass RefundStateLabelComponent {\n    get chipColorType() {\n        switch (this.state) {\n            case 'Pending':\n                return 'warning';\n            case 'Settled':\n                return 'success';\n            case 'Failed':\n                return 'error';\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: RefundStateLabelComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: RefundStateLabelComponent, selector: \"vdr-refund-state-label\", inputs: { state: \"state\" }, ngImport: i0, template: \"<vdr-chip [title]=\\\"'order.payment-state' | translate\\\" [colorType]=\\\"chipColorType\\\">\\r\\n    <clr-icon shape=\\\"check-circle\\\" *ngIf=\\\"state === 'Settled'\\\"></clr-icon>\\r\\n    {{ state | stateI18nToken | translate }}\\r\\n</vdr-chip>\\r\\n\", styles: [\":host{display:flex;font-size:14px}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"component\", type: i1.ChipComponent, selector: \"vdr-chip\", inputs: [\"icon\", \"invert\", \"colorFrom\", \"colorType\"], outputs: [\"iconClick\"] }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.StateI18nTokenPipe, name: \"stateI18nToken\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: RefundStateLabelComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-refund-state-label', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<vdr-chip [title]=\\\"'order.payment-state' | translate\\\" [colorType]=\\\"chipColorType\\\">\\r\\n    <clr-icon shape=\\\"check-circle\\\" *ngIf=\\\"state === 'Settled'\\\"></clr-icon>\\r\\n    {{ state | stateI18nToken | translate }}\\r\\n</vdr-chip>\\r\\n\", styles: [\":host{display:flex;font-size:14px}\\n\"] }]\n        }], propDecorators: { state: [{\n                type: Input\n            }] } });\n\nclass PaymentDetailComponent {\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: PaymentDetailComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: PaymentDetailComponent, selector: \"vdr-payment-detail\", inputs: { payment: \"payment\", currencyCode: \"currencyCode\" }, ngImport: i0, template: \"<vdr-labeled-data [label]=\\\"'order.payment-method' | translate\\\">\\r\\n    {{ payment.method }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data [label]=\\\"'order.amount' | translate\\\">\\r\\n    {{ payment.amount | localeCurrency: currencyCode }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data *ngIf=\\\"payment.errorMessage\\\" [label]=\\\"'order.error-message' | translate\\\">\\r\\n    {{ payment.errorMessage }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data *ngIf=\\\"payment.transactionId\\\" [label]=\\\"'order.transaction-id' | translate\\\">\\r\\n    {{ payment.transactionId }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data [label]=\\\"'order.payment-metadata' | translate\\\">\\r\\n    <vdr-object-tree [value]=\\\"payment.metadata\\\"></vdr-object-tree>\\r\\n</vdr-labeled-data>\\r\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"component\", type: i1.LabeledDataComponent, selector: \"vdr-labeled-data\", inputs: [\"label\"] }, { kind: \"component\", type: i1.ObjectTreeComponent, selector: \"vdr-object-tree\", inputs: [\"value\", \"isArrayItem\"] }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: PaymentDetailComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-payment-detail', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<vdr-labeled-data [label]=\\\"'order.payment-method' | translate\\\">\\r\\n    {{ payment.method }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data [label]=\\\"'order.amount' | translate\\\">\\r\\n    {{ payment.amount | localeCurrency: currencyCode }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data *ngIf=\\\"payment.errorMessage\\\" [label]=\\\"'order.error-message' | translate\\\">\\r\\n    {{ payment.errorMessage }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data *ngIf=\\\"payment.transactionId\\\" [label]=\\\"'order.transaction-id' | translate\\\">\\r\\n    {{ payment.transactionId }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data [label]=\\\"'order.payment-metadata' | translate\\\">\\r\\n    <vdr-object-tree [value]=\\\"payment.metadata\\\"></vdr-object-tree>\\r\\n</vdr-labeled-data>\\r\\n\" }]\n        }], propDecorators: { payment: [{\n                type: Input\n            }], currencyCode: [{\n                type: Input\n            }] } });\n\nclass OrderPaymentCardComponent {\n    constructor() {\n        this.settlePayment = new EventEmitter();\n        this.transitionPaymentState = new EventEmitter();\n        this.settleRefund = new EventEmitter();\n    }\n    refundHasMetadata(refund) {\n        return !!refund && Object.keys(refund.metadata).length > 0;\n    }\n    nextOtherStates() {\n        if (!this.payment) {\n            return [];\n        }\n        return this.payment.nextStates.filter(s => s !== 'Settled' && s !== 'Error');\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderPaymentCardComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: OrderPaymentCardComponent, selector: \"vdr-order-payment-card\", inputs: { payment: \"payment\", currencyCode: \"currencyCode\" }, outputs: { settlePayment: \"settlePayment\", transitionPaymentState: \"transitionPaymentState\", settleRefund: \"settleRefund\" }, ngImport: i0, template: \"<div class=\\\"card\\\">\\r\\n    <div class=\\\"card-header payment-header\\\">\\r\\n        <div>\\r\\n            {{ 'order.payment' | translate }}\\r\\n            <ng-container *ngIf=\\\"payment.amount\\\">{{ payment.amount | localeCurrency : currencyCode }}</ng-container>\\r\\n        </div>\\r\\n        <div class=\\\"payment-state\\\">\\r\\n            <vdr-payment-state-label [state]=\\\"payment.state\\\"></vdr-payment-state-label>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"card-block\\\">\\r\\n        <vdr-payment-detail [payment]=\\\"payment\\\" [currencyCode]=\\\"currencyCode\\\"></vdr-payment-detail>\\r\\n    </div>\\r\\n    <ng-container *ngFor=\\\"let refund of payment.refunds\\\">\\r\\n        <div class=\\\"refund-wrapper card-block\\\">\\r\\n            <div class=\\\"card-header payment-header refund-header\\\">\\r\\n                <clr-icon shape=\\\"redo\\\" class=\\\"refund-icon\\\" dir=\\\"down\\\"></clr-icon>\\r\\n                {{ 'order.refund' | translate }} #{{ refund.id }}\\r\\n                <div class=\\\"clr-flex-fill\\\"></div>\\r\\n                <vdr-refund-state-label [state]=\\\"refund.state\\\"></vdr-refund-state-label>\\r\\n            </div>\\r\\n            <div class=\\\"card-block\\\">\\r\\n                <vdr-labeled-data [label]=\\\"'common.created-at' | translate\\\">\\r\\n                    {{ refund.createdAt | localeDate : 'medium' }}\\r\\n                </vdr-labeled-data>\\r\\n                <vdr-labeled-data [label]=\\\"'order.refund-total' | translate\\\">\\r\\n                    {{ refund.total | localeCurrency : currencyCode }}\\r\\n                </vdr-labeled-data>\\r\\n                <vdr-labeled-data [label]=\\\"'order.transaction-id' | translate\\\" *ngIf=\\\"refund.transactionId\\\">\\r\\n                    {{ refund.transactionId }}\\r\\n                </vdr-labeled-data>\\r\\n                <vdr-labeled-data [label]=\\\"'order.refund-reason' | translate\\\" *ngIf=\\\"refund.reason\\\">\\r\\n                    {{ refund.reason }}\\r\\n                </vdr-labeled-data>\\r\\n                <vdr-labeled-data\\r\\n                    [label]=\\\"'order.refund-metadata' | translate\\\"\\r\\n                    *ngIf=\\\"refundHasMetadata(refund)\\\"\\r\\n                >\\r\\n                    <vdr-object-tree [value]=\\\"refund.metadata\\\"></vdr-object-tree>\\r\\n                </vdr-labeled-data>\\r\\n            </div>\\r\\n            <div class=\\\"card-footer\\\" *ngIf=\\\"refund.state === 'Pending'\\\">\\r\\n                <button class=\\\"btn btn-sm btn-primary\\\" (click)=\\\"settleRefund.emit(refund)\\\">\\r\\n                    {{ 'order.settle-refund' | translate }}\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </ng-container>\\r\\n    <div class=\\\"card-footer\\\" *ngIf=\\\"payment.nextStates.length\\\">\\r\\n        <button\\r\\n            class=\\\"btn btn-sm btn-primary\\\"\\r\\n            *ngIf=\\\"payment.nextStates.includes('Settled')\\\"\\r\\n            (click)=\\\"settlePayment.emit(payment)\\\"\\r\\n        >\\r\\n            {{ 'order.settle-payment' | translate }}\\r\\n        </button>\\r\\n        <vdr-dropdown>\\r\\n            <button class=\\\"icon-button\\\" vdrDropdownTrigger>\\r\\n                <clr-icon shape=\\\"ellipsis-vertical\\\"></clr-icon>\\r\\n            </button>\\r\\n            <vdr-dropdown-menu vdrPosition=\\\"bottom-right\\\">\\r\\n                <ng-container *ngFor=\\\"let nextState of nextOtherStates()\\\">\\r\\n                    <button\\r\\n                        type=\\\"button\\\"\\r\\n                        vdrDropdownItem\\r\\n                        (click)=\\\"transitionPaymentState.emit({ payment: payment, state: nextState })\\\"\\r\\n                    >\\r\\n                        <ng-container *ngIf=\\\"nextState !== 'Cancelled'; else cancel\\\">\\r\\n                            <clr-icon shape=\\\"step-forward-2\\\"></clr-icon>\\r\\n                            {{\\r\\n                                'order.transition-to-state'\\r\\n                                    | translate : { state: (nextState | stateI18nToken | translate) }\\r\\n                            }}\\r\\n                        </ng-container>\\r\\n                        <ng-template #cancel>\\r\\n                            <clr-icon shape=\\\"error-standard\\\" class=\\\"is-error\\\"></clr-icon>\\r\\n                            {{ 'order.cancel-payment' | translate }}\\r\\n                        </ng-template>\\r\\n                    </button>\\r\\n                </ng-container>\\r\\n            </vdr-dropdown-menu>\\r\\n        </vdr-dropdown>\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\":host{display:block}.payment-header{display:flex;justify-content:space-between;align-items:center;line-break:anywhere}.refund-icon{margin-inline-end:6px;color:var(--color-grey-400)}.card-footer{display:flex;align-items:center;justify-content:flex-end}.refund-wrapper{font-size:var(--font-size-xs)}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i3$1.Dir, selector: \"[dir]\", inputs: [\"dir\"], outputs: [\"dirChange\"], exportAs: [\"dir\"] }, { kind: \"component\", type: i1.DropdownComponent, selector: \"vdr-dropdown\", inputs: [\"manualToggle\"] }, { kind: \"component\", type: i1.DropdownMenuComponent, selector: \"vdr-dropdown-menu\", inputs: [\"vdrPosition\", \"customClasses\"] }, { kind: \"directive\", type: i1.DropdownTriggerDirective, selector: \"[vdrDropdownTrigger]\" }, { kind: \"directive\", type: i1.DropdownItemDirective, selector: \"[vdrDropdownItem]\" }, { kind: \"component\", type: i1.LabeledDataComponent, selector: \"vdr-labeled-data\", inputs: [\"label\"] }, { kind: \"component\", type: i1.ObjectTreeComponent, selector: \"vdr-object-tree\", inputs: [\"value\", \"isArrayItem\"] }, { kind: \"component\", type: PaymentStateLabelComponent, selector: \"vdr-payment-state-label\", inputs: [\"state\"] }, { kind: \"component\", type: RefundStateLabelComponent, selector: \"vdr-refund-state-label\", inputs: [\"state\"] }, { kind: \"component\", type: PaymentDetailComponent, selector: \"vdr-payment-detail\", inputs: [\"payment\", \"currencyCode\"] }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.StateI18nTokenPipe, name: \"stateI18nToken\" }, { kind: \"pipe\", type: i1.LocaleDatePipe, name: \"localeDate\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderPaymentCardComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-order-payment-card', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"card\\\">\\r\\n    <div class=\\\"card-header payment-header\\\">\\r\\n        <div>\\r\\n            {{ 'order.payment' | translate }}\\r\\n            <ng-container *ngIf=\\\"payment.amount\\\">{{ payment.amount | localeCurrency : currencyCode }}</ng-container>\\r\\n        </div>\\r\\n        <div class=\\\"payment-state\\\">\\r\\n            <vdr-payment-state-label [state]=\\\"payment.state\\\"></vdr-payment-state-label>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"card-block\\\">\\r\\n        <vdr-payment-detail [payment]=\\\"payment\\\" [currencyCode]=\\\"currencyCode\\\"></vdr-payment-detail>\\r\\n    </div>\\r\\n    <ng-container *ngFor=\\\"let refund of payment.refunds\\\">\\r\\n        <div class=\\\"refund-wrapper card-block\\\">\\r\\n            <div class=\\\"card-header payment-header refund-header\\\">\\r\\n                <clr-icon shape=\\\"redo\\\" class=\\\"refund-icon\\\" dir=\\\"down\\\"></clr-icon>\\r\\n                {{ 'order.refund' | translate }} #{{ refund.id }}\\r\\n                <div class=\\\"clr-flex-fill\\\"></div>\\r\\n                <vdr-refund-state-label [state]=\\\"refund.state\\\"></vdr-refund-state-label>\\r\\n            </div>\\r\\n            <div class=\\\"card-block\\\">\\r\\n                <vdr-labeled-data [label]=\\\"'common.created-at' | translate\\\">\\r\\n                    {{ refund.createdAt | localeDate : 'medium' }}\\r\\n                </vdr-labeled-data>\\r\\n                <vdr-labeled-data [label]=\\\"'order.refund-total' | translate\\\">\\r\\n                    {{ refund.total | localeCurrency : currencyCode }}\\r\\n                </vdr-labeled-data>\\r\\n                <vdr-labeled-data [label]=\\\"'order.transaction-id' | translate\\\" *ngIf=\\\"refund.transactionId\\\">\\r\\n                    {{ refund.transactionId }}\\r\\n                </vdr-labeled-data>\\r\\n                <vdr-labeled-data [label]=\\\"'order.refund-reason' | translate\\\" *ngIf=\\\"refund.reason\\\">\\r\\n                    {{ refund.reason }}\\r\\n                </vdr-labeled-data>\\r\\n                <vdr-labeled-data\\r\\n                    [label]=\\\"'order.refund-metadata' | translate\\\"\\r\\n                    *ngIf=\\\"refundHasMetadata(refund)\\\"\\r\\n                >\\r\\n                    <vdr-object-tree [value]=\\\"refund.metadata\\\"></vdr-object-tree>\\r\\n                </vdr-labeled-data>\\r\\n            </div>\\r\\n            <div class=\\\"card-footer\\\" *ngIf=\\\"refund.state === 'Pending'\\\">\\r\\n                <button class=\\\"btn btn-sm btn-primary\\\" (click)=\\\"settleRefund.emit(refund)\\\">\\r\\n                    {{ 'order.settle-refund' | translate }}\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </ng-container>\\r\\n    <div class=\\\"card-footer\\\" *ngIf=\\\"payment.nextStates.length\\\">\\r\\n        <button\\r\\n            class=\\\"btn btn-sm btn-primary\\\"\\r\\n            *ngIf=\\\"payment.nextStates.includes('Settled')\\\"\\r\\n            (click)=\\\"settlePayment.emit(payment)\\\"\\r\\n        >\\r\\n            {{ 'order.settle-payment' | translate }}\\r\\n        </button>\\r\\n        <vdr-dropdown>\\r\\n            <button class=\\\"icon-button\\\" vdrDropdownTrigger>\\r\\n                <clr-icon shape=\\\"ellipsis-vertical\\\"></clr-icon>\\r\\n            </button>\\r\\n            <vdr-dropdown-menu vdrPosition=\\\"bottom-right\\\">\\r\\n                <ng-container *ngFor=\\\"let nextState of nextOtherStates()\\\">\\r\\n                    <button\\r\\n                        type=\\\"button\\\"\\r\\n                        vdrDropdownItem\\r\\n                        (click)=\\\"transitionPaymentState.emit({ payment: payment, state: nextState })\\\"\\r\\n                    >\\r\\n                        <ng-container *ngIf=\\\"nextState !== 'Cancelled'; else cancel\\\">\\r\\n                            <clr-icon shape=\\\"step-forward-2\\\"></clr-icon>\\r\\n                            {{\\r\\n                                'order.transition-to-state'\\r\\n                                    | translate : { state: (nextState | stateI18nToken | translate) }\\r\\n                            }}\\r\\n                        </ng-container>\\r\\n                        <ng-template #cancel>\\r\\n                            <clr-icon shape=\\\"error-standard\\\" class=\\\"is-error\\\"></clr-icon>\\r\\n                            {{ 'order.cancel-payment' | translate }}\\r\\n                        </ng-template>\\r\\n                    </button>\\r\\n                </ng-container>\\r\\n            </vdr-dropdown-menu>\\r\\n        </vdr-dropdown>\\r\\n    </div>\\r\\n</div>\\r\\n\", styles: [\":host{display:block}.payment-header{display:flex;justify-content:space-between;align-items:center;line-break:anywhere}.refund-icon{margin-inline-end:6px;color:var(--color-grey-400)}.card-footer{display:flex;align-items:center;justify-content:flex-end}.refund-wrapper{font-size:var(--font-size-xs)}\\n\"] }]\n        }], propDecorators: { payment: [{\n                type: Input\n            }], currencyCode: [{\n                type: Input\n            }], settlePayment: [{\n                type: Output\n            }], transitionPaymentState: [{\n                type: Output\n            }], settleRefund: [{\n                type: Output\n            }] } });\n\nclass OrderHistoryEntryHostComponent {\n    constructor(historyEntryComponentService) {\n        this.historyEntryComponentService = historyEntryComponentService;\n        this.expandClick = new EventEmitter();\n    }\n    ngOnInit() {\n        const componentType = this.historyEntryComponentService.getComponent(this.entry.type);\n        const componentRef = this.portalRef.createComponent(componentType);\n        componentRef.instance.entry = this.entry;\n        componentRef.instance.order = this.order;\n        this.instance = componentRef.instance;\n        this.componentRef = componentRef;\n    }\n    ngOnDestroy() {\n        this.componentRef?.destroy();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderHistoryEntryHostComponent, deps: [{ token: i1.HistoryEntryComponentService }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: OrderHistoryEntryHostComponent, selector: \"vdr-order-history-entry-host\", inputs: { entry: \"entry\", order: \"order\", expanded: \"expanded\" }, outputs: { expandClick: \"expandClick\" }, viewQueries: [{ propertyName: \"portalRef\", first: true, predicate: [\"portal\"], descendants: true, read: ViewContainerRef, static: true }], exportAs: [\"historyEntry\"], ngImport: i0, template: `<vdr-timeline-entry\r\n        [displayType]=\"instance.getDisplayType(entry)\"\r\n        [iconShape]=\"instance.getIconShape && instance.getIconShape(entry)\"\r\n        [createdAt]=\"entry.createdAt\"\r\n        [name]=\"instance.getName && instance.getName(entry)\"\r\n        [featured]=\"instance.isFeatured(entry)\"\r\n        [collapsed]=\"!expanded && !instance.isFeatured(entry)\"\r\n        (expandClick)=\"expandClick.emit()\"\r\n    >\r\n        <div #portal></div>\r\n    </vdr-timeline-entry>`, isInline: true, dependencies: [{ kind: \"component\", type: i1.TimelineEntryComponent, selector: \"vdr-timeline-entry\", inputs: [\"displayType\", \"createdAt\", \"name\", \"featured\", \"iconShape\", \"isFirst\", \"isLast\", \"collapsed\"], outputs: [\"expandClick\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderHistoryEntryHostComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'vdr-order-history-entry-host',\n                    template: `<vdr-timeline-entry\r\n        [displayType]=\"instance.getDisplayType(entry)\"\r\n        [iconShape]=\"instance.getIconShape && instance.getIconShape(entry)\"\r\n        [createdAt]=\"entry.createdAt\"\r\n        [name]=\"instance.getName && instance.getName(entry)\"\r\n        [featured]=\"instance.isFeatured(entry)\"\r\n        [collapsed]=\"!expanded && !instance.isFeatured(entry)\"\r\n        (expandClick)=\"expandClick.emit()\"\r\n    >\r\n        <div #portal></div>\r\n    </vdr-timeline-entry>`,\n                    exportAs: 'historyEntry',\n                }]\n        }], ctorParameters: () => [{ type: i1.HistoryEntryComponentService }], propDecorators: { entry: [{\n                type: Input\n            }], order: [{\n                type: Input\n            }], expanded: [{\n                type: Input\n            }], expandClick: [{\n                type: Output\n            }], portalRef: [{\n                type: ViewChild,\n                args: ['portal', { static: true, read: ViewContainerRef }]\n            }] } });\n\nclass OrderHistoryComponent {\n    constructor(historyEntryComponentService) {\n        this.historyEntryComponentService = historyEntryComponentService;\n        this.addNote = new EventEmitter();\n        this.updateNote = new EventEmitter();\n        this.deleteNote = new EventEmitter();\n        this.note = '';\n        this.noteIsPrivate = true;\n        this.expanded = false;\n        this.type = HistoryEntryType;\n    }\n    hasCustomComponent(type) {\n        return !!this.historyEntryComponentService.getComponent(type);\n    }\n    getDisplayType(entry) {\n        if (entry.type === HistoryEntryType.ORDER_STATE_TRANSITION) {\n            if (entry.data.to === 'Delivered') {\n                return 'success';\n            }\n            if (entry.data.to === 'Cancelled') {\n                return 'error';\n            }\n        }\n        if (entry.type === HistoryEntryType.ORDER_FULFILLMENT_TRANSITION) {\n            if (entry.data.to === 'Delivered') {\n                return 'success';\n            }\n        }\n        if (entry.type === HistoryEntryType.ORDER_PAYMENT_TRANSITION) {\n            if (entry.data.to === 'Declined' || entry.data.to === 'Cancelled') {\n                return 'error';\n            }\n        }\n        if (entry.type === HistoryEntryType.ORDER_CANCELLATION) {\n            return 'warning';\n        }\n        if (entry.type === HistoryEntryType.ORDER_REFUND_TRANSITION) {\n            return 'warning';\n        }\n        return 'default';\n    }\n    getTimelineIcon(entry) {\n        if (entry.type === HistoryEntryType.ORDER_STATE_TRANSITION) {\n            if (entry.data.to === 'Delivered') {\n                return ['success-standard', 'is-solid'];\n            }\n            if (entry.data.to === 'Cancelled') {\n                return 'ban';\n            }\n        }\n        if (entry.type === HistoryEntryType.ORDER_PAYMENT_TRANSITION) {\n            if (entry.data.to === 'Settled') {\n                return 'credit-card';\n            }\n        }\n        if (entry.type === HistoryEntryType.ORDER_REFUND_TRANSITION) {\n            if (entry.data.to === 'Settled') {\n                return 'credit-card';\n            }\n        }\n        if (entry.type === HistoryEntryType.ORDER_NOTE) {\n            return 'note';\n        }\n        if (entry.type === HistoryEntryType.ORDER_MODIFIED) {\n            return 'pencil';\n        }\n        if (entry.type === HistoryEntryType.ORDER_CUSTOMER_UPDATED) {\n            return 'switch';\n        }\n        if (entry.type === HistoryEntryType.ORDER_FULFILLMENT_TRANSITION) {\n            if (entry.data.to === 'Shipped') {\n                return 'truck';\n            }\n            if (entry.data.to === 'Delivered') {\n                return 'truck';\n            }\n        }\n    }\n    isFeatured(entry) {\n        switch (entry.type) {\n            case HistoryEntryType.ORDER_STATE_TRANSITION: {\n                return (entry.data.to === 'Delivered' ||\n                    entry.data.to === 'Cancelled' ||\n                    entry.data.to === 'Settled');\n            }\n            case HistoryEntryType.ORDER_REFUND_TRANSITION:\n                return entry.data.to === 'Settled';\n            case HistoryEntryType.ORDER_PAYMENT_TRANSITION:\n                return entry.data.to === 'Settled' || entry.data.to === 'Cancelled';\n            case HistoryEntryType.ORDER_FULFILLMENT_TRANSITION:\n                return entry.data.to === 'Delivered' || entry.data.to === 'Shipped';\n            case HistoryEntryType.ORDER_NOTE:\n            case HistoryEntryType.ORDER_MODIFIED:\n            case HistoryEntryType.ORDER_CUSTOMER_UPDATED:\n                return true;\n            default:\n                return false;\n        }\n    }\n    getFulfillment(entry) {\n        if ((entry.type === HistoryEntryType.ORDER_FULFILLMENT ||\n            entry.type === HistoryEntryType.ORDER_FULFILLMENT_TRANSITION) &&\n            this.order.fulfillments) {\n            return this.order.fulfillments.find(f => f.id === entry.data.fulfillmentId);\n        }\n    }\n    getPayment(entry) {\n        if (entry.type === HistoryEntryType.ORDER_PAYMENT_TRANSITION && this.order.payments) {\n            return this.order.payments.find(p => p.id === entry.data.paymentId);\n        }\n    }\n    getRefund(entry) {\n        if (entry.type === HistoryEntryType.ORDER_REFUND_TRANSITION && this.order.payments) {\n            const allRefunds = this.order.payments.reduce((refunds, payment) => refunds.concat(payment.refunds), []);\n            return allRefunds.find(r => r.id === entry.data.refundId);\n        }\n    }\n    getCancelledQuantity(entry) {\n        return entry.data.lines.reduce((total, line) => total + line.quantity, 0);\n    }\n    getCancelledItems(cancellationLines) {\n        const itemMap = new Map();\n        for (const line of this.order.lines) {\n            const cancellationLine = cancellationLines.find(l => l.orderLineId === line.id);\n            if (cancellationLine) {\n                const count = itemMap.get(line.productVariant.name);\n                itemMap.set(line.productVariant.name, cancellationLine.quantity);\n            }\n        }\n        return Array.from(itemMap.entries()).map(([name, quantity]) => ({ name, quantity }));\n    }\n    getModification(id) {\n        return this.order.modifications.find(m => m.id === id);\n    }\n    getName(entry) {\n        const { administrator } = entry;\n        if (administrator) {\n            return `${administrator.firstName} ${administrator.lastName}`;\n        }\n        else {\n            const customer = this.order.customer;\n            if (customer) {\n                return `${customer.firstName} ${customer.lastName}`;\n            }\n        }\n        return '';\n    }\n    addNoteToOrder() {\n        this.addNote.emit({ note: this.note, isPublic: !this.noteIsPrivate });\n        this.note = '';\n        this.noteIsPrivate = true;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderHistoryComponent, deps: [{ token: i1.HistoryEntryComponentService }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: OrderHistoryComponent, selector: \"vdr-order-history\", inputs: { order: \"order\", history: \"history\" }, outputs: { addNote: \"addNote\", updateNote: \"updateNote\", deleteNote: \"deleteNote\" }, ngImport: i0, template: \"<div class=\\\"entry-list\\\" [class.expanded]=\\\"expanded\\\">\\r\\n    <vdr-timeline-entry iconShape=\\\"note\\\" displayType=\\\"muted\\\" [featured]=\\\"true\\\" [isFirst]=\\\"true\\\">\\r\\n        <div class=\\\"note-entry\\\">\\r\\n            <textarea [(ngModel)]=\\\"note\\\" name=\\\"note\\\" class=\\\"note\\\"></textarea>\\r\\n            <button class=\\\"btn btn-secondary\\\" [disabled]=\\\"!note\\\" (click)=\\\"addNoteToOrder()\\\">\\r\\n                {{ 'common.add-note' | translate }}\\r\\n            </button>\\r\\n        </div>\\r\\n        <div class=\\\"visibility-select\\\">\\r\\n            <clr-checkbox-wrapper>\\r\\n                <input type=\\\"checkbox\\\" clrCheckbox [(ngModel)]=\\\"noteIsPrivate\\\" />\\r\\n                <label>{{ 'order.note-is-private' | translate }}</label>\\r\\n            </clr-checkbox-wrapper>\\r\\n            <span *ngIf=\\\"noteIsPrivate\\\" class=\\\"private\\\">\\r\\n                {{ 'order.note-only-visible-to-administrators' | translate }}\\r\\n            </span>\\r\\n            <span *ngIf=\\\"!noteIsPrivate\\\" class=\\\"public\\\">\\r\\n                {{ 'order.note-visible-to-customer' | translate }}\\r\\n            </span>\\r\\n        </div>\\r\\n    </vdr-timeline-entry>\\r\\n    <ng-container *ngFor=\\\"let entry of history\\\">\\r\\n        <vdr-order-history-entry-host\\r\\n            *ngIf=\\\"hasCustomComponent(entry.type); else defaultComponents\\\"\\r\\n            [order]=\\\"order\\\"\\r\\n            [entry]=\\\"entry\\\"\\r\\n            [expanded]=\\\"expanded\\\"\\r\\n            (expandClick)=\\\"expanded = !expanded\\\"\\r\\n        ></vdr-order-history-entry-host>\\r\\n        <ng-template #defaultComponents>\\r\\n            <vdr-timeline-entry\\r\\n                [displayType]=\\\"getDisplayType(entry)\\\"\\r\\n                [iconShape]=\\\"getTimelineIcon(entry)\\\"\\r\\n                [createdAt]=\\\"entry.createdAt\\\"\\r\\n                [name]=\\\"getName(entry)\\\"\\r\\n                [featured]=\\\"isFeatured(entry)\\\"\\r\\n                [collapsed]=\\\"!expanded && !isFeatured(entry)\\\"\\r\\n                (expandClick)=\\\"expanded = !expanded\\\"\\r\\n            >\\r\\n                <ng-container [ngSwitch]=\\\"entry.type\\\">\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_STATE_TRANSITION\\\">\\r\\n                        <div class=\\\"title\\\" *ngIf=\\\"entry.data.to === 'Delivered'\\\">\\r\\n                            {{ 'order.history-order-fulfilled' | translate }}\\r\\n                        </div>\\r\\n                        <div class=\\\"title\\\" *ngIf=\\\"entry.data.to === 'Cancelled'\\\">\\r\\n                            {{ 'order.history-order-cancelled' | translate }}\\r\\n                        </div>\\r\\n                        <ng-template [ngIf]=\\\"entry.data.to !== 'Cancelled' && entry.data.to !== 'Delivered'\\\">\\r\\n                            {{\\r\\n                                'order.history-order-transition'\\r\\n                                    | translate : { from: entry.data.from, to: entry.data.to }\\r\\n                            }}\\r\\n                        </ng-template>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_MODIFIED\\\">\\r\\n                        <div class=\\\"title\\\">\\r\\n                            {{ 'order.history-order-modified' | translate }}\\r\\n                        </div>\\r\\n                        <div\\r\\n                            class=\\\"flex items-center\\\"\\r\\n                            *ngIf=\\\"getModification(entry.data.modificationId) as modification\\\"\\r\\n                        >\\r\\n                            {{ 'order.modify-order-price-difference' | translate }}:\\r\\n                            <strong>{{\\r\\n                                modification.priceChange | localeCurrency : order.currencyCode\\r\\n                            }}</strong>\\r\\n                            <vdr-chip colorType=\\\"success\\\" class=\\\"mx-1\\\" *ngIf=\\\"modification.isSettled\\\">{{\\r\\n                                'order.modification-settled' | translate\\r\\n                            }}</vdr-chip>\\r\\n                            <vdr-chip colorType=\\\"error\\\" class=\\\"mx-1\\\" *ngIf=\\\"!modification.isSettled\\\">{{\\r\\n                                'order.modification-not-settled' | translate\\r\\n                            }}</vdr-chip>\\r\\n                            <vdr-history-entry-detail>\\r\\n                                <vdr-modification-detail\\r\\n                                    [order]=\\\"order\\\"\\r\\n                                    [modification]=\\\"modification\\\"\\r\\n                                ></vdr-modification-detail>\\r\\n                            </vdr-history-entry-detail>\\r\\n                        </div>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_PAYMENT_TRANSITION\\\">\\r\\n                        <ng-container *ngIf=\\\"entry.data.to === 'Settled'; else regularPaymentTransition\\\">\\r\\n                            <div class=\\\"title\\\">\\r\\n                                {{ 'order.history-payment-settled' | translate }}\\r\\n                            </div>\\r\\n                            <div class=\\\"flex items-center\\\">\\r\\n                                <vdr-chip *ngIf=\\\"getPayment(entry) as payment\\\" class=\\\"mr-1\\\">{{\\r\\n                                    payment.amount | localeCurrency : order.currencyCode\\r\\n                                }}</vdr-chip>\\r\\n                                <vdr-history-entry-detail *ngIf=\\\"getPayment(entry) as payment\\\">\\r\\n                                    <vdr-payment-detail\\r\\n                                        [payment]=\\\"payment\\\"\\r\\n                                        [currencyCode]=\\\"order.currencyCode\\\"\\r\\n                                    ></vdr-payment-detail>\\r\\n                                </vdr-history-entry-detail>\\r\\n                            </div>\\r\\n                        </ng-container>\\r\\n                        <ng-template #regularPaymentTransition>\\r\\n                            {{\\r\\n                                'order.history-payment-transition'\\r\\n                                    | translate\\r\\n                                        : {\\r\\n                                              from: entry.data.from,\\r\\n                                              to: entry.data.to,\\r\\n                                              id: getPayment(entry)?.transactionId\\r\\n                                          }\\r\\n                            }}\\r\\n                        </ng-template>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_REFUND_TRANSITION\\\">\\r\\n                        <ng-container *ngIf=\\\"entry.data.to === 'Settled'; else regularRefundTransition\\\">\\r\\n                            <ng-container *ngIf=\\\"getRefund(entry) as refund\\\">\\r\\n                                <div class=\\\"title\\\">{{ 'order.refund' | translate }} #{{ refund.id }}</div>\\r\\n                                <div class=\\\"flex items-center\\\">\\r\\n                                    <vdr-chip colorType=\\\"warning\\\" class=\\\"mr-1\\\">{{\\r\\n                                        refund.total | localeCurrency : order.currencyCode\\r\\n                                    }}</vdr-chip>\\r\\n                                    <vdr-history-entry-detail>\\r\\n                                        <vdr-labeled-data [label]=\\\"'order.cancellation-reason' | translate\\\">\\r\\n                                            {{ entry.data.reason }}\\r\\n                                        </vdr-labeled-data>\\r\\n                                        <vdr-labeled-data [label]=\\\"'order.contents' | translate\\\">\\r\\n                                            <vdr-simple-item-list\\r\\n                                                [items]=\\\"getCancelledItems(refund.lines)\\\"\\r\\n                                            ></vdr-simple-item-list>\\r\\n                                        </vdr-labeled-data>\\r\\n                                    </vdr-history-entry-detail>\\r\\n                                </div>\\r\\n                            </ng-container>\\r\\n                        </ng-container>\\r\\n                        <ng-template #regularRefundTransition>\\r\\n                            {{\\r\\n                                'order.history-refund-transition'\\r\\n                                    | translate\\r\\n                                        : {\\r\\n                                              from: entry.data.from,\\r\\n                                              to: entry.data.to,\\r\\n                                              id: entry.data.refundId\\r\\n                                          }\\r\\n                            }}\\r\\n                        </ng-template>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_CANCELLATION\\\">\\r\\n                        {{\\r\\n                            'order.history-items-cancelled'\\r\\n                                | translate : { count: getCancelledQuantity(entry) }\\r\\n                        }}\\r\\n                        <vdr-history-entry-detail *ngIf=\\\"getCancelledItems(entry.data.lines) as items\\\">\\r\\n                            <vdr-labeled-data [label]=\\\"'order.cancellation-reason' | translate\\\">\\r\\n                                {{ entry.data.reason }}\\r\\n                            </vdr-labeled-data>\\r\\n                            <vdr-labeled-data [label]=\\\"'order.contents' | translate\\\">\\r\\n                                <vdr-simple-item-list [items]=\\\"items\\\"></vdr-simple-item-list>\\r\\n                            </vdr-labeled-data>\\r\\n                            <vdr-labeled-data [label]=\\\"'order.shipping-cancelled' | translate\\\">\\r\\n                                {{ entry.data.shippingCancelled }}\\r\\n                            </vdr-labeled-data>\\r\\n                        </vdr-history-entry-detail>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_FULFILLMENT\\\">\\r\\n                        {{ 'order.history-fulfillment-created' | translate }}\\r\\n                        <vdr-history-entry-detail *ngIf=\\\"getFulfillment(entry) as fulfillment\\\">\\r\\n                            <vdr-fulfillment-detail\\r\\n                                [fulfillmentId]=\\\"fulfillment.id\\\"\\r\\n                                [order]=\\\"order\\\"\\r\\n                            ></vdr-fulfillment-detail>\\r\\n                        </vdr-history-entry-detail>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_FULFILLMENT_TRANSITION\\\">\\r\\n                        <ng-container *ngIf=\\\"entry.data.to === 'Delivered'\\\">\\r\\n                            <div class=\\\"title\\\">\\r\\n                                {{ 'order.history-fulfillment-delivered' | translate }}\\r\\n                            </div>\\r\\n                            {{ 'order.tracking-code' | translate }}: {{ getFulfillment(entry)?.trackingCode }}\\r\\n                        </ng-container>\\r\\n                        <ng-container *ngIf=\\\"entry.data.to === 'Shipped'\\\">\\r\\n                            <div class=\\\"title\\\">\\r\\n                                {{ 'order.history-fulfillment-shipped' | translate }}\\r\\n                            </div>\\r\\n                            {{ 'order.tracking-code' | translate }}: {{ getFulfillment(entry)?.trackingCode }}\\r\\n                        </ng-container>\\r\\n                        <ng-container *ngIf=\\\"entry.data.to !== 'Delivered' && entry.data.to !== 'Shipped'\\\">\\r\\n                            {{\\r\\n                                'order.history-fulfillment-transition'\\r\\n                                    | translate : { from: entry.data.from, to: entry.data.to }\\r\\n                            }}\\r\\n                        </ng-container>\\r\\n                        <vdr-history-entry-detail *ngIf=\\\"getFulfillment(entry) as fulfillment\\\">\\r\\n                            <vdr-fulfillment-detail\\r\\n                                [fulfillmentId]=\\\"fulfillment.id\\\"\\r\\n                                [order]=\\\"order\\\"\\r\\n                            ></vdr-fulfillment-detail>\\r\\n                        </vdr-history-entry-detail>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_NOTE\\\">\\r\\n                        <div class=\\\"flex\\\">\\r\\n                            <div class=\\\"note-text\\\">\\r\\n                                <span *ngIf=\\\"entry.isPublic\\\" class=\\\"note-visibility public\\\">{{\\r\\n                                    'common.public' | translate\\r\\n                                }}</span>\\r\\n                                <span *ngIf=\\\"!entry.isPublic\\\" class=\\\"note-visibility private\\\">{{\\r\\n                                    'common.private' | translate\\r\\n                                }}</span>\\r\\n                                {{ entry.data.note }}\\r\\n                            </div>\\r\\n                            <div class=\\\"flex-spacer\\\"></div>\\r\\n                            <vdr-dropdown>\\r\\n                                <button class=\\\"button-small ml-1\\\" vdrDropdownTrigger>\\r\\n                                    <clr-icon shape=\\\"ellipsis-vertical\\\" size=\\\"12\\\"></clr-icon>\\r\\n                                </button>\\r\\n                                <vdr-dropdown-menu vdrPosition=\\\"bottom-right\\\">\\r\\n                                    <button\\r\\n                                        vdrDropdownItem\\r\\n                                        (click)=\\\"updateNote.emit(entry)\\\"\\r\\n                                        [disabled]=\\\"!('UpdateOrder' | hasPermission)\\\"\\r\\n                                    >\\r\\n                                        <clr-icon shape=\\\"edit\\\"></clr-icon>\\r\\n                                        {{ 'common.edit' | translate }}\\r\\n                                    </button>\\r\\n                                    <div class=\\\"dropdown-divider\\\"></div>\\r\\n                                    <button\\r\\n                                        vdrDropdownItem\\r\\n                                        (click)=\\\"deleteNote.emit(entry)\\\"\\r\\n                                        [disabled]=\\\"!('UpdateOrder' | hasPermission)\\\"\\r\\n                                    >\\r\\n                                        <clr-icon shape=\\\"trash\\\" class=\\\"is-danger\\\"></clr-icon>\\r\\n                                        {{ 'common.delete' | translate }}\\r\\n                                    </button>\\r\\n                                </vdr-dropdown-menu>\\r\\n                            </vdr-dropdown>\\r\\n                        </div>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_COUPON_APPLIED\\\">\\r\\n                        {{ 'order.history-coupon-code-applied' | translate }}:\\r\\n                        <vdr-chip>\\r\\n                            <a [routerLink]=\\\"['/marketing', 'promotions', entry.data.promotionId]\\\">{{\\r\\n                                entry.data.couponCode\\r\\n                            }}</a>\\r\\n                        </vdr-chip>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_COUPON_REMOVED\\\">\\r\\n                        {{ 'order.history-coupon-code-removed' | translate }}:\\r\\n                        <vdr-chip\\r\\n                            ><span class=\\\"cancelled-coupon-code\\\">{{ entry.data.couponCode }}</span></vdr-chip\\r\\n                        >\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_CUSTOMER_UPDATED\\\">\\r\\n                        <div class=\\\"title\\\">\\r\\n                            {{\\r\\n                                'order.history-customer-updated'\\r\\n                                    | translate : { newCustomerName: entry.data.newCustomerName }\\r\\n                            }}\\r\\n                        </div>\\r\\n                        <div class=\\\"flex\\\">\\r\\n                            <div class=\\\"note-text\\\">\\r\\n                                {{ entry.data.note }}\\r\\n                            </div>\\r\\n                            <div class=\\\"flex-spacer\\\"></div>\\r\\n                            <vdr-history-entry-detail>\\r\\n                                <vdr-labeled-data [label]=\\\"'order.previous-customer' | translate\\\">\\r\\n                                    <a\\r\\n                                        *ngIf=\\\"entry.data.previousCustomerId\\\"\\r\\n                                        class=\\\"button-ghost\\\"\\r\\n                                        [routerLink]=\\\"[\\r\\n                                            '/customer',\\r\\n                                            'customers',\\r\\n                                            entry.data.previousCustomerId\\r\\n                                        ]\\\"\\r\\n                                    >\\r\\n                                        <clr-icon shape=\\\"user\\\" class=\\\"is-solid\\\"></clr-icon>\\r\\n                                        <span>{{ entry.data.previousCustomerName }}</span>\\r\\n                                        <clr-icon shape=\\\"arrow right\\\"></clr-icon>\\r\\n                                    </a>\\r\\n                                </vdr-labeled-data>\\r\\n                                <vdr-labeled-data [label]=\\\"'order.new-customer' | translate\\\">\\r\\n                                    <a\\r\\n                                        *ngIf=\\\"entry.data.newCustomerId\\\"\\r\\n                                        class=\\\"button-ghost\\\"\\r\\n                                        [routerLink]=\\\"['/customer', 'customers', entry.data.newCustomerId]\\\"\\r\\n                                    >\\r\\n                                        <clr-icon shape=\\\"user\\\" class=\\\"is-solid\\\"></clr-icon>\\r\\n                                        <span>{{ entry.data.newCustomerName }}</span>\\r\\n                                        <clr-icon shape=\\\"arrow right\\\"></clr-icon>\\r\\n                                    </a>\\r\\n                                </vdr-labeled-data>\\r\\n                            </vdr-history-entry-detail>\\r\\n                        </div>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchDefault>\\r\\n                        <div class=\\\"title\\\">\\r\\n                            {{ entry.type | translate }}\\r\\n                        </div>\\r\\n                        <vdr-history-entry-detail *ngIf=\\\"entry.data\\\">\\r\\n                            <vdr-object-tree [value]=\\\"entry.data\\\"></vdr-object-tree>\\r\\n                        </vdr-history-entry-detail>\\r\\n                    </ng-container>\\r\\n                </ng-container>\\r\\n            </vdr-timeline-entry>\\r\\n        </ng-template>\\r\\n    </ng-container>\\r\\n\\r\\n    <vdr-timeline-entry [isLast]=\\\"true\\\" [createdAt]=\\\"order.createdAt\\\" [featured]=\\\"true\\\">\\r\\n        <div class=\\\"title\\\">\\r\\n            {{ 'order.history-order-created' | translate }}\\r\\n        </div>\\r\\n    </vdr-timeline-entry>\\r\\n</div>\\r\\n\", styles: [\":host{display:block}.entry-list{margin-inline-start:calc(var(--space-unit) * 2)}.note-entry{display:flex;align-items:center}.note-entry .note{flex:1}.note-entry button{margin:0}.visibility-select{display:flex;justify-content:space-between;align-items:baseline}.visibility-select .public{color:var(--color-warning-700)}.visibility-select .private{color:var(--color-success-700)}textarea.note{flex:1;height:36px;border-radius:3px;margin-inline-end:6px}.note-text{color:var(--color-grey-800);white-space:pre-wrap;max-width:580px}.cancelled-coupon-code{text-decoration:line-through}.note-visibility{text-transform:lowercase}.note-visibility.public{color:var(--color-warning-700)}.note-visibility.private{color:var(--color-success-700)}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i3.ClrLabel, selector: \"label\", inputs: [\"for\"] }, { kind: \"directive\", type: i3.ClrCheckbox, selector: \"[clrCheckbox],[clrToggle]\" }, { kind: \"component\", type: i3.ClrCheckboxWrapper, selector: \"clr-checkbox-wrapper,clr-toggle-wrapper\" }, { kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i2$1.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { kind: \"directive\", type: i2$1.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { kind: \"directive\", type: i2$1.NgSwitchDefault, selector: \"[ngSwitchDefault]\" }, { kind: \"directive\", type: i2.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i2.CheckboxControlValueAccessor, selector: \"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]\" }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { kind: \"directive\", type: i1$1.RouterLink, selector: \"[routerLink]\", inputs: [\"target\", \"queryParams\", \"fragment\", \"queryParamsHandling\", \"state\", \"info\", \"relativeTo\", \"preserveFragment\", \"skipLocationChange\", \"replaceUrl\", \"routerLink\"] }, { kind: \"component\", type: i1.ChipComponent, selector: \"vdr-chip\", inputs: [\"icon\", \"invert\", \"colorFrom\", \"colorType\"], outputs: [\"iconClick\"] }, { kind: \"directive\", type: i1.FormFieldControlDirective, selector: \"input, textarea, select, vdr-currency-input\" }, { kind: \"component\", type: i1.DropdownComponent, selector: \"vdr-dropdown\", inputs: [\"manualToggle\"] }, { kind: \"component\", type: i1.DropdownMenuComponent, selector: \"vdr-dropdown-menu\", inputs: [\"vdrPosition\", \"customClasses\"] }, { kind: \"directive\", type: i1.DropdownTriggerDirective, selector: \"[vdrDropdownTrigger]\" }, { kind: \"directive\", type: i1.DropdownItemDirective, selector: \"[vdrDropdownItem]\" }, { kind: \"component\", type: i1.LabeledDataComponent, selector: \"vdr-labeled-data\", inputs: [\"label\"] }, { kind: \"component\", type: i1.ObjectTreeComponent, selector: \"vdr-object-tree\", inputs: [\"value\", \"isArrayItem\"] }, { kind: \"component\", type: i1.TimelineEntryComponent, selector: \"vdr-timeline-entry\", inputs: [\"displayType\", \"createdAt\", \"name\", \"featured\", \"iconShape\", \"isFirst\", \"isLast\", \"collapsed\"], outputs: [\"expandClick\"] }, { kind: \"component\", type: i1.HistoryEntryDetailComponent, selector: \"vdr-history-entry-detail\" }, { kind: \"component\", type: FulfillmentDetailComponent, selector: \"vdr-fulfillment-detail\", inputs: [\"fulfillmentId\", \"order\"] }, { kind: \"component\", type: PaymentDetailComponent, selector: \"vdr-payment-detail\", inputs: [\"payment\", \"currencyCode\"] }, { kind: \"component\", type: SimpleItemListComponent, selector: \"vdr-simple-item-list\", inputs: [\"items\"] }, { kind: \"component\", type: ModificationDetailComponent, selector: \"vdr-modification-detail\", inputs: [\"order\", \"modification\"] }, { kind: \"component\", type: OrderHistoryEntryHostComponent, selector: \"vdr-order-history-entry-host\", inputs: [\"entry\", \"order\", \"expanded\"], outputs: [\"expandClick\"], exportAs: [\"historyEntry\"] }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.HasPermissionPipe, name: \"hasPermission\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderHistoryComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-order-history', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"entry-list\\\" [class.expanded]=\\\"expanded\\\">\\r\\n    <vdr-timeline-entry iconShape=\\\"note\\\" displayType=\\\"muted\\\" [featured]=\\\"true\\\" [isFirst]=\\\"true\\\">\\r\\n        <div class=\\\"note-entry\\\">\\r\\n            <textarea [(ngModel)]=\\\"note\\\" name=\\\"note\\\" class=\\\"note\\\"></textarea>\\r\\n            <button class=\\\"btn btn-secondary\\\" [disabled]=\\\"!note\\\" (click)=\\\"addNoteToOrder()\\\">\\r\\n                {{ 'common.add-note' | translate }}\\r\\n            </button>\\r\\n        </div>\\r\\n        <div class=\\\"visibility-select\\\">\\r\\n            <clr-checkbox-wrapper>\\r\\n                <input type=\\\"checkbox\\\" clrCheckbox [(ngModel)]=\\\"noteIsPrivate\\\" />\\r\\n                <label>{{ 'order.note-is-private' | translate }}</label>\\r\\n            </clr-checkbox-wrapper>\\r\\n            <span *ngIf=\\\"noteIsPrivate\\\" class=\\\"private\\\">\\r\\n                {{ 'order.note-only-visible-to-administrators' | translate }}\\r\\n            </span>\\r\\n            <span *ngIf=\\\"!noteIsPrivate\\\" class=\\\"public\\\">\\r\\n                {{ 'order.note-visible-to-customer' | translate }}\\r\\n            </span>\\r\\n        </div>\\r\\n    </vdr-timeline-entry>\\r\\n    <ng-container *ngFor=\\\"let entry of history\\\">\\r\\n        <vdr-order-history-entry-host\\r\\n            *ngIf=\\\"hasCustomComponent(entry.type); else defaultComponents\\\"\\r\\n            [order]=\\\"order\\\"\\r\\n            [entry]=\\\"entry\\\"\\r\\n            [expanded]=\\\"expanded\\\"\\r\\n            (expandClick)=\\\"expanded = !expanded\\\"\\r\\n        ></vdr-order-history-entry-host>\\r\\n        <ng-template #defaultComponents>\\r\\n            <vdr-timeline-entry\\r\\n                [displayType]=\\\"getDisplayType(entry)\\\"\\r\\n                [iconShape]=\\\"getTimelineIcon(entry)\\\"\\r\\n                [createdAt]=\\\"entry.createdAt\\\"\\r\\n                [name]=\\\"getName(entry)\\\"\\r\\n                [featured]=\\\"isFeatured(entry)\\\"\\r\\n                [collapsed]=\\\"!expanded && !isFeatured(entry)\\\"\\r\\n                (expandClick)=\\\"expanded = !expanded\\\"\\r\\n            >\\r\\n                <ng-container [ngSwitch]=\\\"entry.type\\\">\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_STATE_TRANSITION\\\">\\r\\n                        <div class=\\\"title\\\" *ngIf=\\\"entry.data.to === 'Delivered'\\\">\\r\\n                            {{ 'order.history-order-fulfilled' | translate }}\\r\\n                        </div>\\r\\n                        <div class=\\\"title\\\" *ngIf=\\\"entry.data.to === 'Cancelled'\\\">\\r\\n                            {{ 'order.history-order-cancelled' | translate }}\\r\\n                        </div>\\r\\n                        <ng-template [ngIf]=\\\"entry.data.to !== 'Cancelled' && entry.data.to !== 'Delivered'\\\">\\r\\n                            {{\\r\\n                                'order.history-order-transition'\\r\\n                                    | translate : { from: entry.data.from, to: entry.data.to }\\r\\n                            }}\\r\\n                        </ng-template>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_MODIFIED\\\">\\r\\n                        <div class=\\\"title\\\">\\r\\n                            {{ 'order.history-order-modified' | translate }}\\r\\n                        </div>\\r\\n                        <div\\r\\n                            class=\\\"flex items-center\\\"\\r\\n                            *ngIf=\\\"getModification(entry.data.modificationId) as modification\\\"\\r\\n                        >\\r\\n                            {{ 'order.modify-order-price-difference' | translate }}:\\r\\n                            <strong>{{\\r\\n                                modification.priceChange | localeCurrency : order.currencyCode\\r\\n                            }}</strong>\\r\\n                            <vdr-chip colorType=\\\"success\\\" class=\\\"mx-1\\\" *ngIf=\\\"modification.isSettled\\\">{{\\r\\n                                'order.modification-settled' | translate\\r\\n                            }}</vdr-chip>\\r\\n                            <vdr-chip colorType=\\\"error\\\" class=\\\"mx-1\\\" *ngIf=\\\"!modification.isSettled\\\">{{\\r\\n                                'order.modification-not-settled' | translate\\r\\n                            }}</vdr-chip>\\r\\n                            <vdr-history-entry-detail>\\r\\n                                <vdr-modification-detail\\r\\n                                    [order]=\\\"order\\\"\\r\\n                                    [modification]=\\\"modification\\\"\\r\\n                                ></vdr-modification-detail>\\r\\n                            </vdr-history-entry-detail>\\r\\n                        </div>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_PAYMENT_TRANSITION\\\">\\r\\n                        <ng-container *ngIf=\\\"entry.data.to === 'Settled'; else regularPaymentTransition\\\">\\r\\n                            <div class=\\\"title\\\">\\r\\n                                {{ 'order.history-payment-settled' | translate }}\\r\\n                            </div>\\r\\n                            <div class=\\\"flex items-center\\\">\\r\\n                                <vdr-chip *ngIf=\\\"getPayment(entry) as payment\\\" class=\\\"mr-1\\\">{{\\r\\n                                    payment.amount | localeCurrency : order.currencyCode\\r\\n                                }}</vdr-chip>\\r\\n                                <vdr-history-entry-detail *ngIf=\\\"getPayment(entry) as payment\\\">\\r\\n                                    <vdr-payment-detail\\r\\n                                        [payment]=\\\"payment\\\"\\r\\n                                        [currencyCode]=\\\"order.currencyCode\\\"\\r\\n                                    ></vdr-payment-detail>\\r\\n                                </vdr-history-entry-detail>\\r\\n                            </div>\\r\\n                        </ng-container>\\r\\n                        <ng-template #regularPaymentTransition>\\r\\n                            {{\\r\\n                                'order.history-payment-transition'\\r\\n                                    | translate\\r\\n                                        : {\\r\\n                                              from: entry.data.from,\\r\\n                                              to: entry.data.to,\\r\\n                                              id: getPayment(entry)?.transactionId\\r\\n                                          }\\r\\n                            }}\\r\\n                        </ng-template>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_REFUND_TRANSITION\\\">\\r\\n                        <ng-container *ngIf=\\\"entry.data.to === 'Settled'; else regularRefundTransition\\\">\\r\\n                            <ng-container *ngIf=\\\"getRefund(entry) as refund\\\">\\r\\n                                <div class=\\\"title\\\">{{ 'order.refund' | translate }} #{{ refund.id }}</div>\\r\\n                                <div class=\\\"flex items-center\\\">\\r\\n                                    <vdr-chip colorType=\\\"warning\\\" class=\\\"mr-1\\\">{{\\r\\n                                        refund.total | localeCurrency : order.currencyCode\\r\\n                                    }}</vdr-chip>\\r\\n                                    <vdr-history-entry-detail>\\r\\n                                        <vdr-labeled-data [label]=\\\"'order.cancellation-reason' | translate\\\">\\r\\n                                            {{ entry.data.reason }}\\r\\n                                        </vdr-labeled-data>\\r\\n                                        <vdr-labeled-data [label]=\\\"'order.contents' | translate\\\">\\r\\n                                            <vdr-simple-item-list\\r\\n                                                [items]=\\\"getCancelledItems(refund.lines)\\\"\\r\\n                                            ></vdr-simple-item-list>\\r\\n                                        </vdr-labeled-data>\\r\\n                                    </vdr-history-entry-detail>\\r\\n                                </div>\\r\\n                            </ng-container>\\r\\n                        </ng-container>\\r\\n                        <ng-template #regularRefundTransition>\\r\\n                            {{\\r\\n                                'order.history-refund-transition'\\r\\n                                    | translate\\r\\n                                        : {\\r\\n                                              from: entry.data.from,\\r\\n                                              to: entry.data.to,\\r\\n                                              id: entry.data.refundId\\r\\n                                          }\\r\\n                            }}\\r\\n                        </ng-template>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_CANCELLATION\\\">\\r\\n                        {{\\r\\n                            'order.history-items-cancelled'\\r\\n                                | translate : { count: getCancelledQuantity(entry) }\\r\\n                        }}\\r\\n                        <vdr-history-entry-detail *ngIf=\\\"getCancelledItems(entry.data.lines) as items\\\">\\r\\n                            <vdr-labeled-data [label]=\\\"'order.cancellation-reason' | translate\\\">\\r\\n                                {{ entry.data.reason }}\\r\\n                            </vdr-labeled-data>\\r\\n                            <vdr-labeled-data [label]=\\\"'order.contents' | translate\\\">\\r\\n                                <vdr-simple-item-list [items]=\\\"items\\\"></vdr-simple-item-list>\\r\\n                            </vdr-labeled-data>\\r\\n                            <vdr-labeled-data [label]=\\\"'order.shipping-cancelled' | translate\\\">\\r\\n                                {{ entry.data.shippingCancelled }}\\r\\n                            </vdr-labeled-data>\\r\\n                        </vdr-history-entry-detail>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_FULFILLMENT\\\">\\r\\n                        {{ 'order.history-fulfillment-created' | translate }}\\r\\n                        <vdr-history-entry-detail *ngIf=\\\"getFulfillment(entry) as fulfillment\\\">\\r\\n                            <vdr-fulfillment-detail\\r\\n                                [fulfillmentId]=\\\"fulfillment.id\\\"\\r\\n                                [order]=\\\"order\\\"\\r\\n                            ></vdr-fulfillment-detail>\\r\\n                        </vdr-history-entry-detail>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_FULFILLMENT_TRANSITION\\\">\\r\\n                        <ng-container *ngIf=\\\"entry.data.to === 'Delivered'\\\">\\r\\n                            <div class=\\\"title\\\">\\r\\n                                {{ 'order.history-fulfillment-delivered' | translate }}\\r\\n                            </div>\\r\\n                            {{ 'order.tracking-code' | translate }}: {{ getFulfillment(entry)?.trackingCode }}\\r\\n                        </ng-container>\\r\\n                        <ng-container *ngIf=\\\"entry.data.to === 'Shipped'\\\">\\r\\n                            <div class=\\\"title\\\">\\r\\n                                {{ 'order.history-fulfillment-shipped' | translate }}\\r\\n                            </div>\\r\\n                            {{ 'order.tracking-code' | translate }}: {{ getFulfillment(entry)?.trackingCode }}\\r\\n                        </ng-container>\\r\\n                        <ng-container *ngIf=\\\"entry.data.to !== 'Delivered' && entry.data.to !== 'Shipped'\\\">\\r\\n                            {{\\r\\n                                'order.history-fulfillment-transition'\\r\\n                                    | translate : { from: entry.data.from, to: entry.data.to }\\r\\n                            }}\\r\\n                        </ng-container>\\r\\n                        <vdr-history-entry-detail *ngIf=\\\"getFulfillment(entry) as fulfillment\\\">\\r\\n                            <vdr-fulfillment-detail\\r\\n                                [fulfillmentId]=\\\"fulfillment.id\\\"\\r\\n                                [order]=\\\"order\\\"\\r\\n                            ></vdr-fulfillment-detail>\\r\\n                        </vdr-history-entry-detail>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_NOTE\\\">\\r\\n                        <div class=\\\"flex\\\">\\r\\n                            <div class=\\\"note-text\\\">\\r\\n                                <span *ngIf=\\\"entry.isPublic\\\" class=\\\"note-visibility public\\\">{{\\r\\n                                    'common.public' | translate\\r\\n                                }}</span>\\r\\n                                <span *ngIf=\\\"!entry.isPublic\\\" class=\\\"note-visibility private\\\">{{\\r\\n                                    'common.private' | translate\\r\\n                                }}</span>\\r\\n                                {{ entry.data.note }}\\r\\n                            </div>\\r\\n                            <div class=\\\"flex-spacer\\\"></div>\\r\\n                            <vdr-dropdown>\\r\\n                                <button class=\\\"button-small ml-1\\\" vdrDropdownTrigger>\\r\\n                                    <clr-icon shape=\\\"ellipsis-vertical\\\" size=\\\"12\\\"></clr-icon>\\r\\n                                </button>\\r\\n                                <vdr-dropdown-menu vdrPosition=\\\"bottom-right\\\">\\r\\n                                    <button\\r\\n                                        vdrDropdownItem\\r\\n                                        (click)=\\\"updateNote.emit(entry)\\\"\\r\\n                                        [disabled]=\\\"!('UpdateOrder' | hasPermission)\\\"\\r\\n                                    >\\r\\n                                        <clr-icon shape=\\\"edit\\\"></clr-icon>\\r\\n                                        {{ 'common.edit' | translate }}\\r\\n                                    </button>\\r\\n                                    <div class=\\\"dropdown-divider\\\"></div>\\r\\n                                    <button\\r\\n                                        vdrDropdownItem\\r\\n                                        (click)=\\\"deleteNote.emit(entry)\\\"\\r\\n                                        [disabled]=\\\"!('UpdateOrder' | hasPermission)\\\"\\r\\n                                    >\\r\\n                                        <clr-icon shape=\\\"trash\\\" class=\\\"is-danger\\\"></clr-icon>\\r\\n                                        {{ 'common.delete' | translate }}\\r\\n                                    </button>\\r\\n                                </vdr-dropdown-menu>\\r\\n                            </vdr-dropdown>\\r\\n                        </div>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_COUPON_APPLIED\\\">\\r\\n                        {{ 'order.history-coupon-code-applied' | translate }}:\\r\\n                        <vdr-chip>\\r\\n                            <a [routerLink]=\\\"['/marketing', 'promotions', entry.data.promotionId]\\\">{{\\r\\n                                entry.data.couponCode\\r\\n                            }}</a>\\r\\n                        </vdr-chip>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_COUPON_REMOVED\\\">\\r\\n                        {{ 'order.history-coupon-code-removed' | translate }}:\\r\\n                        <vdr-chip\\r\\n                            ><span class=\\\"cancelled-coupon-code\\\">{{ entry.data.couponCode }}</span></vdr-chip\\r\\n                        >\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchCase=\\\"type.ORDER_CUSTOMER_UPDATED\\\">\\r\\n                        <div class=\\\"title\\\">\\r\\n                            {{\\r\\n                                'order.history-customer-updated'\\r\\n                                    | translate : { newCustomerName: entry.data.newCustomerName }\\r\\n                            }}\\r\\n                        </div>\\r\\n                        <div class=\\\"flex\\\">\\r\\n                            <div class=\\\"note-text\\\">\\r\\n                                {{ entry.data.note }}\\r\\n                            </div>\\r\\n                            <div class=\\\"flex-spacer\\\"></div>\\r\\n                            <vdr-history-entry-detail>\\r\\n                                <vdr-labeled-data [label]=\\\"'order.previous-customer' | translate\\\">\\r\\n                                    <a\\r\\n                                        *ngIf=\\\"entry.data.previousCustomerId\\\"\\r\\n                                        class=\\\"button-ghost\\\"\\r\\n                                        [routerLink]=\\\"[\\r\\n                                            '/customer',\\r\\n                                            'customers',\\r\\n                                            entry.data.previousCustomerId\\r\\n                                        ]\\\"\\r\\n                                    >\\r\\n                                        <clr-icon shape=\\\"user\\\" class=\\\"is-solid\\\"></clr-icon>\\r\\n                                        <span>{{ entry.data.previousCustomerName }}</span>\\r\\n                                        <clr-icon shape=\\\"arrow right\\\"></clr-icon>\\r\\n                                    </a>\\r\\n                                </vdr-labeled-data>\\r\\n                                <vdr-labeled-data [label]=\\\"'order.new-customer' | translate\\\">\\r\\n                                    <a\\r\\n                                        *ngIf=\\\"entry.data.newCustomerId\\\"\\r\\n                                        class=\\\"button-ghost\\\"\\r\\n                                        [routerLink]=\\\"['/customer', 'customers', entry.data.newCustomerId]\\\"\\r\\n                                    >\\r\\n                                        <clr-icon shape=\\\"user\\\" class=\\\"is-solid\\\"></clr-icon>\\r\\n                                        <span>{{ entry.data.newCustomerName }}</span>\\r\\n                                        <clr-icon shape=\\\"arrow right\\\"></clr-icon>\\r\\n                                    </a>\\r\\n                                </vdr-labeled-data>\\r\\n                            </vdr-history-entry-detail>\\r\\n                        </div>\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngSwitchDefault>\\r\\n                        <div class=\\\"title\\\">\\r\\n                            {{ entry.type | translate }}\\r\\n                        </div>\\r\\n                        <vdr-history-entry-detail *ngIf=\\\"entry.data\\\">\\r\\n                            <vdr-object-tree [value]=\\\"entry.data\\\"></vdr-object-tree>\\r\\n                        </vdr-history-entry-detail>\\r\\n                    </ng-container>\\r\\n                </ng-container>\\r\\n            </vdr-timeline-entry>\\r\\n        </ng-template>\\r\\n    </ng-container>\\r\\n\\r\\n    <vdr-timeline-entry [isLast]=\\\"true\\\" [createdAt]=\\\"order.createdAt\\\" [featured]=\\\"true\\\">\\r\\n        <div class=\\\"title\\\">\\r\\n            {{ 'order.history-order-created' | translate }}\\r\\n        </div>\\r\\n    </vdr-timeline-entry>\\r\\n</div>\\r\\n\", styles: [\":host{display:block}.entry-list{margin-inline-start:calc(var(--space-unit) * 2)}.note-entry{display:flex;align-items:center}.note-entry .note{flex:1}.note-entry button{margin:0}.visibility-select{display:flex;justify-content:space-between;align-items:baseline}.visibility-select .public{color:var(--color-warning-700)}.visibility-select .private{color:var(--color-success-700)}textarea.note{flex:1;height:36px;border-radius:3px;margin-inline-end:6px}.note-text{color:var(--color-grey-800);white-space:pre-wrap;max-width:580px}.cancelled-coupon-code{text-decoration:line-through}.note-visibility{text-transform:lowercase}.note-visibility.public{color:var(--color-warning-700)}.note-visibility.private{color:var(--color-success-700)}\\n\"] }]\n        }], ctorParameters: () => [{ type: i1.HistoryEntryComponentService }], propDecorators: { order: [{\n                type: Input\n            }], history: [{\n                type: Input\n            }], addNote: [{\n                type: Output\n            }], updateNote: [{\n                type: Output\n            }], deleteNote: [{\n                type: Output\n            }] } });\n\nconst GET_SELLER_ORDERS = gql `\r\n    query GetSellerOrders($orderId: ID!) {\r\n        order(id: $orderId) {\r\n            id\r\n            sellerOrders {\r\n                id\r\n                code\r\n                state\r\n                orderPlacedAt\r\n                currencyCode\r\n                totalWithTax\r\n                channels {\r\n                    id\r\n                    code\r\n                    seller {\r\n                        id\r\n                        name\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n`;\n\nclass SellerOrdersCardComponent {\n    constructor(router, dataService, channelService) {\n        this.router = router;\n        this.dataService = dataService;\n        this.channelService = channelService;\n    }\n    ngOnInit() {\n        this.sellerOrders$ = this.dataService\n            .query(GET_SELLER_ORDERS, {\n            orderId: this.orderId,\n        })\n            .mapSingle(({ order }) => order?.sellerOrders ?? []);\n    }\n    getSeller(order) {\n        const sellerChannel = order.channels.find(channel => channel.code !== DEFAULT_CHANNEL_CODE);\n        return sellerChannel?.seller;\n    }\n    navigateToSellerOrder(order) {\n        this.router.navigate(['/orders', order.id]);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: SellerOrdersCardComponent, deps: [{ token: i1$1.Router }, { token: i1.DataService }, { token: i1.ChannelService }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: SellerOrdersCardComponent, selector: \"vdr-seller-orders-card\", inputs: { orderId: \"orderId\" }, ngImport: i0, template: \"<vdr-card [title]=\\\"'order.seller-orders' | translate\\\">\\r\\n    <div class=\\\"form-grid\\\">\\r\\n        <div *ngFor=\\\"let order of sellerOrders$ | async\\\">\\r\\n            <a [routerLink]=\\\"['seller-orders', order.id]\\\" class=\\\"button-ghost mb-1\\\"\\r\\n                >{{ order.code }} <clr-icon shape=\\\"arrow right\\\"></clr-icon\\r\\n            ></a>\\r\\n            <vdr-labeled-data [label]=\\\"'order.state' | translate\\\">\\r\\n                <vdr-order-state-label [state]=\\\"order.state\\\"></vdr-order-state-label>\\r\\n            </vdr-labeled-data>\\r\\n            <vdr-labeled-data *ngIf=\\\"getSeller(order) as seller\\\" [label]=\\\"'common.seller' | translate\\\">\\r\\n                {{ seller.name }}\\r\\n            </vdr-labeled-data>\\r\\n            <vdr-labeled-data *ngIf=\\\"getSeller(order) as seller\\\" [label]=\\\"'order.total' | translate\\\">\\r\\n                {{ order.totalWithTax | localeCurrency : order.currencyCode }}\\r\\n            </vdr-labeled-data>\\r\\n        </div>\\r\\n    </div>\\r\\n</vdr-card>\\r\\n\", styles: [\":host{display:block}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1$1.RouterLink, selector: \"[routerLink]\", inputs: [\"target\", \"queryParams\", \"fragment\", \"queryParamsHandling\", \"state\", \"info\", \"relativeTo\", \"preserveFragment\", \"skipLocationChange\", \"replaceUrl\", \"routerLink\"] }, { kind: \"component\", type: i1.OrderStateLabelComponent, selector: \"vdr-order-state-label\", inputs: [\"state\"] }, { kind: \"component\", type: i1.LabeledDataComponent, selector: \"vdr-labeled-data\", inputs: [\"label\"] }, { kind: \"component\", type: i1.CardComponent, selector: \"vdr-card\", inputs: [\"title\", \"paddingX\"] }, { kind: \"pipe\", type: i2$1.AsyncPipe, name: \"async\" }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: SellerOrdersCardComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-seller-orders-card', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<vdr-card [title]=\\\"'order.seller-orders' | translate\\\">\\r\\n    <div class=\\\"form-grid\\\">\\r\\n        <div *ngFor=\\\"let order of sellerOrders$ | async\\\">\\r\\n            <a [routerLink]=\\\"['seller-orders', order.id]\\\" class=\\\"button-ghost mb-1\\\"\\r\\n                >{{ order.code }} <clr-icon shape=\\\"arrow right\\\"></clr-icon\\r\\n            ></a>\\r\\n            <vdr-labeled-data [label]=\\\"'order.state' | translate\\\">\\r\\n                <vdr-order-state-label [state]=\\\"order.state\\\"></vdr-order-state-label>\\r\\n            </vdr-labeled-data>\\r\\n            <vdr-labeled-data *ngIf=\\\"getSeller(order) as seller\\\" [label]=\\\"'common.seller' | translate\\\">\\r\\n                {{ seller.name }}\\r\\n            </vdr-labeled-data>\\r\\n            <vdr-labeled-data *ngIf=\\\"getSeller(order) as seller\\\" [label]=\\\"'order.total' | translate\\\">\\r\\n                {{ order.totalWithTax | localeCurrency : order.currencyCode }}\\r\\n            </vdr-labeled-data>\\r\\n        </div>\\r\\n    </div>\\r\\n</vdr-card>\\r\\n\", styles: [\":host{display:block}\\n\"] }]\n        }], ctorParameters: () => [{ type: i1$1.Router }, { type: i1.DataService }, { type: i1.ChannelService }], propDecorators: { orderId: [{\n                type: Input\n            }] } });\n\nconst ORDER_DETAIL_QUERY = gql `\r\n    query OrderDetailQuery($id: ID!) {\r\n        order(id: $id) {\r\n            ...OrderDetail\r\n        }\r\n    }\r\n    ${ORDER_DETAIL_FRAGMENT}\r\n`;\nconst SET_ORDER_CUSTOMER_MUTATION = gql `\r\n    mutation SetOrderCustomer($input: SetOrderCustomerInput!) {\r\n        setOrderCustomer(input: $input) {\r\n            id\r\n            customer {\r\n                id\r\n                firstName\r\n                lastName\r\n                emailAddress\r\n            }\r\n        }\r\n    }\r\n`;\nclass OrderDetailComponent extends TypedBaseDetailComponent {\n    constructor(changeDetector, dataService, notificationService, modalService, orderTransitionService, formBuilder) {\n        super();\n        this.changeDetector = changeDetector;\n        this.dataService = dataService;\n        this.notificationService = notificationService;\n        this.modalService = modalService;\n        this.orderTransitionService = orderTransitionService;\n        this.formBuilder = formBuilder;\n        this.customFields = this.getCustomFieldConfig('Order');\n        this.orderLineCustomFields = this.getCustomFieldConfig('OrderLine');\n        this.detailForm = new FormGroup({\n            customFields: this.formBuilder.group(getCustomFieldsDefaults(this.customFields)),\n        });\n        this.fetchHistory = new Subject();\n        this.defaultStates = [\n            'AddingItems',\n            'ArrangingPayment',\n            'PaymentAuthorized',\n            'PaymentSettled',\n            'PartiallyShipped',\n            'Shipped',\n            'PartiallyDelivered',\n            'Delivered',\n            'Cancelled',\n            'Modifying',\n            'ArrangingAdditionalPayment',\n        ];\n    }\n    ngOnInit() {\n        this.init();\n        this.entity$.pipe(take(1)).subscribe(order => {\n            if (order.state === 'Modifying') {\n                this.router.navigate(['./', 'modify'], { relativeTo: this.route });\n            }\n        });\n        this.history$ = this.fetchHistory.pipe(startWith(null), switchMap(() => this.dataService.order\n            .getOrderHistory(this.id, {\n            sort: {\n                createdAt: SortOrder.DESC,\n            },\n        })\n            .mapStream(data => data.order?.history.items)));\n        this.nextStates$ = this.entity$.pipe(map(order => {\n            const isInCustomState = !this.defaultStates.includes(order.state);\n            return isInCustomState\n                ? order.nextStates\n                : order.nextStates.filter(s => !this.defaultStates.includes(s));\n        }));\n    }\n    ngOnDestroy() {\n        this.destroy();\n    }\n    openStateDiagram() {\n        this.entity$\n            .pipe(take(1), switchMap(order => this.modalService.fromComponent(OrderProcessGraphDialogComponent, {\n            closable: true,\n            locals: {\n                activeState: order.state,\n            },\n        })))\n            .subscribe();\n    }\n    setOrderCustomer() {\n        this.modalService\n            .fromComponent(SelectCustomerDialogComponent, {\n            locals: {\n                canCreateNew: false,\n                includeNoteInput: true,\n                title: marker('order.assign-order-to-another-customer'),\n            },\n        })\n            .pipe(switchMap(result => {\n            function isExisting(input) {\n                return typeof input === 'object' && !!input.id;\n            }\n            if (isExisting(result)) {\n                return this.dataService.mutate(SetOrderCustomerDocument, {\n                    input: {\n                        customerId: result.id,\n                        orderId: this.id,\n                        note: result.note,\n                    },\n                });\n            }\n            else {\n                return EMPTY;\n            }\n        }), switchMap(result => this.refetchOrder(result)))\n            .subscribe(result => {\n            if (result) {\n                this.notificationService.success(marker('order.set-customer-success'));\n            }\n        });\n    }\n    transitionToState(state) {\n        this.dataService.order.transitionToState(this.id, state).subscribe(({ transitionOrderToState }) => {\n            switch (transitionOrderToState?.__typename) {\n                case 'Order':\n                    this.notificationService.success(marker('order.transitioned-to-state-success'), { state });\n                    this.fetchHistory.next();\n                    break;\n                case 'OrderStateTransitionError':\n                    this.notificationService.error(transitionOrderToState.transitionError);\n            }\n        });\n    }\n    manuallyTransitionToState(order) {\n        this.orderTransitionService\n            .manuallyTransitionToState({\n            orderId: order.id,\n            nextStates: order.nextStates,\n            cancellable: true,\n            message: marker('order.manually-transition-to-state-message'),\n            retry: 0,\n        })\n            .subscribe();\n    }\n    transitionToModifying() {\n        this.dataService.order\n            .transitionToState(this.id, 'Modifying')\n            .subscribe(({ transitionOrderToState }) => {\n            switch (transitionOrderToState?.__typename) {\n                case 'Order':\n                    this.router.navigate(['./modify'], { relativeTo: this.route });\n                    break;\n                case 'OrderStateTransitionError':\n                    this.notificationService.error(transitionOrderToState.transitionError);\n            }\n        });\n    }\n    updateCustomFields() {\n        this.dataService.order\n            .updateOrderCustomFields({\n            id: this.id,\n            customFields: this.detailForm.value.customFields,\n        })\n            .subscribe(() => {\n            this.notificationService.success(marker('common.notify-update-success'), { entity: 'Order' });\n        });\n    }\n    getOrderAddressLines(orderAddress) {\n        if (!orderAddress) {\n            return [];\n        }\n        return Object.values(orderAddress)\n            .filter(val => val !== 'OrderAddress')\n            .filter(line => !!line);\n    }\n    settlePayment(payment) {\n        this.dataService.order.settlePayment(payment.id).subscribe(({ settlePayment }) => {\n            switch (settlePayment.__typename) {\n                case 'Payment':\n                    if (settlePayment.state === 'Settled') {\n                        this.notificationService.success(marker('order.settle-payment-success'));\n                    }\n                    else {\n                        this.notificationService.error(marker('order.settle-payment-error'));\n                    }\n                    this.dataService.order.getOrder(this.id).single$.subscribe();\n                    this.fetchHistory.next();\n                    break;\n                case 'OrderStateTransitionError':\n                case 'PaymentStateTransitionError':\n                case 'SettlePaymentError':\n                    this.notificationService.error(settlePayment.message);\n            }\n        });\n    }\n    transitionPaymentState({ payment, state }) {\n        if (state === 'Cancelled') {\n            this.dataService.order.cancelPayment(payment.id).subscribe(({ cancelPayment }) => {\n                switch (cancelPayment.__typename) {\n                    case 'Payment':\n                        this.notificationService.success(marker('order.transitioned-payment-to-state-success'), {\n                            state,\n                        });\n                        this.dataService.order.getOrder(this.id).single$.subscribe();\n                        this.fetchHistory.next();\n                        break;\n                    case 'PaymentStateTransitionError':\n                        this.notificationService.error(cancelPayment.transitionError);\n                        break;\n                    case 'CancelPaymentError':\n                        this.notificationService.error(cancelPayment.paymentErrorMessage);\n                        break;\n                }\n            });\n        }\n        else {\n            this.dataService.order\n                .transitionPaymentToState(payment.id, state)\n                .subscribe(({ transitionPaymentToState }) => {\n                switch (transitionPaymentToState.__typename) {\n                    case 'Payment':\n                        this.notificationService.success(marker('order.transitioned-payment-to-state-success'), {\n                            state,\n                        });\n                        this.dataService.order.getOrder(this.id).single$.subscribe();\n                        this.fetchHistory.next();\n                        break;\n                    case 'PaymentStateTransitionError':\n                        this.notificationService.error(transitionPaymentToState.message);\n                        break;\n                }\n            });\n        }\n    }\n    canAddFulfillment(order) {\n        const allFulfillmentLines = (order.fulfillments ?? [])\n            .filter(fulfillment => fulfillment.state !== 'Cancelled')\n            .reduce((all, fulfillment) => [...all, ...fulfillment.lines], []);\n        let allItemsFulfilled = true;\n        for (const line of order.lines) {\n            const totalFulfilledCount = allFulfillmentLines\n                .filter(row => row.orderLineId === line.id)\n                .reduce((sum, row) => sum + row.quantity, 0);\n            if (totalFulfilledCount < line.quantity) {\n                allItemsFulfilled = false;\n            }\n        }\n        return (!allItemsFulfilled &&\n            !this.hasUnsettledModifications(order) &&\n            this.outstandingPaymentAmount(order) === 0 &&\n            (order.nextStates.includes('Shipped') ||\n                order.nextStates.includes('PartiallyShipped') ||\n                order.nextStates.includes('Delivered')));\n    }\n    hasUnsettledModifications(order) {\n        return 0 < order.modifications.filter(m => !m.isSettled).length;\n    }\n    getOutstandingModificationAmount(order) {\n        return summate(order.modifications.filter(m => !m.isSettled), 'priceChange');\n    }\n    outstandingPaymentAmount(order) {\n        const paymentIsValid = (p) => p.state !== 'Cancelled' && p.state !== 'Declined' && p.state !== 'Error';\n        let amountCovered = 0;\n        for (const payment of order.payments?.filter(paymentIsValid) ?? []) {\n            const refunds = payment.refunds.filter(r => r.state !== 'Failed') ?? [];\n            const refundsTotal = summate(refunds, 'total');\n            amountCovered += payment.amount - refundsTotal;\n        }\n        return order.totalWithTax - amountCovered;\n    }\n    addManualPayment(order) {\n        const priorState = order.state;\n        this.modalService\n            .fromComponent(AddManualPaymentDialogComponent, {\n            closable: true,\n            locals: {\n                outstandingAmount: this.outstandingPaymentAmount(order),\n                currencyCode: order.currencyCode,\n            },\n        })\n            .pipe(switchMap(result => {\n            if (result) {\n                return this.dataService.order.addManualPaymentToOrder({\n                    orderId: this.id,\n                    transactionId: result.transactionId,\n                    method: result.method,\n                    metadata: result.metadata || {},\n                });\n            }\n            else {\n                return EMPTY;\n            }\n        }), switchMap(({ addManualPaymentToOrder }) => {\n            switch (addManualPaymentToOrder.__typename) {\n                case 'Order':\n                    this.notificationService.success(marker('order.add-payment-to-order-success'));\n                    if (priorState === 'ArrangingAdditionalPayment') {\n                        return this.orderTransitionService.transitionToPreModifyingState(order.id, order.nextStates);\n                    }\n                    else {\n                        return of('PaymentSettled');\n                    }\n                case 'ManualPaymentStateError':\n                    this.notificationService.error(addManualPaymentToOrder.message);\n                    return EMPTY;\n                default:\n                    return EMPTY;\n            }\n        }))\n            .subscribe(result => {\n            if (result) {\n                this.refetchOrder({ result });\n            }\n        });\n    }\n    fulfillOrder() {\n        this.entity$\n            .pipe(take(1), switchMap(order => this.modalService.fromComponent(FulfillOrderDialogComponent, {\n            size: 'xl',\n            locals: {\n                order,\n            },\n        })), switchMap(input => {\n            if (input) {\n                return this.dataService.order.createFulfillment(input);\n            }\n            else {\n                return of(undefined);\n            }\n        }), switchMap(result => this.refetchOrder(result).pipe(mapTo(result))))\n            .subscribe(result => {\n            if (result) {\n                const { addFulfillmentToOrder } = result;\n                switch (addFulfillmentToOrder.__typename) {\n                    case 'Fulfillment':\n                        this.notificationService.success(marker('order.create-fulfillment-success'));\n                        break;\n                    case 'EmptyOrderLineSelectionError':\n                    case 'InsufficientStockOnHandError':\n                    case 'ItemsAlreadyFulfilledError':\n                    case 'InvalidFulfillmentHandlerError':\n                        this.notificationService.error(addFulfillmentToOrder.message);\n                        break;\n                    case 'FulfillmentStateTransitionError':\n                        this.notificationService.error(addFulfillmentToOrder.transitionError);\n                        break;\n                    case 'CreateFulfillmentError':\n                        this.notificationService.error(addFulfillmentToOrder.fulfillmentHandlerError);\n                        break;\n                    case undefined:\n                        this.notificationService.error(JSON.stringify(addFulfillmentToOrder));\n                        break;\n                    default:\n                        assertNever(addFulfillmentToOrder);\n                }\n            }\n        });\n    }\n    transitionFulfillment(id, state) {\n        this.dataService.order\n            .transitionFulfillmentToState(id, state)\n            .pipe(switchMap(result => this.refetchOrder(result)))\n            .subscribe(() => {\n            this.notificationService.success(marker('order.successfully-updated-fulfillment'));\n        });\n    }\n    cancelOrRefund(order) {\n        const isRefundable = this.orderHasSettledPayments(order);\n        if (order.state === 'PaymentAuthorized' || order.active === true || !isRefundable) {\n            this.cancelOrder(order);\n        }\n        else {\n            this.refundOrder(order);\n        }\n    }\n    settleRefund(refund) {\n        this.modalService\n            .fromComponent(SettleRefundDialogComponent, {\n            size: 'md',\n            locals: {\n                refund,\n            },\n        })\n            .pipe(switchMap(transactionId => {\n            if (transactionId) {\n                return this.dataService.order.settleRefund({\n                    transactionId,\n                    id: refund.id,\n                }, this.id);\n            }\n            else {\n                return of(undefined);\n            }\n        }))\n            .subscribe(result => {\n            if (result) {\n                this.notificationService.success(marker('order.settle-refund-success'));\n            }\n        });\n    }\n    addNote(event) {\n        const { note, isPublic } = event;\n        this.dataService.order\n            .addNoteToOrder({\n            id: this.id,\n            note,\n            isPublic,\n        })\n            .pipe(switchMap(result => this.refetchOrder(result)))\n            .subscribe(result => {\n            this.notificationService.success(marker('common.notify-create-success'), {\n                entity: 'Note',\n            });\n        });\n    }\n    updateNote(entry) {\n        this.modalService\n            .fromComponent(EditNoteDialogComponent, {\n            closable: true,\n            locals: {\n                displayPrivacyControls: true,\n                note: entry.data.note,\n                noteIsPrivate: !entry.isPublic,\n            },\n        })\n            .pipe(switchMap(result => {\n            if (result) {\n                return this.dataService.order.updateOrderNote({\n                    noteId: entry.id,\n                    isPublic: !result.isPrivate,\n                    note: result.note,\n                });\n            }\n            else {\n                return EMPTY;\n            }\n        }))\n            .subscribe(result => {\n            this.fetchHistory.next();\n            this.notificationService.success(marker('common.notify-update-success'), {\n                entity: 'Note',\n            });\n        });\n    }\n    deleteNote(entry) {\n        return this.modalService\n            .dialog({\n            title: marker('common.confirm-delete-note'),\n            body: entry.data.note,\n            buttons: [\n                { type: 'secondary', label: marker('common.cancel') },\n                { type: 'danger', label: marker('common.delete'), returnValue: true },\n            ],\n        })\n            .pipe(switchMap(res => (res ? this.dataService.order.deleteOrderNote(entry.id) : EMPTY)))\n            .subscribe(() => {\n            this.fetchHistory.next();\n            this.notificationService.success(marker('common.notify-delete-success'), {\n                entity: 'Note',\n            });\n        });\n    }\n    orderHasSettledPayments(order) {\n        return !!order.payments?.find(p => p.state === 'Settled');\n    }\n    cancelOrder(order) {\n        this.modalService\n            .fromComponent(CancelOrderDialogComponent, {\n            size: 'xl',\n            locals: {\n                order,\n            },\n        })\n            .pipe(switchMap(input => {\n            if (input) {\n                return this.dataService.order.cancelOrder(input);\n            }\n            else {\n                return of(undefined);\n            }\n        }), switchMap(result => this.refetchOrder(result)))\n            .subscribe(result => {\n            if (result) {\n                this.notificationService.success(marker('order.cancelled-order-success'));\n            }\n        });\n    }\n    refundOrder(order) {\n        this.modalService\n            .fromComponent(RefundOrderDialogComponent, {\n            size: 'xl',\n            locals: {\n                order,\n            },\n        })\n            .pipe(switchMap(input => {\n            if (!input) {\n                return of(undefined);\n            }\n            if (input.cancel.lines?.length) {\n                return this.dataService.order.cancelOrder(input.cancel).pipe(map(res => {\n                    const result = res.cancelOrder;\n                    switch (result.__typename) {\n                        case 'Order':\n                            this.refetchOrder(result).subscribe();\n                            this.notificationService.success(marker('order.cancelled-order-items-success'), {\n                                count: summate(input.cancel.lines, 'quantity'),\n                            });\n                            return input;\n                        case 'CancelActiveOrderError':\n                        case 'QuantityTooGreatError':\n                        case 'MultipleOrderError':\n                        case 'OrderStateTransitionError':\n                        case 'EmptyOrderLineSelectionError':\n                            this.notificationService.error(result.message);\n                            return undefined;\n                    }\n                }));\n            }\n            else {\n                return [input];\n            }\n        }), switchMap(input => {\n            if (!input) {\n                return of(undefined);\n            }\n            if (input.refunds.length) {\n                return forkJoin(input.refunds.map(refund => this.dataService.order.refundOrder(refund).pipe(map(res => res.refundOrder))));\n            }\n            else {\n                return [undefined];\n            }\n        }))\n            .subscribe(results => {\n            for (const result of results ?? []) {\n                if (result) {\n                    switch (result.__typename) {\n                        case 'Refund':\n                            if (result.state === 'Failed') {\n                                this.notificationService.error(marker('order.refund-order-failed'));\n                            }\n                            else {\n                                this.notificationService.success(marker('order.refund-order-success'));\n                            }\n                            break;\n                        case 'AlreadyRefundedError':\n                        case 'NothingToRefundError':\n                        case 'PaymentOrderMismatchError':\n                        case 'RefundOrderStateError':\n                        case 'RefundStateTransitionError':\n                            this.notificationService.error(result.message);\n                            break;\n                    }\n                }\n            }\n            this.refetchOrder(results?.[0]).subscribe();\n        });\n    }\n    refetchOrder(result) {\n        this.fetchHistory.next();\n        if (result) {\n            return this.dataService.order.getOrder(this.id).single$;\n        }\n        else {\n            return of(undefined);\n        }\n    }\n    setFormValues(entity) {\n        if (this.customFields.length) {\n            this.setCustomFieldFormValues(this.customFields, this.detailForm.get(['customFields']), entity);\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderDetailComponent, deps: [{ token: i0.ChangeDetectorRef }, { token: i1.DataService }, { token: i1.NotificationService }, { token: i1.ModalService }, { token: OrderTransitionService }, { token: i2.FormBuilder }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: OrderDetailComponent, selector: \"vdr-order-detail\", usesInheritance: true, ngImport: i0, template: \"<vdr-page-block>\\r\\n    <vdr-action-bar *ngIf=\\\"entity$ | async as order\\\">\\r\\n        <vdr-ab-left> </vdr-ab-left>\\r\\n\\r\\n        <vdr-ab-right>\\r\\n            <vdr-action-bar-items locationId=\\\"order-detail\\\"></vdr-action-bar-items>\\r\\n            <button\\r\\n                class=\\\"button primary mr-1\\\"\\r\\n                *ngIf=\\\"\\r\\n                    order.type !== 'Aggregate' &&\\r\\n                    (order.state === 'ArrangingPayment' || order.state === 'ArrangingAdditionalPayment') &&\\r\\n                    (hasUnsettledModifications(order) || 0 < outstandingPaymentAmount(order))\\r\\n                \\\"\\r\\n                (click)=\\\"addManualPayment(order)\\\"\\r\\n            >\\r\\n                {{ 'order.add-payment-to-order' | translate }}\\r\\n                ({{ outstandingPaymentAmount(order) | localeCurrency : order.currencyCode }})\\r\\n            </button>\\r\\n            <button\\r\\n                class=\\\"button primary mr-1\\\"\\r\\n                *ngIf=\\\"\\r\\n                    order.type !== 'Aggregate' &&\\r\\n                    order.active === false &&\\r\\n                    order.state !== 'ArrangingAdditionalPayment' &&\\r\\n                    order.state !== 'ArrangingPayment' &&\\r\\n                    0 < outstandingPaymentAmount(order)\\r\\n                \\\"\\r\\n                (click)=\\\"transitionToState('ArrangingAdditionalPayment')\\\"\\r\\n            >\\r\\n                {{ 'order.arrange-additional-payment' | translate }}\\r\\n            </button>\\r\\n            <button\\r\\n                *ngIf=\\\"order.type !== 'Aggregate'\\\"\\r\\n                class=\\\"button primary mr-1\\\"\\r\\n                (click)=\\\"fulfillOrder()\\\"\\r\\n                [disabled]=\\\"!canAddFulfillment(order)\\\"\\r\\n            >\\r\\n                {{ 'order.fulfill-order' | translate }}\\r\\n            </button>\\r\\n            <vdr-action-bar-dropdown-menu [alwaysShow]=\\\"true\\\" locationId=\\\"order-detail\\\">\\r\\n                <ng-container *ngIf=\\\"order.type !== 'Aggregate' && order.nextStates.includes('Modifying')\\\">\\r\\n                    <button type=\\\"button\\\" vdrDropdownItem (click)=\\\"transitionToModifying()\\\">\\r\\n                        <clr-icon shape=\\\"pencil\\\"></clr-icon>\\r\\n                        {{ 'order.modify-order' | translate }}\\r\\n                    </button>\\r\\n                    <div class=\\\"dropdown-divider\\\"></div>\\r\\n                </ng-container>\\r\\n                <button\\r\\n                    type=\\\"button\\\"\\r\\n                    vdrDropdownItem\\r\\n                    *ngIf=\\\"order.type !== 'Aggregate' && order.nextStates.includes('Cancelled')\\\"\\r\\n                    (click)=\\\"cancelOrRefund(order)\\\"\\r\\n                >\\r\\n                    <clr-icon shape=\\\"error-standard\\\" class=\\\"is-error\\\"></clr-icon>\\r\\n                    <ng-container *ngIf=\\\"orderHasSettledPayments(order); else cancelOnly\\\">\\r\\n                        {{ 'order.refund-and-cancel-order' | translate }}\\r\\n                    </ng-container>\\r\\n                    <ng-template #cancelOnly>\\r\\n                        {{ 'order.cancel-order' | translate }}\\r\\n                    </ng-template>\\r\\n                </button>\\r\\n\\r\\n                <ng-container *ngIf=\\\"(nextStates$ | async)?.length\\\">\\r\\n                    <div class=\\\"dropdown-divider\\\"></div>\\r\\n                    <button\\r\\n                        *ngFor=\\\"let nextState of nextStates$ | async\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        vdrDropdownItem\\r\\n                        (click)=\\\"transitionToState(nextState)\\\"\\r\\n                    >\\r\\n                        <clr-icon shape=\\\"step-forward-2\\\"></clr-icon>\\r\\n                        {{\\r\\n                            'order.transition-to-state'\\r\\n                                | translate : { state: (nextState | stateI18nToken | translate) }\\r\\n                        }}\\r\\n                    </button>\\r\\n                </ng-container>\\r\\n                <div class=\\\"dropdown-divider\\\"></div>\\r\\n                <button type=\\\"button\\\" vdrDropdownItem (click)=\\\"manuallyTransitionToState(order)\\\">\\r\\n                    <clr-icon shape=\\\"step-forward-2\\\" class=\\\"is-warning\\\"></clr-icon>\\r\\n                    {{ 'order.manually-transition-to-state' | translate }}\\r\\n                </button>\\r\\n            </vdr-action-bar-dropdown-menu>\\r\\n        </vdr-ab-right>\\r\\n    </vdr-action-bar>\\r\\n</vdr-page-block>\\r\\n\\r\\n<vdr-page-detail-layout *ngIf=\\\"entity$ | async as order\\\">\\r\\n    <vdr-page-detail-sidebar>\\r\\n        <vdr-card [title]=\\\"'order.state' | translate\\\">\\r\\n            <ng-template vdrCardControls>\\r\\n                <button\\r\\n                    class=\\\"button-small\\\"\\r\\n                    (click)=\\\"openStateDiagram()\\\"\\r\\n                    [title]=\\\"'order.order-state-diagram' | translate\\\"\\r\\n                >\\r\\n                    <clr-icon shape=\\\"list\\\"></clr-icon>\\r\\n                </button>\\r\\n            </ng-template>\\r\\n            <vdr-order-state-label [state]=\\\"order.state\\\"></vdr-order-state-label>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.customer' | translate\\\">\\r\\n            <ng-template vdrCardControls>\\r\\n                <button\\r\\n                    *vdrIfPermissions=\\\"['UpdateOrder', 'ReadCustomer']\\\"\\r\\n                    class=\\\"button-small\\\"\\r\\n                    (click)=\\\"setOrderCustomer()\\\"\\r\\n                    [title]=\\\"'order.assign-order-to-another-customer' | translate\\\"\\r\\n                >\\r\\n                    <clr-icon shape=\\\"switch\\\"></clr-icon>\\r\\n                </button>\\r\\n            </ng-template>\\r\\n            <vdr-customer-label [customer]=\\\"order.customer\\\"></vdr-customer-label>\\r\\n            <vdr-labeled-data\\r\\n                class=\\\"mt-2\\\"\\r\\n                [label]=\\\"'order.shipping-address' | translate\\\"\\r\\n                *ngIf=\\\"getOrderAddressLines(order.shippingAddress).length\\\"\\r\\n            >\\r\\n                <vdr-formatted-address [address]=\\\"order.shippingAddress\\\" class=\\\"mt-1\\\"></vdr-formatted-address>\\r\\n            </vdr-labeled-data>\\r\\n            <vdr-labeled-data\\r\\n                [label]=\\\"'order.billing-address' | translate\\\"\\r\\n                *ngIf=\\\"getOrderAddressLines(order.billingAddress).length\\\"\\r\\n            >\\r\\n                <vdr-formatted-address [address]=\\\"order.billingAddress\\\" class=\\\"mt-1\\\"></vdr-formatted-address>\\r\\n            </vdr-labeled-data>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.payments' | translate\\\" *ngIf=\\\"order.payments?.length\\\">\\r\\n            <vdr-order-payment-card\\r\\n                *ngFor=\\\"let payment of order.payments\\\"\\r\\n                [currencyCode]=\\\"order.currencyCode\\\"\\r\\n                [payment]=\\\"payment\\\"\\r\\n                (settlePayment)=\\\"settlePayment($event)\\\"\\r\\n                (transitionPaymentState)=\\\"transitionPaymentState($event)\\\"\\r\\n                (settleRefund)=\\\"settleRefund($event)\\\"\\r\\n            ></vdr-order-payment-card>\\r\\n        </vdr-card>\\r\\n        <vdr-card *ngIf=\\\"order.fulfillments?.length\\\">\\r\\n            <vdr-fulfillment-card\\r\\n                *ngFor=\\\"let fulfillment of order.fulfillments\\\"\\r\\n                [fulfillment]=\\\"fulfillment\\\"\\r\\n                [order]=\\\"order\\\"\\r\\n                (transitionState)=\\\"transitionFulfillment(fulfillment.id, $event)\\\"\\r\\n            ></vdr-fulfillment-card>\\r\\n        </vdr-card>\\r\\n        <vdr-card>\\r\\n            <vdr-page-entity-info *ngIf=\\\"entity$ | async as entity\\\" [entity]=\\\"entity\\\" />\\r\\n        </vdr-card>\\r\\n    </vdr-page-detail-sidebar>\\r\\n\\r\\n    <vdr-page-block>\\r\\n        <vdr-seller-orders-card\\r\\n            class=\\\"mb-2\\\"\\r\\n            *ngIf=\\\"order.sellerOrders.length\\\"\\r\\n            [orderId]=\\\"order.id\\\"\\r\\n        ></vdr-seller-orders-card>\\r\\n        <vdr-card [paddingX]=\\\"false\\\">\\r\\n            <vdr-order-table\\r\\n                [order]=\\\"order\\\"\\r\\n                [orderLineCustomFields]=\\\"orderLineCustomFields\\\"\\r\\n            ></vdr-order-table>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.tax-summary' | translate\\\" [paddingX]=\\\"false\\\">\\r\\n            <table class=\\\"table\\\">\\r\\n                <thead>\\r\\n                    <tr>\\r\\n                        <th>{{ 'common.description' | translate }}</th>\\r\\n                        <th>{{ 'order.tax-rate' | translate }}</th>\\r\\n                        <th>{{ 'order.tax-base' | translate }}</th>\\r\\n                        <th>{{ 'order.tax-total' | translate }}</th>\\r\\n                    </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                    <tr *ngFor=\\\"let row of order.taxSummary\\\">\\r\\n                        <td>{{ row.description }}</td>\\r\\n                        <td>{{ row.taxRate / 100 | percent : '0.0-2' }}</td>\\r\\n                        <td>{{ row.taxBase | localeCurrency : order.currencyCode }}</td>\\r\\n                        <td>{{ row.taxTotal | localeCurrency : order.currencyCode }}</td>\\r\\n                    </tr>\\r\\n                </tbody>\\r\\n            </table>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'common.custom-fields' | translate\\\" *ngIf=\\\"customFields.length\\\">\\r\\n            <vdr-tabbed-custom-fields\\r\\n                entityName=\\\"Order\\\"\\r\\n                [customFields]=\\\"customFields\\\"\\r\\n                [customFieldsFormGroup]=\\\"detailForm.get('customFields')\\\"\\r\\n                [readonly]=\\\"!('UpdateOrder' | hasPermission)\\\"\\r\\n            />\\r\\n            <button\\r\\n                class=\\\"button primary\\\"\\r\\n                (click)=\\\"updateCustomFields()\\\"\\r\\n                [disabled]=\\\"\\r\\n                    detailForm.get('customFields')?.pristine || detailForm.get('customFields')?.invalid\\r\\n                \\\"\\r\\n            >\\r\\n                {{ 'common.update' | translate }}\\r\\n            </button>\\r\\n        </vdr-card>\\r\\n        <vdr-custom-detail-component-host\\r\\n            locationId=\\\"order-detail\\\"\\r\\n            [entity$]=\\\"entity$\\\"\\r\\n            [detailForm]=\\\"detailForm\\\"\\r\\n        ></vdr-custom-detail-component-host>\\r\\n\\r\\n        <vdr-card [title]=\\\"'order.order-history' | translate\\\">\\r\\n            <vdr-order-history\\r\\n                [order]=\\\"order\\\"\\r\\n                [history]=\\\"history$ | async\\\"\\r\\n                (addNote)=\\\"addNote($event)\\\"\\r\\n                (updateNote)=\\\"updateNote($event)\\\"\\r\\n                (deleteNote)=\\\"deleteNote($event)\\\"\\r\\n            ></vdr-order-history>\\r\\n        </vdr-card>\\r\\n    </vdr-page-block>\\r\\n</vdr-page-detail-layout>\\r\\n\", styles: [\".shipping-address{list-style-type:none;line-height:1.3em}.order-cards h6{margin-top:6px;color:var(--color-text-200)}vdr-order-payment-card+vdr-order-payment-card{margin-top:calc(var(--space-unit) * 2)}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"component\", type: i1.ActionBarComponent, selector: \"vdr-action-bar\" }, { kind: \"component\", type: i1.ActionBarLeftComponent, selector: \"vdr-ab-left\", inputs: [\"grow\"] }, { kind: \"component\", type: i1.ActionBarRightComponent, selector: \"vdr-ab-right\", inputs: [\"grow\"] }, { kind: \"component\", type: i1.ActionBarDropdownMenuComponent, selector: \"vdr-action-bar-dropdown-menu\", inputs: [\"alwaysShow\"] }, { kind: \"component\", type: i1.CustomerLabelComponent, selector: \"vdr-customer-label\", inputs: [\"customer\"] }, { kind: \"directive\", type: i1.DropdownItemDirective, selector: \"[vdrDropdownItem]\" }, { kind: \"component\", type: i1.OrderStateLabelComponent, selector: \"vdr-order-state-label\", inputs: [\"state\"] }, { kind: \"component\", type: i1.FormattedAddressComponent, selector: \"vdr-formatted-address\", inputs: [\"address\"] }, { kind: \"component\", type: i1.LabeledDataComponent, selector: \"vdr-labeled-data\", inputs: [\"label\"] }, { kind: \"directive\", type: i1.IfPermissionsDirective, selector: \"[vdrIfPermissions]\", inputs: [\"vdrIfPermissions\", \"vdrIfPermissionsElse\"] }, { kind: \"component\", type: i1.ActionBarItemsComponent, selector: \"vdr-action-bar-items\" }, { kind: \"component\", type: i1.TabbedCustomFieldsComponent, selector: \"vdr-tabbed-custom-fields\", inputs: [\"entityName\", \"customFields\", \"customFieldsFormGroup\", \"readonly\", \"compact\", \"showLabel\"] }, { kind: \"component\", type: i1.CustomDetailComponentHostComponent, selector: \"vdr-custom-detail-component-host\", inputs: [\"locationId\", \"entity$\", \"detailForm\"] }, { kind: \"component\", type: i1.PageBlockComponent, selector: \"vdr-page-block\" }, { kind: \"component\", type: i1.PageEntityInfoComponent, selector: \"vdr-page-entity-info\", inputs: [\"entity\"] }, { kind: \"component\", type: i1.PageDetailLayoutComponent, selector: \"vdr-page-detail-layout\" }, { kind: \"component\", type: i1.PageDetailSidebarComponent, selector: \"vdr-page-detail-sidebar\" }, { kind: \"component\", type: i1.CardComponent, selector: \"vdr-card\", inputs: [\"title\", \"paddingX\"] }, { kind: \"directive\", type: i1.CardControlsDirective, selector: \"[vdrCardControls]\" }, { kind: \"component\", type: OrderPaymentCardComponent, selector: \"vdr-order-payment-card\", inputs: [\"payment\", \"currencyCode\"], outputs: [\"settlePayment\", \"transitionPaymentState\", \"settleRefund\"] }, { kind: \"component\", type: OrderHistoryComponent, selector: \"vdr-order-history\", inputs: [\"order\", \"history\"], outputs: [\"addNote\", \"updateNote\", \"deleteNote\"] }, { kind: \"component\", type: FulfillmentCardComponent, selector: \"vdr-fulfillment-card\", inputs: [\"fulfillment\", \"order\"], outputs: [\"transitionState\"] }, { kind: \"component\", type: OrderTableComponent, selector: \"vdr-order-table\", inputs: [\"order\", \"orderLineCustomFields\", \"isDraft\"], outputs: [\"adjust\", \"remove\"] }, { kind: \"component\", type: SellerOrdersCardComponent, selector: \"vdr-seller-orders-card\", inputs: [\"orderId\"] }, { kind: \"pipe\", type: i2$1.AsyncPipe, name: \"async\" }, { kind: \"pipe\", type: i2$1.PercentPipe, name: \"percent\" }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.HasPermissionPipe, name: \"hasPermission\" }, { kind: \"pipe\", type: i1.StateI18nTokenPipe, name: \"stateI18nToken\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderDetailComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-order-detail', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<vdr-page-block>\\r\\n    <vdr-action-bar *ngIf=\\\"entity$ | async as order\\\">\\r\\n        <vdr-ab-left> </vdr-ab-left>\\r\\n\\r\\n        <vdr-ab-right>\\r\\n            <vdr-action-bar-items locationId=\\\"order-detail\\\"></vdr-action-bar-items>\\r\\n            <button\\r\\n                class=\\\"button primary mr-1\\\"\\r\\n                *ngIf=\\\"\\r\\n                    order.type !== 'Aggregate' &&\\r\\n                    (order.state === 'ArrangingPayment' || order.state === 'ArrangingAdditionalPayment') &&\\r\\n                    (hasUnsettledModifications(order) || 0 < outstandingPaymentAmount(order))\\r\\n                \\\"\\r\\n                (click)=\\\"addManualPayment(order)\\\"\\r\\n            >\\r\\n                {{ 'order.add-payment-to-order' | translate }}\\r\\n                ({{ outstandingPaymentAmount(order) | localeCurrency : order.currencyCode }})\\r\\n            </button>\\r\\n            <button\\r\\n                class=\\\"button primary mr-1\\\"\\r\\n                *ngIf=\\\"\\r\\n                    order.type !== 'Aggregate' &&\\r\\n                    order.active === false &&\\r\\n                    order.state !== 'ArrangingAdditionalPayment' &&\\r\\n                    order.state !== 'ArrangingPayment' &&\\r\\n                    0 < outstandingPaymentAmount(order)\\r\\n                \\\"\\r\\n                (click)=\\\"transitionToState('ArrangingAdditionalPayment')\\\"\\r\\n            >\\r\\n                {{ 'order.arrange-additional-payment' | translate }}\\r\\n            </button>\\r\\n            <button\\r\\n                *ngIf=\\\"order.type !== 'Aggregate'\\\"\\r\\n                class=\\\"button primary mr-1\\\"\\r\\n                (click)=\\\"fulfillOrder()\\\"\\r\\n                [disabled]=\\\"!canAddFulfillment(order)\\\"\\r\\n            >\\r\\n                {{ 'order.fulfill-order' | translate }}\\r\\n            </button>\\r\\n            <vdr-action-bar-dropdown-menu [alwaysShow]=\\\"true\\\" locationId=\\\"order-detail\\\">\\r\\n                <ng-container *ngIf=\\\"order.type !== 'Aggregate' && order.nextStates.includes('Modifying')\\\">\\r\\n                    <button type=\\\"button\\\" vdrDropdownItem (click)=\\\"transitionToModifying()\\\">\\r\\n                        <clr-icon shape=\\\"pencil\\\"></clr-icon>\\r\\n                        {{ 'order.modify-order' | translate }}\\r\\n                    </button>\\r\\n                    <div class=\\\"dropdown-divider\\\"></div>\\r\\n                </ng-container>\\r\\n                <button\\r\\n                    type=\\\"button\\\"\\r\\n                    vdrDropdownItem\\r\\n                    *ngIf=\\\"order.type !== 'Aggregate' && order.nextStates.includes('Cancelled')\\\"\\r\\n                    (click)=\\\"cancelOrRefund(order)\\\"\\r\\n                >\\r\\n                    <clr-icon shape=\\\"error-standard\\\" class=\\\"is-error\\\"></clr-icon>\\r\\n                    <ng-container *ngIf=\\\"orderHasSettledPayments(order); else cancelOnly\\\">\\r\\n                        {{ 'order.refund-and-cancel-order' | translate }}\\r\\n                    </ng-container>\\r\\n                    <ng-template #cancelOnly>\\r\\n                        {{ 'order.cancel-order' | translate }}\\r\\n                    </ng-template>\\r\\n                </button>\\r\\n\\r\\n                <ng-container *ngIf=\\\"(nextStates$ | async)?.length\\\">\\r\\n                    <div class=\\\"dropdown-divider\\\"></div>\\r\\n                    <button\\r\\n                        *ngFor=\\\"let nextState of nextStates$ | async\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        vdrDropdownItem\\r\\n                        (click)=\\\"transitionToState(nextState)\\\"\\r\\n                    >\\r\\n                        <clr-icon shape=\\\"step-forward-2\\\"></clr-icon>\\r\\n                        {{\\r\\n                            'order.transition-to-state'\\r\\n                                | translate : { state: (nextState | stateI18nToken | translate) }\\r\\n                        }}\\r\\n                    </button>\\r\\n                </ng-container>\\r\\n                <div class=\\\"dropdown-divider\\\"></div>\\r\\n                <button type=\\\"button\\\" vdrDropdownItem (click)=\\\"manuallyTransitionToState(order)\\\">\\r\\n                    <clr-icon shape=\\\"step-forward-2\\\" class=\\\"is-warning\\\"></clr-icon>\\r\\n                    {{ 'order.manually-transition-to-state' | translate }}\\r\\n                </button>\\r\\n            </vdr-action-bar-dropdown-menu>\\r\\n        </vdr-ab-right>\\r\\n    </vdr-action-bar>\\r\\n</vdr-page-block>\\r\\n\\r\\n<vdr-page-detail-layout *ngIf=\\\"entity$ | async as order\\\">\\r\\n    <vdr-page-detail-sidebar>\\r\\n        <vdr-card [title]=\\\"'order.state' | translate\\\">\\r\\n            <ng-template vdrCardControls>\\r\\n                <button\\r\\n                    class=\\\"button-small\\\"\\r\\n                    (click)=\\\"openStateDiagram()\\\"\\r\\n                    [title]=\\\"'order.order-state-diagram' | translate\\\"\\r\\n                >\\r\\n                    <clr-icon shape=\\\"list\\\"></clr-icon>\\r\\n                </button>\\r\\n            </ng-template>\\r\\n            <vdr-order-state-label [state]=\\\"order.state\\\"></vdr-order-state-label>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.customer' | translate\\\">\\r\\n            <ng-template vdrCardControls>\\r\\n                <button\\r\\n                    *vdrIfPermissions=\\\"['UpdateOrder', 'ReadCustomer']\\\"\\r\\n                    class=\\\"button-small\\\"\\r\\n                    (click)=\\\"setOrderCustomer()\\\"\\r\\n                    [title]=\\\"'order.assign-order-to-another-customer' | translate\\\"\\r\\n                >\\r\\n                    <clr-icon shape=\\\"switch\\\"></clr-icon>\\r\\n                </button>\\r\\n            </ng-template>\\r\\n            <vdr-customer-label [customer]=\\\"order.customer\\\"></vdr-customer-label>\\r\\n            <vdr-labeled-data\\r\\n                class=\\\"mt-2\\\"\\r\\n                [label]=\\\"'order.shipping-address' | translate\\\"\\r\\n                *ngIf=\\\"getOrderAddressLines(order.shippingAddress).length\\\"\\r\\n            >\\r\\n                <vdr-formatted-address [address]=\\\"order.shippingAddress\\\" class=\\\"mt-1\\\"></vdr-formatted-address>\\r\\n            </vdr-labeled-data>\\r\\n            <vdr-labeled-data\\r\\n                [label]=\\\"'order.billing-address' | translate\\\"\\r\\n                *ngIf=\\\"getOrderAddressLines(order.billingAddress).length\\\"\\r\\n            >\\r\\n                <vdr-formatted-address [address]=\\\"order.billingAddress\\\" class=\\\"mt-1\\\"></vdr-formatted-address>\\r\\n            </vdr-labeled-data>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.payments' | translate\\\" *ngIf=\\\"order.payments?.length\\\">\\r\\n            <vdr-order-payment-card\\r\\n                *ngFor=\\\"let payment of order.payments\\\"\\r\\n                [currencyCode]=\\\"order.currencyCode\\\"\\r\\n                [payment]=\\\"payment\\\"\\r\\n                (settlePayment)=\\\"settlePayment($event)\\\"\\r\\n                (transitionPaymentState)=\\\"transitionPaymentState($event)\\\"\\r\\n                (settleRefund)=\\\"settleRefund($event)\\\"\\r\\n            ></vdr-order-payment-card>\\r\\n        </vdr-card>\\r\\n        <vdr-card *ngIf=\\\"order.fulfillments?.length\\\">\\r\\n            <vdr-fulfillment-card\\r\\n                *ngFor=\\\"let fulfillment of order.fulfillments\\\"\\r\\n                [fulfillment]=\\\"fulfillment\\\"\\r\\n                [order]=\\\"order\\\"\\r\\n                (transitionState)=\\\"transitionFulfillment(fulfillment.id, $event)\\\"\\r\\n            ></vdr-fulfillment-card>\\r\\n        </vdr-card>\\r\\n        <vdr-card>\\r\\n            <vdr-page-entity-info *ngIf=\\\"entity$ | async as entity\\\" [entity]=\\\"entity\\\" />\\r\\n        </vdr-card>\\r\\n    </vdr-page-detail-sidebar>\\r\\n\\r\\n    <vdr-page-block>\\r\\n        <vdr-seller-orders-card\\r\\n            class=\\\"mb-2\\\"\\r\\n            *ngIf=\\\"order.sellerOrders.length\\\"\\r\\n            [orderId]=\\\"order.id\\\"\\r\\n        ></vdr-seller-orders-card>\\r\\n        <vdr-card [paddingX]=\\\"false\\\">\\r\\n            <vdr-order-table\\r\\n                [order]=\\\"order\\\"\\r\\n                [orderLineCustomFields]=\\\"orderLineCustomFields\\\"\\r\\n            ></vdr-order-table>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.tax-summary' | translate\\\" [paddingX]=\\\"false\\\">\\r\\n            <table class=\\\"table\\\">\\r\\n                <thead>\\r\\n                    <tr>\\r\\n                        <th>{{ 'common.description' | translate }}</th>\\r\\n                        <th>{{ 'order.tax-rate' | translate }}</th>\\r\\n                        <th>{{ 'order.tax-base' | translate }}</th>\\r\\n                        <th>{{ 'order.tax-total' | translate }}</th>\\r\\n                    </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                    <tr *ngFor=\\\"let row of order.taxSummary\\\">\\r\\n                        <td>{{ row.description }}</td>\\r\\n                        <td>{{ row.taxRate / 100 | percent : '0.0-2' }}</td>\\r\\n                        <td>{{ row.taxBase | localeCurrency : order.currencyCode }}</td>\\r\\n                        <td>{{ row.taxTotal | localeCurrency : order.currencyCode }}</td>\\r\\n                    </tr>\\r\\n                </tbody>\\r\\n            </table>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'common.custom-fields' | translate\\\" *ngIf=\\\"customFields.length\\\">\\r\\n            <vdr-tabbed-custom-fields\\r\\n                entityName=\\\"Order\\\"\\r\\n                [customFields]=\\\"customFields\\\"\\r\\n                [customFieldsFormGroup]=\\\"detailForm.get('customFields')\\\"\\r\\n                [readonly]=\\\"!('UpdateOrder' | hasPermission)\\\"\\r\\n            />\\r\\n            <button\\r\\n                class=\\\"button primary\\\"\\r\\n                (click)=\\\"updateCustomFields()\\\"\\r\\n                [disabled]=\\\"\\r\\n                    detailForm.get('customFields')?.pristine || detailForm.get('customFields')?.invalid\\r\\n                \\\"\\r\\n            >\\r\\n                {{ 'common.update' | translate }}\\r\\n            </button>\\r\\n        </vdr-card>\\r\\n        <vdr-custom-detail-component-host\\r\\n            locationId=\\\"order-detail\\\"\\r\\n            [entity$]=\\\"entity$\\\"\\r\\n            [detailForm]=\\\"detailForm\\\"\\r\\n        ></vdr-custom-detail-component-host>\\r\\n\\r\\n        <vdr-card [title]=\\\"'order.order-history' | translate\\\">\\r\\n            <vdr-order-history\\r\\n                [order]=\\\"order\\\"\\r\\n                [history]=\\\"history$ | async\\\"\\r\\n                (addNote)=\\\"addNote($event)\\\"\\r\\n                (updateNote)=\\\"updateNote($event)\\\"\\r\\n                (deleteNote)=\\\"deleteNote($event)\\\"\\r\\n            ></vdr-order-history>\\r\\n        </vdr-card>\\r\\n    </vdr-page-block>\\r\\n</vdr-page-detail-layout>\\r\\n\", styles: [\".shipping-address{list-style-type:none;line-height:1.3em}.order-cards h6{margin-top:6px;color:var(--color-text-200)}vdr-order-payment-card+vdr-order-payment-card{margin-top:calc(var(--space-unit) * 2)}\\n\"] }]\n        }], ctorParameters: () => [{ type: i0.ChangeDetectorRef }, { type: i1.DataService }, { type: i1.NotificationService }, { type: i1.ModalService }, { type: OrderTransitionService }, { type: i2.FormBuilder }] });\n\nclass OrderModificationSummaryComponent {\n    get adjustedLines() {\n        return (this.modifyOrderInput.adjustOrderLines || [])\n            .map(l => {\n            const line = this.orderSnapshot.lines.find(line => line.id === l.orderLineId);\n            if (line) {\n                const delta = l.quantity - line.quantity;\n                const sign = delta === 0 ? '' : delta > 0 ? '+' : '-';\n                return delta\n                    ? `${sign}${Math.abs(delta)} ${line.productVariant.name}`\n                    : line.productVariant.name;\n            }\n        })\n            .filter(notNullOrUndefined);\n    }\n    getModifiedFields(formGroup) {\n        if (!formGroup.dirty) {\n            return '';\n        }\n        return Object.entries(formGroup.controls)\n            .map(([key, control]) => {\n            if (control.dirty) {\n                return key;\n            }\n        })\n            .filter(notNullOrUndefined)\n            .join(', ');\n    }\n    getUpdatedShippingMethodLines() {\n        return Object.entries(this.updatedShippingMethods || {})\n            .map(([lineId, shippingMethod]) => {\n            const previousMethod = this.orderSnapshot.shippingLines.find(l => l.id === lineId);\n            if (!previousMethod) {\n                return;\n            }\n            const previousName = previousMethod.shippingMethod.name || previousMethod.shippingMethod.code;\n            const newName = shippingMethod.name || shippingMethod.code;\n            return `${previousName} -> ${newName}`;\n        })\n            .filter(notNullOrUndefined);\n    }\n    get couponCodeChanges() {\n        const originalCodes = this.orderSnapshot.couponCodes || [];\n        const newCodes = this.couponCodesControl.value || [];\n        const addedCodes = newCodes.filter(c => !originalCodes.includes(c)).map(c => `+ ${c}`);\n        const removedCodes = originalCodes.filter(c => !newCodes.includes(c)).map(c => `- ${c}`);\n        return [...addedCodes, ...removedCodes];\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderModificationSummaryComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: OrderModificationSummaryComponent, selector: \"vdr-order-modification-summary\", inputs: { orderSnapshot: \"orderSnapshot\", modifyOrderInput: \"modifyOrderInput\", addedLines: \"addedLines\", shippingAddressForm: \"shippingAddressForm\", billingAddressForm: \"billingAddressForm\", updatedShippingMethods: \"updatedShippingMethods\", couponCodesControl: \"couponCodesControl\" }, ngImport: i0, template: \"<vdr-labeled-data\\r\\n        *ngIf=\\\"modifyOrderInput.adjustOrderLines?.length\\\"\\r\\n        [label]=\\\"\\r\\n                    'order.modification-adjusting-lines'\\r\\n                        | translate : { count: modifyOrderInput.adjustOrderLines?.length }\\r\\n                \\\"\\r\\n>\\r\\n    <div *ngFor=\\\"let line of adjustedLines\\\" class=\\\"mb-1\\\">\\r\\n        {{ line }}\\r\\n    </div>\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data\\r\\n        *ngIf=\\\"modifyOrderInput.addItems?.length\\\"\\r\\n        [label]=\\\"\\r\\n                    'order.modification-adding-items'\\r\\n                        | translate : { count: modifyOrderInput.addItems?.length }\\r\\n                \\\"\\r\\n>\\r\\n    <div *ngFor=\\\"let item of addedLines\\\">\\r\\n        {{ item.productVariant.name }} x {{ item.quantity }}\\r\\n    </div>\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data\\r\\n        *ngIf=\\\"modifyOrderInput.surcharges?.length\\\"\\r\\n        [label]=\\\"\\r\\n                    'order.modification-adding-surcharges'\\r\\n                        | translate : { count: modifyOrderInput.surcharges?.length }\\r\\n                \\\"\\r\\n>\\r\\n    <div *ngFor=\\\"let surcharge of modifyOrderInput.surcharges\\\" class=\\\"mb-1\\\">\\r\\n        {{ surcharge.description }}: {{ surcharge.price | localeCurrency : orderSnapshot.currencyCode }}\\r\\n    </div>\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data\\r\\n        *ngIf=\\\"getModifiedFields(shippingAddressForm) as updatedShippingFields\\\"\\r\\n        [label]=\\\"'order.modification-updating-shipping-address' | translate\\\"\\r\\n>\\r\\n    {{ updatedShippingFields }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data\\r\\n        *ngIf=\\\"getModifiedFields(billingAddressForm) as updatedBillingFields\\\"\\r\\n        [label]=\\\"'order.modification-updating-billing-address' | translate\\\"\\r\\n>\\r\\n    {{ updatedBillingFields }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data *ngIf=\\\"couponCodeChanges.length\\\" [label]=\\\"'order.set-coupon-codes' | translate\\\">\\r\\n    <div *ngFor=\\\"let change of couponCodeChanges\\\" class=\\\"mb-1\\\">{{ change }}</div>\\r\\n</vdr-labeled-data>\\r\\n<ng-container *ngIf=\\\"getUpdatedShippingMethodLines() as updatedShippingMethods\\\">\\r\\n    <vdr-labeled-data *ngIf=\\\"updatedShippingMethods.length\\\" [label]=\\\"'order.shipping-method' | translate\\\">\\r\\n        <div *ngFor=\\\"let change of updatedShippingMethods\\\" class=\\\"mb-1\\\">{{ change }}</div>\\r\\n    </vdr-labeled-data>\\r\\n</ng-container>\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"component\", type: i1.LabeledDataComponent, selector: \"vdr-labeled-data\", inputs: [\"label\"] }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderModificationSummaryComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-order-modification-summary', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<vdr-labeled-data\\r\\n        *ngIf=\\\"modifyOrderInput.adjustOrderLines?.length\\\"\\r\\n        [label]=\\\"\\r\\n                    'order.modification-adjusting-lines'\\r\\n                        | translate : { count: modifyOrderInput.adjustOrderLines?.length }\\r\\n                \\\"\\r\\n>\\r\\n    <div *ngFor=\\\"let line of adjustedLines\\\" class=\\\"mb-1\\\">\\r\\n        {{ line }}\\r\\n    </div>\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data\\r\\n        *ngIf=\\\"modifyOrderInput.addItems?.length\\\"\\r\\n        [label]=\\\"\\r\\n                    'order.modification-adding-items'\\r\\n                        | translate : { count: modifyOrderInput.addItems?.length }\\r\\n                \\\"\\r\\n>\\r\\n    <div *ngFor=\\\"let item of addedLines\\\">\\r\\n        {{ item.productVariant.name }} x {{ item.quantity }}\\r\\n    </div>\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data\\r\\n        *ngIf=\\\"modifyOrderInput.surcharges?.length\\\"\\r\\n        [label]=\\\"\\r\\n                    'order.modification-adding-surcharges'\\r\\n                        | translate : { count: modifyOrderInput.surcharges?.length }\\r\\n                \\\"\\r\\n>\\r\\n    <div *ngFor=\\\"let surcharge of modifyOrderInput.surcharges\\\" class=\\\"mb-1\\\">\\r\\n        {{ surcharge.description }}: {{ surcharge.price | localeCurrency : orderSnapshot.currencyCode }}\\r\\n    </div>\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data\\r\\n        *ngIf=\\\"getModifiedFields(shippingAddressForm) as updatedShippingFields\\\"\\r\\n        [label]=\\\"'order.modification-updating-shipping-address' | translate\\\"\\r\\n>\\r\\n    {{ updatedShippingFields }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data\\r\\n        *ngIf=\\\"getModifiedFields(billingAddressForm) as updatedBillingFields\\\"\\r\\n        [label]=\\\"'order.modification-updating-billing-address' | translate\\\"\\r\\n>\\r\\n    {{ updatedBillingFields }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data *ngIf=\\\"couponCodeChanges.length\\\" [label]=\\\"'order.set-coupon-codes' | translate\\\">\\r\\n    <div *ngFor=\\\"let change of couponCodeChanges\\\" class=\\\"mb-1\\\">{{ change }}</div>\\r\\n</vdr-labeled-data>\\r\\n<ng-container *ngIf=\\\"getUpdatedShippingMethodLines() as updatedShippingMethods\\\">\\r\\n    <vdr-labeled-data *ngIf=\\\"updatedShippingMethods.length\\\" [label]=\\\"'order.shipping-method' | translate\\\">\\r\\n        <div *ngFor=\\\"let change of updatedShippingMethods\\\" class=\\\"mb-1\\\">{{ change }}</div>\\r\\n    </vdr-labeled-data>\\r\\n</ng-container>\" }]\n        }], propDecorators: { orderSnapshot: [{\n                type: Input\n            }], modifyOrderInput: [{\n                type: Input\n            }], addedLines: [{\n                type: Input\n            }], shippingAddressForm: [{\n                type: Input\n            }], billingAddressForm: [{\n                type: Input\n            }], updatedShippingMethods: [{\n                type: Input\n            }], couponCodesControl: [{\n                type: Input\n            }] } });\n\nvar OrderEditResultType;\n(function (OrderEditResultType) {\n    OrderEditResultType[OrderEditResultType[\"Refund\"] = 0] = \"Refund\";\n    OrderEditResultType[OrderEditResultType[\"Payment\"] = 1] = \"Payment\";\n    OrderEditResultType[OrderEditResultType[\"PriceUnchanged\"] = 2] = \"PriceUnchanged\";\n    OrderEditResultType[OrderEditResultType[\"Cancel\"] = 3] = \"Cancel\";\n})(OrderEditResultType || (OrderEditResultType = {}));\nclass OrderEditsPreviewDialogComponent {\n    get priceDifference() {\n        return this.order.totalWithTax - this.orderSnapshot.totalWithTax;\n    }\n    get amountToRefundTotal() {\n        return this.refundablePayments.reduce((total, payment) => total + payment.amountToRefundControl.value, 0);\n    }\n    ngOnInit() {\n        this.refundNote = this.modifyOrderInput.note || '';\n        this.refundablePayments = getRefundablePayments(this.order.payments || []);\n        this.refundablePayments.forEach(rp => {\n            rp.amountToRefundControl.addValidators(Validators.max(this.priceDifference * -1));\n        });\n        if (this.priceDifference < 0 && this.refundablePayments.length) {\n            this.onPaymentSelected(this.refundablePayments[0], true);\n        }\n    }\n    onPaymentSelected(payment, selected) {\n        if (selected) {\n            const outstandingRefundAmount = this.priceDifference * -1 -\n                this.refundablePayments\n                    .filter(p => p.id !== payment.id)\n                    .reduce((total, p) => total + p.amountToRefundControl.value, 0);\n            if (0 < outstandingRefundAmount) {\n                payment.amountToRefundControl.setValue(Math.min(outstandingRefundAmount, payment.refundableAmount));\n            }\n        }\n        else {\n            payment.amountToRefundControl.setValue(0);\n        }\n    }\n    refundsCoverDifference() {\n        return this.priceDifference * -1 === this.amountToRefundTotal;\n    }\n    cancel() {\n        this.resolveWith({\n            result: OrderEditResultType.Cancel,\n        });\n    }\n    submit() {\n        if (0 < this.priceDifference) {\n            this.resolveWith({\n                result: OrderEditResultType.Payment,\n            });\n        }\n        else if (this.priceDifference < 0) {\n            this.resolveWith({\n                result: OrderEditResultType.Refund,\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                refunds: this.refundablePayments\n                    .filter(rp => rp.selected && 0 < rp.amountToRefundControl.value)\n                    .map(payment => {\n                    return {\n                        reason: this.refundNote || this.modifyOrderInput.note,\n                        paymentId: payment.id,\n                        amount: payment.amountToRefundControl.value,\n                    };\n                }),\n            });\n        }\n        else {\n            this.resolveWith({\n                result: OrderEditResultType.PriceUnchanged,\n            });\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderEditsPreviewDialogComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: OrderEditsPreviewDialogComponent, selector: \"vdr-order-edits-preview-dialog\", ngImport: i0, template: \"<ng-template vdrDialogTitle>{{ 'order.confirm-modifications' | translate }}</ng-template>\\r\\n<vdr-order-table\\r\\n    [order]=\\\"order\\\"\\r\\n    [orderLineCustomFields]=\\\"orderLineCustomFields\\\"\\r\\n    class=\\\"order-edits-preview-table\\\"\\r\\n></vdr-order-table>\\r\\n<div class=\\\"payments-wrapper mb-2\\\">\\r\\n    <div class=\\\"flex-spacer\\\">\\r\\n        <vdr-payment-for-refund-selector\\r\\n            *ngIf=\\\"priceDifference < 0\\\"\\r\\n            class=\\\"\\\"\\r\\n            [refundablePayments]=\\\"refundablePayments\\\"\\r\\n            (paymentSelected)=\\\"onPaymentSelected($event.payment, $event.selected)\\\"\\r\\n            [order]=\\\"order\\\"\\r\\n        ></vdr-payment-for-refund-selector>\\r\\n    </div>\\r\\n    <div class=\\\"flex-spacer\\\">\\r\\n        <vdr-card [title]=\\\"'order.modify-order' | translate\\\">\\r\\n            <vdr-order-modification-summary\\r\\n                [orderSnapshot]=\\\"orderSnapshot\\\"\\r\\n                [modifyOrderInput]=\\\"modifyOrderInput\\\"\\r\\n                [addedLines]=\\\"addedLines\\\"\\r\\n                [shippingAddressForm]=\\\"shippingAddressForm\\\"\\r\\n                [billingAddressForm]=\\\"billingAddressForm\\\"\\r\\n                [couponCodesControl]=\\\"couponCodesControl\\\"\\r\\n                [updatedShippingMethods]=\\\"updatedShippingMethods\\\"\\r\\n            ></vdr-order-modification-summary>\\r\\n            <vdr-labeled-data [label]=\\\"'order.note' | translate\\\">\\r\\n                {{ modifyOrderInput.note || '-' }}\\r\\n            </vdr-labeled-data>\\r\\n            <vdr-form-field\\r\\n                [label]=\\\"'order.refund-cancellation-reason' | translate\\\"\\r\\n                *ngIf=\\\"priceDifference < 0\\\"\\r\\n            >\\r\\n                <textarea [(ngModel)]=\\\"refundNote\\\" name=\\\"refundNote\\\" required></textarea>\\r\\n            </vdr-form-field>\\r\\n        </vdr-card>\\r\\n    </div>\\r\\n</div>\\r\\n<ng-template vdrDialogButtons>\\r\\n    <div>\\r\\n        <div class=\\\"errors\\\">\\r\\n            <clr-alert\\r\\n                class=\\\"mb-1\\\"\\r\\n                *ngIf=\\\"priceDifference < 0 && !refundsCoverDifference()\\\"\\r\\n                [clrAlertType]=\\\"'danger'\\\"\\r\\n                [clrAlertClosable]=\\\"false\\\"\\r\\n            >\\r\\n                <clr-alert-item>\\r\\n                    {{ 'order.refund-total-warning' | translate }}\\r\\n                </clr-alert-item>\\r\\n            </clr-alert>\\r\\n        </div>\\r\\n        <div class=\\\"modal-buttons\\\">\\r\\n            <clr-alert class=\\\"\\\" [clrAlertType]=\\\"'primary'\\\" [clrAlertClosable]=\\\"false\\\">\\r\\n                <clr-alert-item>\\r\\n                    {{ 'order.modify-order-price-difference' | translate }}\\r\\n                    {{ 0 < priceDifference ? '+' : ''\\r\\n                    }}{{ priceDifference | localeCurrency : order.currencyCode }}\\r\\n                </clr-alert-item>\\r\\n            </clr-alert>\\r\\n            <button type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"cancel()\\\">\\r\\n                {{ 'common.cancel' | translate }}\\r\\n            </button>\\r\\n            <button\\r\\n                type=\\\"submit\\\"\\r\\n                (click)=\\\"submit()\\\"\\r\\n                [disabled]=\\\"priceDifference < 0 ? !refundsCoverDifference() : false\\\"\\r\\n                class=\\\"btn btn-primary\\\"\\r\\n            >\\r\\n                {{ 'common.confirm' | translate }}\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</ng-template>\\r\\n\", styles: [\"::ng-deep .order-edits-preview-table .table-wrapper{max-width:initial!important}.payments-wrapper{display:flex;gap:calc(var(--space-unit) * 2)}.modal-buttons{display:flex;justify-content:flex-end;gap:.6rem;gap:var(--clr-modal-footer-gap, .6rem)}\\n\"], dependencies: [{ kind: \"component\", type: i3.ClrAlert, selector: \"clr-alert\", inputs: [\"clrAlertSizeSmall\", \"clrAlertClosable\", \"clrAlertAppLevel\", \"clrCloseButtonAriaLabel\", \"clrAlertLightweight\", \"clrAlertType\", \"clrAlertIcon\", \"clrAlertClosed\"], outputs: [\"clrAlertClosedChange\"] }, { kind: \"component\", type: i3.ClrAlertItem, selector: \"clr-alert-item\" }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i2.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { kind: \"directive\", type: i2.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { kind: \"component\", type: i1.FormFieldComponent, selector: \"vdr-form-field\", inputs: [\"label\", \"for\", \"tooltip\", \"errors\", \"readOnlyToggle\"], outputs: [\"readOnlyToggleChange\"] }, { kind: \"directive\", type: i1.FormFieldControlDirective, selector: \"input, textarea, select, vdr-currency-input\" }, { kind: \"directive\", type: i1.DialogButtonsDirective, selector: \"[vdrDialogButtons]\" }, { kind: \"directive\", type: i1.DialogTitleDirective, selector: \"[vdrDialogTitle]\" }, { kind: \"component\", type: i1.LabeledDataComponent, selector: \"vdr-labeled-data\", inputs: [\"label\"] }, { kind: \"component\", type: i1.CardComponent, selector: \"vdr-card\", inputs: [\"title\", \"paddingX\"] }, { kind: \"component\", type: OrderTableComponent, selector: \"vdr-order-table\", inputs: [\"order\", \"orderLineCustomFields\", \"isDraft\"], outputs: [\"adjust\", \"remove\"] }, { kind: \"component\", type: PaymentForRefundSelectorComponent, selector: \"vdr-payment-for-refund-selector\", inputs: [\"refundablePayments\", \"order\"], outputs: [\"paymentSelected\"] }, { kind: \"component\", type: OrderModificationSummaryComponent, selector: \"vdr-order-modification-summary\", inputs: [\"orderSnapshot\", \"modifyOrderInput\", \"addedLines\", \"shippingAddressForm\", \"billingAddressForm\", \"updatedShippingMethods\", \"couponCodesControl\"] }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderEditsPreviewDialogComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-order-edits-preview-dialog', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-template vdrDialogTitle>{{ 'order.confirm-modifications' | translate }}</ng-template>\\r\\n<vdr-order-table\\r\\n    [order]=\\\"order\\\"\\r\\n    [orderLineCustomFields]=\\\"orderLineCustomFields\\\"\\r\\n    class=\\\"order-edits-preview-table\\\"\\r\\n></vdr-order-table>\\r\\n<div class=\\\"payments-wrapper mb-2\\\">\\r\\n    <div class=\\\"flex-spacer\\\">\\r\\n        <vdr-payment-for-refund-selector\\r\\n            *ngIf=\\\"priceDifference < 0\\\"\\r\\n            class=\\\"\\\"\\r\\n            [refundablePayments]=\\\"refundablePayments\\\"\\r\\n            (paymentSelected)=\\\"onPaymentSelected($event.payment, $event.selected)\\\"\\r\\n            [order]=\\\"order\\\"\\r\\n        ></vdr-payment-for-refund-selector>\\r\\n    </div>\\r\\n    <div class=\\\"flex-spacer\\\">\\r\\n        <vdr-card [title]=\\\"'order.modify-order' | translate\\\">\\r\\n            <vdr-order-modification-summary\\r\\n                [orderSnapshot]=\\\"orderSnapshot\\\"\\r\\n                [modifyOrderInput]=\\\"modifyOrderInput\\\"\\r\\n                [addedLines]=\\\"addedLines\\\"\\r\\n                [shippingAddressForm]=\\\"shippingAddressForm\\\"\\r\\n                [billingAddressForm]=\\\"billingAddressForm\\\"\\r\\n                [couponCodesControl]=\\\"couponCodesControl\\\"\\r\\n                [updatedShippingMethods]=\\\"updatedShippingMethods\\\"\\r\\n            ></vdr-order-modification-summary>\\r\\n            <vdr-labeled-data [label]=\\\"'order.note' | translate\\\">\\r\\n                {{ modifyOrderInput.note || '-' }}\\r\\n            </vdr-labeled-data>\\r\\n            <vdr-form-field\\r\\n                [label]=\\\"'order.refund-cancellation-reason' | translate\\\"\\r\\n                *ngIf=\\\"priceDifference < 0\\\"\\r\\n            >\\r\\n                <textarea [(ngModel)]=\\\"refundNote\\\" name=\\\"refundNote\\\" required></textarea>\\r\\n            </vdr-form-field>\\r\\n        </vdr-card>\\r\\n    </div>\\r\\n</div>\\r\\n<ng-template vdrDialogButtons>\\r\\n    <div>\\r\\n        <div class=\\\"errors\\\">\\r\\n            <clr-alert\\r\\n                class=\\\"mb-1\\\"\\r\\n                *ngIf=\\\"priceDifference < 0 && !refundsCoverDifference()\\\"\\r\\n                [clrAlertType]=\\\"'danger'\\\"\\r\\n                [clrAlertClosable]=\\\"false\\\"\\r\\n            >\\r\\n                <clr-alert-item>\\r\\n                    {{ 'order.refund-total-warning' | translate }}\\r\\n                </clr-alert-item>\\r\\n            </clr-alert>\\r\\n        </div>\\r\\n        <div class=\\\"modal-buttons\\\">\\r\\n            <clr-alert class=\\\"\\\" [clrAlertType]=\\\"'primary'\\\" [clrAlertClosable]=\\\"false\\\">\\r\\n                <clr-alert-item>\\r\\n                    {{ 'order.modify-order-price-difference' | translate }}\\r\\n                    {{ 0 < priceDifference ? '+' : ''\\r\\n                    }}{{ priceDifference | localeCurrency : order.currencyCode }}\\r\\n                </clr-alert-item>\\r\\n            </clr-alert>\\r\\n            <button type=\\\"button\\\" class=\\\"btn\\\" (click)=\\\"cancel()\\\">\\r\\n                {{ 'common.cancel' | translate }}\\r\\n            </button>\\r\\n            <button\\r\\n                type=\\\"submit\\\"\\r\\n                (click)=\\\"submit()\\\"\\r\\n                [disabled]=\\\"priceDifference < 0 ? !refundsCoverDifference() : false\\\"\\r\\n                class=\\\"btn btn-primary\\\"\\r\\n            >\\r\\n                {{ 'common.confirm' | translate }}\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</ng-template>\\r\\n\", styles: [\"::ng-deep .order-edits-preview-table .table-wrapper{max-width:initial!important}.payments-wrapper{display:flex;gap:calc(var(--space-unit) * 2)}.modal-buttons{display:flex;justify-content:flex-end;gap:.6rem;gap:var(--clr-modal-footer-gap, .6rem)}\\n\"] }]\n        }] });\n\nclass OrderEditorComponent extends TypedBaseDetailComponent {\n    constructor(dataService, notificationService, modalService, orderTransitionService, changeDetectorRef) {\n        super();\n        this.dataService = dataService;\n        this.notificationService = notificationService;\n        this.modalService = modalService;\n        this.orderTransitionService = orderTransitionService;\n        this.changeDetectorRef = changeDetectorRef;\n        this.detailForm = new UntypedFormGroup({});\n        this.couponCodesControl = new FormControl([]);\n        this.modifyOrderInput = {\n            dryRun: true,\n            orderId: '',\n            addItems: [],\n            adjustOrderLines: [],\n            surcharges: [],\n            note: '',\n            refunds: [],\n            updateShippingAddress: {},\n            updateBillingAddress: {},\n        };\n        this.surchargeForm = new FormGroup({\n            description: new FormControl('', Validators.minLength(1)),\n            sku: new FormControl(''),\n            price: new FormControl(0),\n            priceIncludesTax: new FormControl(true),\n            taxRate: new FormControl(0),\n            taxDescription: new FormControl(''),\n        });\n        this.shippingAddressForm = new FormGroup({\n            fullName: new FormControl(''),\n            company: new FormControl(''),\n            streetLine1: new FormControl(''),\n            streetLine2: new FormControl(''),\n            city: new FormControl(''),\n            province: new FormControl(''),\n            postalCode: new FormControl(''),\n            countryCode: new FormControl(''),\n            phoneNumber: new FormControl(''),\n        });\n        this.billingAddressForm = new FormGroup({\n            fullName: new FormControl(''),\n            company: new FormControl(''),\n            streetLine1: new FormControl(''),\n            streetLine2: new FormControl(''),\n            city: new FormControl(''),\n            province: new FormControl(''),\n            postalCode: new FormControl(''),\n            countryCode: new FormControl(''),\n            phoneNumber: new FormControl(''),\n        });\n        this.note = '';\n        this.recalculateShipping = true;\n        this.editingShippingAddress = false;\n        this.editingBillingAddress = false;\n        this.updatedShippingMethods = {};\n        this.addedVariants = new Map();\n    }\n    ngOnInit() {\n        this.init();\n        this.addressCustomFields = this.getCustomFieldConfig('Address');\n        this.modifyOrderInput.orderId = this.route.snapshot.paramMap.get('id');\n        this.orderLineCustomFields = this.getCustomFieldConfig('OrderLine');\n        this.entity$.pipe(take(1)).subscribe(order => {\n            this.orderSnapshot = this.createOrderSnapshot(order);\n            if (order.couponCodes.length) {\n                this.couponCodesControl.setValue(order.couponCodes);\n            }\n            this.surchargeForm.reset();\n            for (const [name, control] of Object.entries(this.shippingAddressForm.controls)) {\n                control.setValue(order.shippingAddress?.[name]);\n            }\n            this.addAddressCustomFieldsFormGroup(this.shippingAddressForm, order.shippingAddress);\n            for (const [name, control] of Object.entries(this.billingAddressForm.controls)) {\n                control.setValue(order.billingAddress?.[name]);\n            }\n            this.addAddressCustomFieldsFormGroup(this.billingAddressForm, order.billingAddress);\n            this.orderLineCustomFieldsFormArray = new UntypedFormArray([]);\n            for (const line of order.lines) {\n                const formGroup = new UntypedFormGroup({});\n                for (const { name } of this.orderLineCustomFields) {\n                    formGroup.addControl(name, new UntypedFormControl(line.customFields[name]));\n                }\n                formGroup.valueChanges.pipe(takeUntil(this.destroy$)).subscribe(value => {\n                    let modifyRow = this.modifyOrderInput.adjustOrderLines.find(l => l.orderLineId === line.id);\n                    if (!modifyRow) {\n                        modifyRow = {\n                            orderLineId: line.id,\n                            quantity: line.quantity,\n                        };\n                        this.modifyOrderInput.adjustOrderLines.push(modifyRow);\n                    }\n                    if (this.orderLineCustomFields.length) {\n                        modifyRow.customFields = value;\n                    }\n                });\n                this.orderLineCustomFieldsFormArray.push(formGroup);\n            }\n        });\n        this.addItemCustomFieldsFormArray = new UntypedFormArray([]);\n        this.addItemCustomFieldsForm = new UntypedFormGroup({});\n        for (const customField of this.orderLineCustomFields) {\n            this.addItemCustomFieldsForm.addControl(customField.name, new UntypedFormControl());\n        }\n        this.availableCountries$ = this.dataService.settings\n            .getAvailableCountries()\n            .mapSingle(result => result.countries.items)\n            .pipe(shareReplay(1));\n        this.dataService.order\n            .getOrderHistory(this.id, {\n            take: 1,\n            sort: {\n                createdAt: SortOrder.DESC,\n            },\n            filter: { type: { eq: HistoryEntryType.ORDER_STATE_TRANSITION } },\n        })\n            .single$.subscribe(({ order }) => {\n            this.previousState = order?.history.items[0].data.from;\n        });\n        this.uiLanguage$ = this.dataService.client\n            .uiState()\n            .stream$.pipe(map(({ uiState }) => uiState.language));\n    }\n    ngOnDestroy() {\n        this.destroy();\n    }\n    get addedLines() {\n        const getSinglePriceValue = (price) => price.__typename === 'SinglePrice' ? price.value : 0;\n        return (this.modifyOrderInput.addItems || [])\n            .map(row => {\n            const variantInfo = this.addedVariants.get(row.productVariantId);\n            if (variantInfo) {\n                return {\n                    id: this.getIdForAddedItem(row),\n                    featuredAsset: variantInfo.productAsset,\n                    productVariant: {\n                        id: variantInfo.productVariantId,\n                        name: variantInfo.productVariantName,\n                        sku: variantInfo.sku,\n                    },\n                    unitPrice: getSinglePriceValue(variantInfo.price),\n                    unitPriceWithTax: getSinglePriceValue(variantInfo.priceWithTax),\n                    quantity: row.quantity,\n                };\n            }\n        })\n            .filter(notNullOrUndefined);\n    }\n    getIdForAddedItem(row) {\n        return `added-${row.productVariantId}-${JSON.stringify(row.customFields || {})}`;\n    }\n    transitionToPriorState(order) {\n        this.orderTransitionService\n            .transitionToPreModifyingState(order.id, order.nextStates)\n            .subscribe(result => {\n            this.router.navigate(['..'], { relativeTo: this.route });\n        });\n    }\n    hasModifications() {\n        const { addItems, adjustOrderLines, surcharges } = this.modifyOrderInput;\n        return (!!addItems?.length ||\n            !!surcharges?.length ||\n            !!adjustOrderLines?.length ||\n            (this.shippingAddressForm.dirty && this.shippingAddressForm.valid) ||\n            (this.billingAddressForm.dirty && this.billingAddressForm.valid) ||\n            this.couponCodesControl.dirty ||\n            Object.entries(this.updatedShippingMethods).length > 0);\n    }\n    isLineModified(line) {\n        return !!this.modifyOrderInput.adjustOrderLines?.find(l => l.orderLineId === line.id && l.quantity !== line.quantity);\n    }\n    getInitialLineQuantity(lineId) {\n        const adjustedLine = this.modifyOrderInput.adjustOrderLines?.find(l => l.orderLineId === lineId);\n        if (adjustedLine) {\n            return adjustedLine.quantity;\n        }\n        const addedLine = this.modifyOrderInput.addItems?.find(l => this.getIdForAddedItem(l) === lineId);\n        if (addedLine) {\n            return addedLine.quantity ?? 1;\n        }\n        const line = this.orderSnapshot.lines.find(l => l.id === lineId);\n        return line ? line.quantity : 1;\n    }\n    updateLineQuantity(line, quantity) {\n        const { adjustOrderLines } = this.modifyOrderInput;\n        if (this.isAddedLine(line)) {\n            const row = this.modifyOrderInput.addItems?.find(l => l.productVariantId === line.productVariant.id);\n            if (row) {\n                row.quantity = +quantity;\n            }\n        }\n        else {\n            let row = adjustOrderLines?.find(l => l.orderLineId === line.id);\n            if (row && +quantity === line.quantity) {\n                // Remove the modification if the quantity is the same as\n                // the original order\n                adjustOrderLines?.splice(adjustOrderLines?.indexOf(row), 1);\n            }\n            if (!row) {\n                row = { orderLineId: line.id, quantity: +quantity };\n                adjustOrderLines?.push(row);\n            }\n            row.quantity = +quantity;\n        }\n    }\n    isAddedLine(line) {\n        return line.id.startsWith('added-');\n    }\n    updateAddedItemQuantity(item, quantity) {\n        const row = this.modifyOrderInput.addItems?.find(l => l.productVariantId === item.productVariant.id);\n        if (row) {\n            row.quantity = +quantity;\n        }\n    }\n    trackByProductVariantId(index, item) {\n        return item.productVariant.id;\n    }\n    getSelectedItemPrice(result) {\n        switch (result?.priceWithTax.__typename) {\n            case 'SinglePrice':\n                return result.priceWithTax.value;\n            default:\n                return 0;\n        }\n    }\n    addItemToOrder(result) {\n        if (!result) {\n            return;\n        }\n        const customFields = this.orderLineCustomFields.length\n            ? this.addItemCustomFieldsForm.value\n            : undefined;\n        let row = this.modifyOrderInput.addItems?.find(l => this.isMatchingAddItemRow(l, result, customFields));\n        if (!row) {\n            row = { productVariantId: result.productVariantId, quantity: 1 };\n            if (customFields) {\n                row.customFields = customFields;\n            }\n            this.modifyOrderInput.addItems?.push(row);\n        }\n        else {\n            row.quantity++;\n        }\n        if (customFields) {\n            const formGroup = new UntypedFormGroup({});\n            for (const [key, value] of Object.entries(customFields)) {\n                formGroup.addControl(key, new UntypedFormControl(value));\n            }\n            this.addItemCustomFieldsFormArray.push(formGroup);\n            formGroup.valueChanges.pipe(takeUntil(this.destroy$)).subscribe(value => {\n                if (row) {\n                    row.customFields = value;\n                }\n            });\n        }\n        this.addItemCustomFieldsForm.reset({});\n        this.addItemSelectedVariant = undefined;\n        this.addedVariants.set(result.productVariantId, result);\n    }\n    getShippingLineDetails(shippingLine) {\n        const updatedMethod = this.updatedShippingMethods[shippingLine.id];\n        if (updatedMethod) {\n            return {\n                name: updatedMethod.name || updatedMethod.code,\n                price: updatedMethod.priceWithTax,\n            };\n        }\n        else {\n            return {\n                name: shippingLine.shippingMethod.name || shippingLine.shippingMethod.code,\n                price: shippingLine.discountedPriceWithTax,\n            };\n        }\n    }\n    setShippingMethod(shippingLineId) {\n        const currentShippingMethod = this.updatedShippingMethods[shippingLineId] ??\n            this.entity?.shippingLines.find(l => l.id === shippingLineId)?.shippingMethod;\n        if (!currentShippingMethod) {\n            return;\n        }\n        this.dataService.order\n            .getDraftOrderEligibleShippingMethods(this.id)\n            .mapSingle(({ eligibleShippingMethodsForDraftOrder }) => eligibleShippingMethodsForDraftOrder)\n            .pipe(switchMap(methods => this.modalService\n            .fromComponent(SelectShippingMethodDialogComponent, {\n            locals: {\n                eligibleShippingMethods: methods,\n                currencyCode: this.entity?.currencyCode,\n                currentSelectionId: currentShippingMethod.id,\n            },\n        })\n            .pipe(map(result => {\n            if (result) {\n                return methods.find(method => method.id === result);\n            }\n        }))))\n            .subscribe(result => {\n            if (result) {\n                this.updatedShippingMethods[shippingLineId] = result;\n                this.changeDetectorRef.markForCheck();\n            }\n        });\n    }\n    isMatchingAddItemRow(row, result, customFields) {\n        return (row.productVariantId === result.productVariantId &&\n            JSON.stringify(row.customFields) === JSON.stringify(customFields));\n    }\n    removeAddedItem(id) {\n        this.modifyOrderInput.addItems = this.modifyOrderInput.addItems?.filter(l => {\n            const itemId = this.getIdForAddedItem(l);\n            return itemId !== id;\n        });\n    }\n    getSurchargePrices(surcharge) {\n        const priceWithTax = surcharge.priceIncludesTax\n            ? surcharge.price\n            : Math.round(surcharge.price * ((100 + (surcharge.taxRate || 0)) / 100));\n        const price = surcharge.priceIncludesTax\n            ? Math.round(surcharge.price / ((100 + (surcharge.taxRate || 0)) / 100))\n            : surcharge.price;\n        return {\n            price,\n            priceWithTax,\n        };\n    }\n    addSurcharge(value) {\n        this.modifyOrderInput.surcharges?.push(value);\n        this.surchargeForm.reset({\n            price: 0,\n            priceIncludesTax: true,\n            taxRate: 0,\n        });\n    }\n    removeSurcharge(index) {\n        this.modifyOrderInput.surcharges?.splice(index, 1);\n    }\n    previewAndModify(order) {\n        const modifyOrderInput = {\n            ...this.modifyOrderInput,\n            adjustOrderLines: this.modifyOrderInput.adjustOrderLines.map(line => transformRelationCustomFieldInputs(simpleDeepClone(line), this.orderLineCustomFields)),\n        };\n        const input = {\n            ...modifyOrderInput,\n            ...(this.billingAddressForm.dirty ? { updateBillingAddress: this.billingAddressForm.value } : {}),\n            ...(this.shippingAddressForm.dirty\n                ? { updateShippingAddress: this.shippingAddressForm.value }\n                : {}),\n            dryRun: true,\n            couponCodes: this.couponCodesControl.dirty ? this.couponCodesControl.value : undefined,\n            note: this.note ?? '',\n            options: {\n                recalculateShipping: this.recalculateShipping,\n            },\n        };\n        if (Object.entries(this.updatedShippingMethods).length) {\n            input.shippingMethodIds = order.shippingLines.map(l => this.updatedShippingMethods[l.id]\n                ? this.updatedShippingMethods[l.id].id\n                : l.shippingMethod.id);\n        }\n        this.dataService.order\n            .modifyOrder(input)\n            .pipe(switchMap(({ modifyOrder }) => {\n            switch (modifyOrder.__typename) {\n                case 'Order':\n                    return this.modalService.fromComponent(OrderEditsPreviewDialogComponent, {\n                        size: 'xl',\n                        closable: false,\n                        locals: {\n                            order: modifyOrder,\n                            orderSnapshot: this.orderSnapshot,\n                            orderLineCustomFields: this.orderLineCustomFields,\n                            modifyOrderInput: input,\n                            addedLines: this.addedLines,\n                            shippingAddressForm: this.shippingAddressForm,\n                            billingAddressForm: this.billingAddressForm,\n                            couponCodesControl: this.couponCodesControl,\n                            updatedShippingMethods: this.updatedShippingMethods,\n                        },\n                    });\n                case 'InsufficientStockError':\n                case 'NegativeQuantityError':\n                case 'NoChangesSpecifiedError':\n                case 'OrderLimitError':\n                case 'OrderModificationStateError':\n                case 'PaymentMethodMissingError':\n                case 'RefundPaymentIdMissingError':\n                case 'CouponCodeLimitError':\n                case 'CouponCodeExpiredError':\n                case 'IneligibleShippingMethodError':\n                case 'CouponCodeInvalidError': {\n                    this.notificationService.error(modifyOrder.message);\n                    return of(false);\n                }\n                case null:\n                case undefined:\n                    return of(false);\n                default:\n                    assertNever(modifyOrder);\n            }\n        }), switchMap(result => {\n            if (!result || result.result === OrderEditResultType.Cancel) {\n                // re-fetch so that the preview values get overwritten in the cache.\n                return this.dataService.order.getOrder(this.id).mapSingle(() => false);\n            }\n            else {\n                // Do the modification\n                const wetRunInput = {\n                    ...input,\n                    dryRun: false,\n                };\n                if (result.result === OrderEditResultType.Refund) {\n                    wetRunInput.refunds = result.refunds;\n                }\n                return this.dataService.order.modifyOrder(wetRunInput).pipe(switchMap(({ modifyOrder }) => {\n                    if (modifyOrder.__typename === 'Order') {\n                        const priceDelta = modifyOrder.totalWithTax - this.orderSnapshot.totalWithTax;\n                        const nextState = 0 < priceDelta ? 'ArrangingAdditionalPayment' : this.previousState;\n                        return this.dataService.order\n                            .transitionToState(order.id, nextState)\n                            .pipe(mapTo(true));\n                    }\n                    else {\n                        this.notificationService.error(modifyOrder.message);\n                        return EMPTY;\n                    }\n                }));\n            }\n        }))\n            .subscribe(result => {\n            if (result) {\n                this.router.navigate(['../'], { relativeTo: this.route });\n            }\n        });\n    }\n    addAddressCustomFieldsFormGroup(parentFormGroup, address) {\n        if (address && this.addressCustomFields.length) {\n            const addressCustomFieldsFormGroup = new UntypedFormGroup({});\n            for (const customFieldDef of this.addressCustomFields) {\n                const name = customFieldDef.name;\n                const value = address.customFields?.[name];\n                addressCustomFieldsFormGroup.addControl(name, new UntypedFormControl(value));\n            }\n            parentFormGroup.addControl('customFields', addressCustomFieldsFormGroup);\n        }\n    }\n    createOrderSnapshot(order) {\n        return {\n            totalWithTax: order.totalWithTax,\n            currencyCode: order.currencyCode,\n            couponCodes: order.couponCodes,\n            lines: [...order.lines].map(line => ({ ...line })),\n            shippingLines: [...order.shippingLines].map(line => ({ ...line })),\n        };\n    }\n    setFormValues(entity, languageCode) {\n        /* not used */\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderEditorComponent, deps: [{ token: i1.DataService }, { token: i1.NotificationService }, { token: i1.ModalService }, { token: OrderTransitionService }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: OrderEditorComponent, selector: \"vdr-order-editor\", usesInheritance: true, ngImport: i0, template: \"<vdr-page-block>\\r\\n    <vdr-action-bar *ngIf=\\\"entity$ | async as order\\\">\\r\\n        <vdr-ab-left>\\r\\n            <div class=\\\"flex clr-align-items-center\\\"></div>\\r\\n        </vdr-ab-left>\\r\\n\\r\\n        <vdr-ab-right>\\r\\n            <button class=\\\"btn btn-secondary\\\" (click)=\\\"transitionToPriorState(order)\\\">\\r\\n                {{ 'order.cancel-modification' | translate }}\\r\\n            </button>\\r\\n        </vdr-ab-right>\\r\\n    </vdr-action-bar>\\r\\n</vdr-page-block>\\r\\n\\r\\n<vdr-page-detail-layout *ngIf=\\\"entity as order\\\">\\r\\n    <vdr-page-detail-sidebar>\\r\\n        <vdr-card [title]=\\\"'order.modification-summary' | translate\\\">\\r\\n            <vdr-order-modification-summary\\r\\n                [orderSnapshot]=\\\"orderSnapshot\\\"\\r\\n                [modifyOrderInput]=\\\"modifyOrderInput\\\"\\r\\n                [addedLines]=\\\"addedLines\\\"\\r\\n                [shippingAddressForm]=\\\"shippingAddressForm\\\"\\r\\n                [billingAddressForm]=\\\"billingAddressForm\\\"\\r\\n                [couponCodesControl]=\\\"couponCodesControl\\\"\\r\\n                [updatedShippingMethods]=\\\"updatedShippingMethods\\\"\\r\\n            ></vdr-order-modification-summary>\\r\\n\\r\\n            <div *ngIf=\\\"!hasModifications()\\\" class=\\\"no-modifications\\\">\\r\\n                {{ 'order.no-modifications-made' | translate }}\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"summary-controls\\\">\\r\\n                <vdr-form-field [label]=\\\"'order.note' | translate\\\">\\r\\n                    <textarea\\r\\n                        [(ngModel)]=\\\"note\\\"\\r\\n                        name=\\\"note\\\"\\r\\n                        required\\r\\n                        [disabled]=\\\"!hasModifications()\\\"\\r\\n                    ></textarea>\\r\\n                </vdr-form-field>\\r\\n                <label class=\\\"flex items-center\\\">\\r\\n                    <input\\r\\n                        type=\\\"checkbox\\\"\\r\\n                        [(ngModel)]=\\\"recalculateShipping\\\"\\r\\n                        [disabled]=\\\"!hasModifications()\\\"\\r\\n                    />\\r\\n                    <div class=\\\"ml-1\\\">{{ 'order.modification-recalculate-shipping' | translate }}</div>\\r\\n                </label>\\r\\n                <button\\r\\n                    class=\\\"btn btn-primary mt-2\\\"\\r\\n                    [disabled]=\\\"!hasModifications()\\\"\\r\\n                    (click)=\\\"previewAndModify(order)\\\"\\r\\n                >\\r\\n                    {{ 'order.preview-changes' | translate }}\\r\\n                </button>\\r\\n            </div>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.set-coupon-codes' | translate\\\">\\r\\n            <vdr-coupon-code-selector [control]=\\\"couponCodesControl\\\"></vdr-coupon-code-selector>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.shipping-address' | translate\\\">\\r\\n            <ng-template vdrCardControls>\\r\\n                <button\\r\\n                    class=\\\"button-small\\\"\\r\\n                    [title]=\\\"'order.edit-shipping-address' | translate\\\"\\r\\n                    (click)=\\\"editingShippingAddress = !editingShippingAddress\\\"\\r\\n                >\\r\\n                    <clr-icon shape=\\\"edit\\\"></clr-icon>\\r\\n                </button>\\r\\n            </ng-template>\\r\\n            <vdr-formatted-address\\r\\n                *ngIf=\\\"!editingShippingAddress\\\"\\r\\n                [address]=\\\"shippingAddressForm.value\\\"\\r\\n            ></vdr-formatted-address>\\r\\n            <vdr-address-form\\r\\n                *ngIf=\\\"editingShippingAddress\\\"\\r\\n                [formGroup]=\\\"shippingAddressForm\\\"\\r\\n                [availableCountries]=\\\"availableCountries$ | async\\\"\\r\\n                [customFields]=\\\"addressCustomFields\\\"\\r\\n            ></vdr-address-form>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.billing-address' | translate\\\">\\r\\n            <ng-template vdrCardControls>\\r\\n                <button\\r\\n                    class=\\\"button-small\\\"\\r\\n                    [title]=\\\"'order.edit-billing-address' | translate\\\"\\r\\n                    (click)=\\\"editingBillingAddress = !editingBillingAddress\\\"\\r\\n                >\\r\\n                    <clr-icon shape=\\\"edit\\\"></clr-icon>\\r\\n                </button>\\r\\n            </ng-template>\\r\\n            <vdr-formatted-address\\r\\n                *ngIf=\\\"!editingBillingAddress\\\"\\r\\n                [address]=\\\"billingAddressForm.value\\\"\\r\\n            ></vdr-formatted-address>\\r\\n            <vdr-address-form\\r\\n                *ngIf=\\\"editingBillingAddress\\\"\\r\\n                [formGroup]=\\\"billingAddressForm\\\"\\r\\n                [availableCountries]=\\\"availableCountries$ | async\\\"\\r\\n                [customFields]=\\\"addressCustomFields\\\"\\r\\n            ></vdr-address-form>\\r\\n        </vdr-card>\\r\\n    </vdr-page-detail-sidebar>\\r\\n\\r\\n    <vdr-page-block>\\r\\n        <vdr-card [paddingX]=\\\"false\\\">\\r\\n            <vdr-data-table-2 id=\\\"modify-order\\\" class=\\\"order-table\\\" [items]=\\\"order.lines.concat(addedLines)\\\">\\r\\n                <!-- Here we define all the available columns -->\\r\\n                <vdr-dt2-column id=\\\"id\\\" [heading]=\\\"'common.id' | translate\\\" [hiddenByDefault]=\\\"true\\\">\\r\\n                    <ng-template let-line=\\\"item\\\">\\r\\n                        {{ line.id }}\\r\\n                    </ng-template>\\r\\n                </vdr-dt2-column>\\r\\n                <vdr-dt2-column\\r\\n                    id=\\\"created-at\\\"\\r\\n                    [heading]=\\\"'common.created-at' | translate\\\"\\r\\n                    [hiddenByDefault]=\\\"true\\\"\\r\\n                >\\r\\n                    <ng-template let-line=\\\"item\\\">\\r\\n                        {{ line.createdAt | localeDate : 'short' }}\\r\\n                    </ng-template>\\r\\n                </vdr-dt2-column>\\r\\n                <vdr-dt2-column\\r\\n                    id=\\\"updated-at\\\"\\r\\n                    [heading]=\\\"'common.updated-at' | translate\\\"\\r\\n                    [hiddenByDefault]=\\\"true\\\"\\r\\n                >\\r\\n                    <ng-template let-line=\\\"item\\\">\\r\\n                        {{ line.updatedAt | localeDate : 'short' }}\\r\\n                    </ng-template>\\r\\n                </vdr-dt2-column>\\r\\n                <vdr-dt2-column [heading]=\\\"'common.image' | translate\\\" id=\\\"image\\\">\\r\\n                    <ng-template let-line=\\\"item\\\">\\r\\n                        <div class=\\\"image-placeholder\\\">\\r\\n                            <img\\r\\n                                *ngIf=\\\"line.featuredAsset as asset; else imagePlaceholder\\\"\\r\\n                                [src]=\\\"asset | assetPreview : 'tiny'\\\"\\r\\n                            />\\r\\n                            <ng-template #imagePlaceholder>\\r\\n                                <div class=\\\"placeholder\\\">\\r\\n                                    <clr-icon shape=\\\"image\\\" size=\\\"48\\\"></clr-icon>\\r\\n                                </div>\\r\\n                            </ng-template>\\r\\n                        </div>\\r\\n                    </ng-template>\\r\\n                </vdr-dt2-column>\\r\\n                <vdr-dt2-column\\r\\n                    id=\\\"product-name\\\"\\r\\n                    [heading]=\\\"'order.product-name' | translate\\\"\\r\\n                    [optional]=\\\"false\\\"\\r\\n                >\\r\\n                    <ng-template let-line=\\\"item\\\">\\r\\n                        {{ line.productVariant.name }}\\r\\n                    </ng-template>\\r\\n                </vdr-dt2-column>\\r\\n                <vdr-dt2-column id=\\\"product-sku\\\" [heading]=\\\"'order.product-sku' | translate\\\">\\r\\n                    <ng-template let-line=\\\"item\\\">\\r\\n                        {{ line.productVariant.sku }}\\r\\n                    </ng-template>\\r\\n                </vdr-dt2-column>\\r\\n                <vdr-dt2-column id=\\\"unit-price\\\" [heading]=\\\"'order.unit-price' | translate\\\">\\r\\n                    <ng-template let-line=\\\"item\\\">\\r\\n                        <div class=\\\"text-center\\\">\\r\\n                            <div>{{ line.unitPriceWithTax | localeCurrency : order.currencyCode }}</div>\\r\\n                            <div class=\\\"net-price\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                                {{ line.unitPrice | localeCurrency : order.currencyCode }}\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </ng-template>\\r\\n                </vdr-dt2-column>\\r\\n                <vdr-dt2-column id=\\\"quantity\\\" [heading]=\\\"'order.quantity' | translate\\\" [optional]=\\\"false\\\">\\r\\n                    <ng-template let-line=\\\"item\\\">\\r\\n                        <input\\r\\n                            type=\\\"number\\\"\\r\\n                            class=\\\"draft-qty mr-1\\\"\\r\\n                            min=\\\"0\\\"\\r\\n                            [value]=\\\"getInitialLineQuantity(line.id)\\\"\\r\\n                            (input)=\\\"updateLineQuantity(line, $event.target.value)\\\"\\r\\n                        />\\r\\n                        <button\\r\\n                            class=\\\"button-small\\\"\\r\\n                            *ngIf=\\\"isAddedLine(line)\\\"\\r\\n                            (click)=\\\"removeAddedItem(line.id)\\\"\\r\\n                        >\\r\\n                            <clr-icon shape=\\\"trash\\\"></clr-icon>\\r\\n                        </button>\\r\\n                        <vdr-line-refunds [line]=\\\"line\\\" [payments]=\\\"order.payments\\\"></vdr-line-refunds>\\r\\n                        <vdr-line-fulfillment\\r\\n                            [line]=\\\"line\\\"\\r\\n                            [allOrderFulfillments]=\\\"order.fulfillments\\\"\\r\\n                            [orderState]=\\\"order.state\\\"\\r\\n                        ></vdr-line-fulfillment>\\r\\n                    </ng-template>\\r\\n                </vdr-dt2-column>\\r\\n                <vdr-dt2-column\\r\\n                    *ngFor=\\\"let customField of orderLineCustomFields\\\"\\r\\n                    [id]=\\\"customField.name\\\"\\r\\n                    [heading]=\\\"customField | customFieldLabel : (uiLanguage$ | async)\\\"\\r\\n                    [hiddenByDefault]=\\\"true\\\"\\r\\n                >\\r\\n                    <ng-template let-line=\\\"item\\\" let-index=\\\"index\\\">\\r\\n                        <vdr-custom-field-control\\r\\n                            [compact]=\\\"true\\\"\\r\\n                            [entityName]=\\\"'OrderLine'\\\"\\r\\n                            [customField]=\\\"customField\\\"\\r\\n                            [customFieldsFormGroup]=\\\"orderLineCustomFieldsFormArray.at(index)\\\"\\r\\n                        />\\r\\n                    </ng-template>\\r\\n                </vdr-dt2-column>\\r\\n            </vdr-data-table-2>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.add-item-to-order' | translate\\\">\\r\\n            <vdr-product-variant-selector class=\\\"mb-4\\\" (productSelected)=\\\"addItemSelectedVariant = $event\\\">\\r\\n            </vdr-product-variant-selector>\\r\\n            <div class=\\\"flex\\\">\\r\\n                <div>\\r\\n                    <div *ngIf=\\\"addItemSelectedVariant\\\" class=\\\"flex mb-4\\\">\\r\\n                        <img\\r\\n                            *ngIf=\\\"addItemSelectedVariant.productAsset as asset\\\"\\r\\n                            [src]=\\\"asset | assetPreview : 'tiny'\\\"\\r\\n                            class=\\\"mr-4 add-item-thumb\\\"\\r\\n                        />\\r\\n                        <div>\\r\\n                            <strong class=\\\"mr-4\\\">{{ addItemSelectedVariant.productVariantName }}</strong>\\r\\n                            <small>{{ addItemSelectedVariant.sku }}</small>\\r\\n                            <div>\\r\\n                                {{\\r\\n                                    getSelectedItemPrice(addItemSelectedVariant)\\r\\n                                        | localeCurrency : order.currencyCode\\r\\n                                }}\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-grid\\\" *ngIf=\\\"addItemSelectedVariant\\\">\\r\\n                        <ng-container *ngFor=\\\"let customField of orderLineCustomFields\\\">\\r\\n                            <vdr-custom-field-control\\r\\n                                [readonly]=\\\"!addItemSelectedVariant\\\"\\r\\n                                [customField]=\\\"customField\\\"\\r\\n                                [customFieldsFormGroup]=\\\"addItemCustomFieldsForm\\\"\\r\\n                                entityName=\\\"OrderLine\\\"\\r\\n                                [compact]=\\\"true\\\"\\r\\n                            ></vdr-custom-field-control>\\r\\n                        </ng-container>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"flex-spacer\\\"></div>\\r\\n                <div>\\r\\n                    <button\\r\\n                        *ngIf=\\\"addItemSelectedVariant\\\"\\r\\n                        class=\\\"btn btn-secondary\\\"\\r\\n                        [disabled]=\\\"!addItemSelectedVariant || addItemCustomFieldsForm.invalid\\\"\\r\\n                        (click)=\\\"addItemToOrder(addItemSelectedVariant)\\\"\\r\\n                    >\\r\\n                        {{ 'order.add-item-to-order' | translate }}\\r\\n                    </button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.shipping' | translate\\\">\\r\\n            <div *ngFor=\\\"let shippingLine of order.shippingLines\\\" class=\\\"flex items-center\\\">\\r\\n                <ng-container *ngIf=\\\"getShippingLineDetails(shippingLine) as details\\\">\\r\\n                    <div>{{ details.name }}:</div>\\r\\n                    <div class=\\\"mx-1\\\">\\r\\n                        {{ details.price | localeCurrency : order.currencyCode }}\\r\\n                    </div>\\r\\n                    <button class=\\\"button-small\\\" (click)=\\\"setShippingMethod(shippingLine.id)\\\">\\r\\n                        {{ 'order.set-shipping-method' | translate }}\\r\\n                    </button>\\r\\n                </ng-container>\\r\\n            </div>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.add-surcharge' | translate\\\">\\r\\n            <form [formGroup]=\\\"surchargeForm\\\" (submit)=\\\"addSurcharge(surchargeForm.value)\\\">\\r\\n                <div class=\\\"form-grid\\\">\\r\\n                    <vdr-form-field [label]=\\\"'common.description' | translate\\\" for=\\\"description\\\"\\r\\n                        ><input id=\\\"description\\\" type=\\\"text\\\" formControlName=\\\"description\\\"\\r\\n                    /></vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'order.product-sku' | translate\\\" for=\\\"sku\\\"\\r\\n                        ><input id=\\\"sku\\\" type=\\\"text\\\" formControlName=\\\"sku\\\"\\r\\n                    /></vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'common.price' | translate\\\" for=\\\"price\\\">\\r\\n                        <vdr-currency-input\\r\\n                            [currencyCode]=\\\"order.currencyCode\\\"\\r\\n                            id=\\\"price\\\"\\r\\n                            formControlName=\\\"price\\\"\\r\\n                        ></vdr-currency-input>\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field\\r\\n                        [label]=\\\"\\r\\n                            'catalog.price-includes-tax-at'\\r\\n                                | translate : { rate: surchargeForm.get('taxRate')?.value ?? 0 }\\r\\n                        \\\"\\r\\n                        for=\\\"priceIncludesTax\\\"\\r\\n                        ><input\\r\\n                            id=\\\"priceIncludesTax\\\"\\r\\n                            type=\\\"checkbox\\\"\\r\\n                            clrCheckbox\\r\\n                            formControlName=\\\"priceIncludesTax\\\"\\r\\n                    /></vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'order.tax-rate' | translate\\\" for=\\\"taxRate\\\">\\r\\n                        <vdr-affixed-input suffix=\\\"%\\\"\\r\\n                            ><input id=\\\"taxRate\\\" type=\\\"number\\\" min=\\\"0\\\" max=\\\"100\\\" formControlName=\\\"taxRate\\\"\\r\\n                        /></vdr-affixed-input>\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'order.tax-description' | translate\\\" for=\\\"taxDescription\\\"\\r\\n                        ><input id=\\\"taxDescription\\\" type=\\\"text\\\" formControlName=\\\"taxDescription\\\"\\r\\n                    /></vdr-form-field>\\r\\n                </div>\\r\\n                <button\\r\\n                    class=\\\"btn btn-secondary mt-2\\\"\\r\\n                    [disabled]=\\\"\\r\\n                        surchargeForm.invalid ||\\r\\n                        surchargeForm.pristine ||\\r\\n                        surchargeForm.get('price')?.value === 0 ||\\r\\n                        !surchargeForm.get('description')?.value\\r\\n                    \\\"\\r\\n                >\\r\\n                    {{ 'order.add-surcharge' | translate }}\\r\\n                </button>\\r\\n            </form>\\r\\n        </vdr-card>\\r\\n    </vdr-page-block>\\r\\n</vdr-page-detail-layout>\\r\\n\", styles: [\".order-table .is-cancelled td{text-decoration:line-through;background-color:var(--color-component-bg-200)}.order-table .sub-total td{border-top:1px dashed var(--color-component-border-200)}.order-table .total td{font-weight:700;border-top:1px dashed var(--color-component-border-200)}.order-table td.custom-fields-row{border-top-style:dashed;border-top-color:var(--color-grey-200)}.order-table img{border-radius:var(--border-radius-img)}.order-table .order-line-custom-fields{display:flex;flex-wrap:wrap}.order-table .order-line-custom-fields .custom-field{text-align:start;max-width:200px;overflow:hidden;text-overflow:ellipsis;margin-bottom:6px;margin-inline-end:18px}.order-table .draft-qty{max-width:48px}.order-table .order-line-custom-field{background-color:var(--color-component-bg-100)}.order-table .order-line-custom-field .custom-field-ellipsis{color:var(--color-text-300)}.order-table .net-price{font-size:11px;color:var(--color-text-300);line-height:14px}.order-table .promotions-label{text-decoration:underline dotted var(--color-text-200);font-size:11px;margin-top:6px;cursor:pointer;text-transform:lowercase}.order-table .thumb img{width:50px;height:50px}.order-table .shipping-method-name{font-size:var(--font-size-xs);margin-inline-end:2px}.order-table .order-placed-quantity{text-decoration:line-through;color:var(--color-text-300);margin-inline-end:2px}.order-table tr.modified td{background-color:var(--color-warning-100)}.order-table .order-line-custom-field{text-align:start}.add-item-thumb{max-width:50px}.no-modifications{color:var(--color-grey-400)}.summary-controls{border-top:1px solid var(--color-weight-200);margin-top:calc(var(--space-unit) * 2);padding-top:calc(var(--space-unit) * 1)}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i3.ClrLabel, selector: \"label\", inputs: [\"for\"] }, { kind: \"directive\", type: i3.ClrCheckbox, selector: \"[clrCheckbox],[clrToggle]\" }, { kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i2.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { kind: \"directive\", type: i2.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i2.NumberValueAccessor, selector: \"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]\" }, { kind: \"directive\", type: i2.CheckboxControlValueAccessor, selector: \"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]\" }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i2.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { kind: \"directive\", type: i2.MinValidator, selector: \"input[type=number][min][formControlName],input[type=number][min][formControl],input[type=number][min][ngModel]\", inputs: [\"min\"] }, { kind: \"directive\", type: i2.MaxValidator, selector: \"input[type=number][max][formControlName],input[type=number][max][formControl],input[type=number][max][ngModel]\", inputs: [\"max\"] }, { kind: \"directive\", type: i2.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { kind: \"directive\", type: i2.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i2.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { kind: \"component\", type: i1.ActionBarComponent, selector: \"vdr-action-bar\" }, { kind: \"component\", type: i1.ActionBarLeftComponent, selector: \"vdr-ab-left\", inputs: [\"grow\"] }, { kind: \"component\", type: i1.ActionBarRightComponent, selector: \"vdr-ab-right\", inputs: [\"grow\"] }, { kind: \"component\", type: i1.AffixedInputComponent, selector: \"vdr-affixed-input\", inputs: [\"prefix\", \"suffix\"] }, { kind: \"component\", type: i1.CurrencyInputComponent, selector: \"vdr-currency-input\", inputs: [\"disabled\", \"readonly\", \"value\", \"currencyCode\"], outputs: [\"valueChange\"] }, { kind: \"component\", type: i1.CustomFieldControlComponent, selector: \"vdr-custom-field-control\", inputs: [\"entityName\", \"customFieldsFormGroup\", \"customField\", \"compact\", \"showLabel\", \"readonly\"] }, { kind: \"component\", type: i1.FormFieldComponent, selector: \"vdr-form-field\", inputs: [\"label\", \"for\", \"tooltip\", \"errors\", \"readOnlyToggle\"], outputs: [\"readOnlyToggleChange\"] }, { kind: \"directive\", type: i1.FormFieldControlDirective, selector: \"input, textarea, select, vdr-currency-input\" }, { kind: \"component\", type: i1.FormattedAddressComponent, selector: \"vdr-formatted-address\", inputs: [\"address\"] }, { kind: \"component\", type: i1.ProductVariantSelectorComponent, selector: \"vdr-product-variant-selector\", outputs: [\"productSelected\"] }, { kind: \"component\", type: i1.AddressFormComponent, selector: \"vdr-address-form\", inputs: [\"customFields\", \"formGroup\", \"availableCountries\"] }, { kind: \"component\", type: i1.DataTable2Component, selector: \"vdr-data-table-2\", inputs: [\"id\", \"items\", \"itemsPerPage\", \"currentPage\", \"totalItems\", \"emptyStateLabel\", \"filters\", \"activeIndex\"], outputs: [\"pageChange\", \"itemsPerPageChange\"] }, { kind: \"component\", type: i1.DataTable2ColumnComponent, selector: \"vdr-dt2-column\", inputs: [\"id\", \"expand\", \"heading\", \"align\", \"sort\", \"optional\", \"hiddenByDefault\", \"orderable\"], exportAs: [\"row\"] }, { kind: \"component\", type: i1.PageBlockComponent, selector: \"vdr-page-block\" }, { kind: \"component\", type: i1.PageDetailLayoutComponent, selector: \"vdr-page-detail-layout\" }, { kind: \"component\", type: i1.PageDetailSidebarComponent, selector: \"vdr-page-detail-sidebar\" }, { kind: \"component\", type: i1.CardComponent, selector: \"vdr-card\", inputs: [\"title\", \"paddingX\"] }, { kind: \"directive\", type: i1.CardControlsDirective, selector: \"[vdrCardControls]\" }, { kind: \"component\", type: LineFulfillmentComponent, selector: \"vdr-line-fulfillment\", inputs: [\"line\", \"allOrderFulfillments\", \"orderState\"] }, { kind: \"component\", type: LineRefundsComponent, selector: \"vdr-line-refunds\", inputs: [\"line\", \"payments\"] }, { kind: \"component\", type: CouponCodeSelectorComponent, selector: \"vdr-coupon-code-selector\", inputs: [\"couponCodes\", \"control\"], outputs: [\"addCouponCode\", \"removeCouponCode\"] }, { kind: \"component\", type: OrderModificationSummaryComponent, selector: \"vdr-order-modification-summary\", inputs: [\"orderSnapshot\", \"modifyOrderInput\", \"addedLines\", \"shippingAddressForm\", \"billingAddressForm\", \"updatedShippingMethods\", \"couponCodesControl\"] }, { kind: \"pipe\", type: i2$1.AsyncPipe, name: \"async\" }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.CustomFieldLabelPipe, name: \"customFieldLabel\" }, { kind: \"pipe\", type: i1.AssetPreviewPipe, name: \"assetPreview\" }, { kind: \"pipe\", type: i1.LocaleDatePipe, name: \"localeDate\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderEditorComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-order-editor', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<vdr-page-block>\\r\\n    <vdr-action-bar *ngIf=\\\"entity$ | async as order\\\">\\r\\n        <vdr-ab-left>\\r\\n            <div class=\\\"flex clr-align-items-center\\\"></div>\\r\\n        </vdr-ab-left>\\r\\n\\r\\n        <vdr-ab-right>\\r\\n            <button class=\\\"btn btn-secondary\\\" (click)=\\\"transitionToPriorState(order)\\\">\\r\\n                {{ 'order.cancel-modification' | translate }}\\r\\n            </button>\\r\\n        </vdr-ab-right>\\r\\n    </vdr-action-bar>\\r\\n</vdr-page-block>\\r\\n\\r\\n<vdr-page-detail-layout *ngIf=\\\"entity as order\\\">\\r\\n    <vdr-page-detail-sidebar>\\r\\n        <vdr-card [title]=\\\"'order.modification-summary' | translate\\\">\\r\\n            <vdr-order-modification-summary\\r\\n                [orderSnapshot]=\\\"orderSnapshot\\\"\\r\\n                [modifyOrderInput]=\\\"modifyOrderInput\\\"\\r\\n                [addedLines]=\\\"addedLines\\\"\\r\\n                [shippingAddressForm]=\\\"shippingAddressForm\\\"\\r\\n                [billingAddressForm]=\\\"billingAddressForm\\\"\\r\\n                [couponCodesControl]=\\\"couponCodesControl\\\"\\r\\n                [updatedShippingMethods]=\\\"updatedShippingMethods\\\"\\r\\n            ></vdr-order-modification-summary>\\r\\n\\r\\n            <div *ngIf=\\\"!hasModifications()\\\" class=\\\"no-modifications\\\">\\r\\n                {{ 'order.no-modifications-made' | translate }}\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"summary-controls\\\">\\r\\n                <vdr-form-field [label]=\\\"'order.note' | translate\\\">\\r\\n                    <textarea\\r\\n                        [(ngModel)]=\\\"note\\\"\\r\\n                        name=\\\"note\\\"\\r\\n                        required\\r\\n                        [disabled]=\\\"!hasModifications()\\\"\\r\\n                    ></textarea>\\r\\n                </vdr-form-field>\\r\\n                <label class=\\\"flex items-center\\\">\\r\\n                    <input\\r\\n                        type=\\\"checkbox\\\"\\r\\n                        [(ngModel)]=\\\"recalculateShipping\\\"\\r\\n                        [disabled]=\\\"!hasModifications()\\\"\\r\\n                    />\\r\\n                    <div class=\\\"ml-1\\\">{{ 'order.modification-recalculate-shipping' | translate }}</div>\\r\\n                </label>\\r\\n                <button\\r\\n                    class=\\\"btn btn-primary mt-2\\\"\\r\\n                    [disabled]=\\\"!hasModifications()\\\"\\r\\n                    (click)=\\\"previewAndModify(order)\\\"\\r\\n                >\\r\\n                    {{ 'order.preview-changes' | translate }}\\r\\n                </button>\\r\\n            </div>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.set-coupon-codes' | translate\\\">\\r\\n            <vdr-coupon-code-selector [control]=\\\"couponCodesControl\\\"></vdr-coupon-code-selector>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.shipping-address' | translate\\\">\\r\\n            <ng-template vdrCardControls>\\r\\n                <button\\r\\n                    class=\\\"button-small\\\"\\r\\n                    [title]=\\\"'order.edit-shipping-address' | translate\\\"\\r\\n                    (click)=\\\"editingShippingAddress = !editingShippingAddress\\\"\\r\\n                >\\r\\n                    <clr-icon shape=\\\"edit\\\"></clr-icon>\\r\\n                </button>\\r\\n            </ng-template>\\r\\n            <vdr-formatted-address\\r\\n                *ngIf=\\\"!editingShippingAddress\\\"\\r\\n                [address]=\\\"shippingAddressForm.value\\\"\\r\\n            ></vdr-formatted-address>\\r\\n            <vdr-address-form\\r\\n                *ngIf=\\\"editingShippingAddress\\\"\\r\\n                [formGroup]=\\\"shippingAddressForm\\\"\\r\\n                [availableCountries]=\\\"availableCountries$ | async\\\"\\r\\n                [customFields]=\\\"addressCustomFields\\\"\\r\\n            ></vdr-address-form>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.billing-address' | translate\\\">\\r\\n            <ng-template vdrCardControls>\\r\\n                <button\\r\\n                    class=\\\"button-small\\\"\\r\\n                    [title]=\\\"'order.edit-billing-address' | translate\\\"\\r\\n                    (click)=\\\"editingBillingAddress = !editingBillingAddress\\\"\\r\\n                >\\r\\n                    <clr-icon shape=\\\"edit\\\"></clr-icon>\\r\\n                </button>\\r\\n            </ng-template>\\r\\n            <vdr-formatted-address\\r\\n                *ngIf=\\\"!editingBillingAddress\\\"\\r\\n                [address]=\\\"billingAddressForm.value\\\"\\r\\n            ></vdr-formatted-address>\\r\\n            <vdr-address-form\\r\\n                *ngIf=\\\"editingBillingAddress\\\"\\r\\n                [formGroup]=\\\"billingAddressForm\\\"\\r\\n                [availableCountries]=\\\"availableCountries$ | async\\\"\\r\\n                [customFields]=\\\"addressCustomFields\\\"\\r\\n            ></vdr-address-form>\\r\\n        </vdr-card>\\r\\n    </vdr-page-detail-sidebar>\\r\\n\\r\\n    <vdr-page-block>\\r\\n        <vdr-card [paddingX]=\\\"false\\\">\\r\\n            <vdr-data-table-2 id=\\\"modify-order\\\" class=\\\"order-table\\\" [items]=\\\"order.lines.concat(addedLines)\\\">\\r\\n                <!-- Here we define all the available columns -->\\r\\n                <vdr-dt2-column id=\\\"id\\\" [heading]=\\\"'common.id' | translate\\\" [hiddenByDefault]=\\\"true\\\">\\r\\n                    <ng-template let-line=\\\"item\\\">\\r\\n                        {{ line.id }}\\r\\n                    </ng-template>\\r\\n                </vdr-dt2-column>\\r\\n                <vdr-dt2-column\\r\\n                    id=\\\"created-at\\\"\\r\\n                    [heading]=\\\"'common.created-at' | translate\\\"\\r\\n                    [hiddenByDefault]=\\\"true\\\"\\r\\n                >\\r\\n                    <ng-template let-line=\\\"item\\\">\\r\\n                        {{ line.createdAt | localeDate : 'short' }}\\r\\n                    </ng-template>\\r\\n                </vdr-dt2-column>\\r\\n                <vdr-dt2-column\\r\\n                    id=\\\"updated-at\\\"\\r\\n                    [heading]=\\\"'common.updated-at' | translate\\\"\\r\\n                    [hiddenByDefault]=\\\"true\\\"\\r\\n                >\\r\\n                    <ng-template let-line=\\\"item\\\">\\r\\n                        {{ line.updatedAt | localeDate : 'short' }}\\r\\n                    </ng-template>\\r\\n                </vdr-dt2-column>\\r\\n                <vdr-dt2-column [heading]=\\\"'common.image' | translate\\\" id=\\\"image\\\">\\r\\n                    <ng-template let-line=\\\"item\\\">\\r\\n                        <div class=\\\"image-placeholder\\\">\\r\\n                            <img\\r\\n                                *ngIf=\\\"line.featuredAsset as asset; else imagePlaceholder\\\"\\r\\n                                [src]=\\\"asset | assetPreview : 'tiny'\\\"\\r\\n                            />\\r\\n                            <ng-template #imagePlaceholder>\\r\\n                                <div class=\\\"placeholder\\\">\\r\\n                                    <clr-icon shape=\\\"image\\\" size=\\\"48\\\"></clr-icon>\\r\\n                                </div>\\r\\n                            </ng-template>\\r\\n                        </div>\\r\\n                    </ng-template>\\r\\n                </vdr-dt2-column>\\r\\n                <vdr-dt2-column\\r\\n                    id=\\\"product-name\\\"\\r\\n                    [heading]=\\\"'order.product-name' | translate\\\"\\r\\n                    [optional]=\\\"false\\\"\\r\\n                >\\r\\n                    <ng-template let-line=\\\"item\\\">\\r\\n                        {{ line.productVariant.name }}\\r\\n                    </ng-template>\\r\\n                </vdr-dt2-column>\\r\\n                <vdr-dt2-column id=\\\"product-sku\\\" [heading]=\\\"'order.product-sku' | translate\\\">\\r\\n                    <ng-template let-line=\\\"item\\\">\\r\\n                        {{ line.productVariant.sku }}\\r\\n                    </ng-template>\\r\\n                </vdr-dt2-column>\\r\\n                <vdr-dt2-column id=\\\"unit-price\\\" [heading]=\\\"'order.unit-price' | translate\\\">\\r\\n                    <ng-template let-line=\\\"item\\\">\\r\\n                        <div class=\\\"text-center\\\">\\r\\n                            <div>{{ line.unitPriceWithTax | localeCurrency : order.currencyCode }}</div>\\r\\n                            <div class=\\\"net-price\\\" [title]=\\\"'order.net-price' | translate\\\">\\r\\n                                {{ line.unitPrice | localeCurrency : order.currencyCode }}\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </ng-template>\\r\\n                </vdr-dt2-column>\\r\\n                <vdr-dt2-column id=\\\"quantity\\\" [heading]=\\\"'order.quantity' | translate\\\" [optional]=\\\"false\\\">\\r\\n                    <ng-template let-line=\\\"item\\\">\\r\\n                        <input\\r\\n                            type=\\\"number\\\"\\r\\n                            class=\\\"draft-qty mr-1\\\"\\r\\n                            min=\\\"0\\\"\\r\\n                            [value]=\\\"getInitialLineQuantity(line.id)\\\"\\r\\n                            (input)=\\\"updateLineQuantity(line, $event.target.value)\\\"\\r\\n                        />\\r\\n                        <button\\r\\n                            class=\\\"button-small\\\"\\r\\n                            *ngIf=\\\"isAddedLine(line)\\\"\\r\\n                            (click)=\\\"removeAddedItem(line.id)\\\"\\r\\n                        >\\r\\n                            <clr-icon shape=\\\"trash\\\"></clr-icon>\\r\\n                        </button>\\r\\n                        <vdr-line-refunds [line]=\\\"line\\\" [payments]=\\\"order.payments\\\"></vdr-line-refunds>\\r\\n                        <vdr-line-fulfillment\\r\\n                            [line]=\\\"line\\\"\\r\\n                            [allOrderFulfillments]=\\\"order.fulfillments\\\"\\r\\n                            [orderState]=\\\"order.state\\\"\\r\\n                        ></vdr-line-fulfillment>\\r\\n                    </ng-template>\\r\\n                </vdr-dt2-column>\\r\\n                <vdr-dt2-column\\r\\n                    *ngFor=\\\"let customField of orderLineCustomFields\\\"\\r\\n                    [id]=\\\"customField.name\\\"\\r\\n                    [heading]=\\\"customField | customFieldLabel : (uiLanguage$ | async)\\\"\\r\\n                    [hiddenByDefault]=\\\"true\\\"\\r\\n                >\\r\\n                    <ng-template let-line=\\\"item\\\" let-index=\\\"index\\\">\\r\\n                        <vdr-custom-field-control\\r\\n                            [compact]=\\\"true\\\"\\r\\n                            [entityName]=\\\"'OrderLine'\\\"\\r\\n                            [customField]=\\\"customField\\\"\\r\\n                            [customFieldsFormGroup]=\\\"orderLineCustomFieldsFormArray.at(index)\\\"\\r\\n                        />\\r\\n                    </ng-template>\\r\\n                </vdr-dt2-column>\\r\\n            </vdr-data-table-2>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.add-item-to-order' | translate\\\">\\r\\n            <vdr-product-variant-selector class=\\\"mb-4\\\" (productSelected)=\\\"addItemSelectedVariant = $event\\\">\\r\\n            </vdr-product-variant-selector>\\r\\n            <div class=\\\"flex\\\">\\r\\n                <div>\\r\\n                    <div *ngIf=\\\"addItemSelectedVariant\\\" class=\\\"flex mb-4\\\">\\r\\n                        <img\\r\\n                            *ngIf=\\\"addItemSelectedVariant.productAsset as asset\\\"\\r\\n                            [src]=\\\"asset | assetPreview : 'tiny'\\\"\\r\\n                            class=\\\"mr-4 add-item-thumb\\\"\\r\\n                        />\\r\\n                        <div>\\r\\n                            <strong class=\\\"mr-4\\\">{{ addItemSelectedVariant.productVariantName }}</strong>\\r\\n                            <small>{{ addItemSelectedVariant.sku }}</small>\\r\\n                            <div>\\r\\n                                {{\\r\\n                                    getSelectedItemPrice(addItemSelectedVariant)\\r\\n                                        | localeCurrency : order.currencyCode\\r\\n                                }}\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-grid\\\" *ngIf=\\\"addItemSelectedVariant\\\">\\r\\n                        <ng-container *ngFor=\\\"let customField of orderLineCustomFields\\\">\\r\\n                            <vdr-custom-field-control\\r\\n                                [readonly]=\\\"!addItemSelectedVariant\\\"\\r\\n                                [customField]=\\\"customField\\\"\\r\\n                                [customFieldsFormGroup]=\\\"addItemCustomFieldsForm\\\"\\r\\n                                entityName=\\\"OrderLine\\\"\\r\\n                                [compact]=\\\"true\\\"\\r\\n                            ></vdr-custom-field-control>\\r\\n                        </ng-container>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"flex-spacer\\\"></div>\\r\\n                <div>\\r\\n                    <button\\r\\n                        *ngIf=\\\"addItemSelectedVariant\\\"\\r\\n                        class=\\\"btn btn-secondary\\\"\\r\\n                        [disabled]=\\\"!addItemSelectedVariant || addItemCustomFieldsForm.invalid\\\"\\r\\n                        (click)=\\\"addItemToOrder(addItemSelectedVariant)\\\"\\r\\n                    >\\r\\n                        {{ 'order.add-item-to-order' | translate }}\\r\\n                    </button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.shipping' | translate\\\">\\r\\n            <div *ngFor=\\\"let shippingLine of order.shippingLines\\\" class=\\\"flex items-center\\\">\\r\\n                <ng-container *ngIf=\\\"getShippingLineDetails(shippingLine) as details\\\">\\r\\n                    <div>{{ details.name }}:</div>\\r\\n                    <div class=\\\"mx-1\\\">\\r\\n                        {{ details.price | localeCurrency : order.currencyCode }}\\r\\n                    </div>\\r\\n                    <button class=\\\"button-small\\\" (click)=\\\"setShippingMethod(shippingLine.id)\\\">\\r\\n                        {{ 'order.set-shipping-method' | translate }}\\r\\n                    </button>\\r\\n                </ng-container>\\r\\n            </div>\\r\\n        </vdr-card>\\r\\n        <vdr-card [title]=\\\"'order.add-surcharge' | translate\\\">\\r\\n            <form [formGroup]=\\\"surchargeForm\\\" (submit)=\\\"addSurcharge(surchargeForm.value)\\\">\\r\\n                <div class=\\\"form-grid\\\">\\r\\n                    <vdr-form-field [label]=\\\"'common.description' | translate\\\" for=\\\"description\\\"\\r\\n                        ><input id=\\\"description\\\" type=\\\"text\\\" formControlName=\\\"description\\\"\\r\\n                    /></vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'order.product-sku' | translate\\\" for=\\\"sku\\\"\\r\\n                        ><input id=\\\"sku\\\" type=\\\"text\\\" formControlName=\\\"sku\\\"\\r\\n                    /></vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'common.price' | translate\\\" for=\\\"price\\\">\\r\\n                        <vdr-currency-input\\r\\n                            [currencyCode]=\\\"order.currencyCode\\\"\\r\\n                            id=\\\"price\\\"\\r\\n                            formControlName=\\\"price\\\"\\r\\n                        ></vdr-currency-input>\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field\\r\\n                        [label]=\\\"\\r\\n                            'catalog.price-includes-tax-at'\\r\\n                                | translate : { rate: surchargeForm.get('taxRate')?.value ?? 0 }\\r\\n                        \\\"\\r\\n                        for=\\\"priceIncludesTax\\\"\\r\\n                        ><input\\r\\n                            id=\\\"priceIncludesTax\\\"\\r\\n                            type=\\\"checkbox\\\"\\r\\n                            clrCheckbox\\r\\n                            formControlName=\\\"priceIncludesTax\\\"\\r\\n                    /></vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'order.tax-rate' | translate\\\" for=\\\"taxRate\\\">\\r\\n                        <vdr-affixed-input suffix=\\\"%\\\"\\r\\n                            ><input id=\\\"taxRate\\\" type=\\\"number\\\" min=\\\"0\\\" max=\\\"100\\\" formControlName=\\\"taxRate\\\"\\r\\n                        /></vdr-affixed-input>\\r\\n                    </vdr-form-field>\\r\\n                    <vdr-form-field [label]=\\\"'order.tax-description' | translate\\\" for=\\\"taxDescription\\\"\\r\\n                        ><input id=\\\"taxDescription\\\" type=\\\"text\\\" formControlName=\\\"taxDescription\\\"\\r\\n                    /></vdr-form-field>\\r\\n                </div>\\r\\n                <button\\r\\n                    class=\\\"btn btn-secondary mt-2\\\"\\r\\n                    [disabled]=\\\"\\r\\n                        surchargeForm.invalid ||\\r\\n                        surchargeForm.pristine ||\\r\\n                        surchargeForm.get('price')?.value === 0 ||\\r\\n                        !surchargeForm.get('description')?.value\\r\\n                    \\\"\\r\\n                >\\r\\n                    {{ 'order.add-surcharge' | translate }}\\r\\n                </button>\\r\\n            </form>\\r\\n        </vdr-card>\\r\\n    </vdr-page-block>\\r\\n</vdr-page-detail-layout>\\r\\n\", styles: [\".order-table .is-cancelled td{text-decoration:line-through;background-color:var(--color-component-bg-200)}.order-table .sub-total td{border-top:1px dashed var(--color-component-border-200)}.order-table .total td{font-weight:700;border-top:1px dashed var(--color-component-border-200)}.order-table td.custom-fields-row{border-top-style:dashed;border-top-color:var(--color-grey-200)}.order-table img{border-radius:var(--border-radius-img)}.order-table .order-line-custom-fields{display:flex;flex-wrap:wrap}.order-table .order-line-custom-fields .custom-field{text-align:start;max-width:200px;overflow:hidden;text-overflow:ellipsis;margin-bottom:6px;margin-inline-end:18px}.order-table .draft-qty{max-width:48px}.order-table .order-line-custom-field{background-color:var(--color-component-bg-100)}.order-table .order-line-custom-field .custom-field-ellipsis{color:var(--color-text-300)}.order-table .net-price{font-size:11px;color:var(--color-text-300);line-height:14px}.order-table .promotions-label{text-decoration:underline dotted var(--color-text-200);font-size:11px;margin-top:6px;cursor:pointer;text-transform:lowercase}.order-table .thumb img{width:50px;height:50px}.order-table .shipping-method-name{font-size:var(--font-size-xs);margin-inline-end:2px}.order-table .order-placed-quantity{text-decoration:line-through;color:var(--color-text-300);margin-inline-end:2px}.order-table tr.modified td{background-color:var(--color-warning-100)}.order-table .order-line-custom-field{text-align:start}.add-item-thumb{max-width:50px}.no-modifications{color:var(--color-grey-400)}.summary-controls{border-top:1px solid var(--color-weight-200);margin-top:calc(var(--space-unit) * 2);padding-top:calc(var(--space-unit) * 1)}\\n\"] }]\n        }], ctorParameters: () => [{ type: i1.DataService }, { type: i1.NotificationService }, { type: i1.ModalService }, { type: OrderTransitionService }, { type: i0.ChangeDetectorRef }] });\n\nclass OrderListComponent extends TypedBaseListComponent {\n    constructor(serverConfigService, channelService) {\n        super();\n        this.serverConfigService = serverConfigService;\n        this.channelService = channelService;\n        this.orderStates = this.serverConfigService.getOrderProcessStates().map(item => item.name);\n        this.OrderType = OrderType;\n        this.customFields = this.getCustomFieldConfig('Order');\n        this.filters = this.createFilterCollection()\n            .addIdFilter()\n            .addDateFilters()\n            .addFilter({\n            name: 'active',\n            type: { kind: 'boolean' },\n            label: marker('order.filter-is-active'),\n            filterField: 'active',\n        })\n            .addFilter({\n            name: 'totalWithTax',\n            type: { kind: 'number', inputType: 'currency', currencyCode: 'USD' },\n            label: marker('order.total'),\n            filterField: 'totalWithTax',\n        })\n            .addFilter({\n            name: 'state',\n            type: {\n                kind: 'select',\n                options: this.orderStates.map(s => ({ value: s, label: getOrderStateTranslationToken(s) })),\n            },\n            label: marker('order.state'),\n            filterField: 'state',\n        })\n            .addFilter({\n            name: 'type',\n            type: {\n                kind: 'select',\n                options: [\n                    { value: OrderType.Regular, label: marker('order.order-type-regular') },\n                    { value: OrderType.Aggregate, label: marker('order.order-type-aggregate') },\n                    { value: OrderType.Seller, label: marker('order.order-type-seller') },\n                ],\n            },\n            label: marker('order.order-type'),\n            filterField: 'type',\n        })\n            .addFilter({\n            name: 'orderPlacedAt',\n            type: { kind: 'dateRange' },\n            label: marker('order.placed-at'),\n            filterField: 'orderPlacedAt',\n        })\n            .addFilter({\n            name: 'customerLastName',\n            type: { kind: 'text' },\n            label: marker('customer.last-name'),\n            filterField: 'customerLastName',\n        })\n            .addFilter({\n            name: 'transactionId',\n            type: { kind: 'text' },\n            label: marker('order.transaction-id'),\n            filterField: 'transactionId',\n        })\n            .addCustomFieldFilters(this.customFields)\n            .connectToRoute(this.route);\n        this.sorts = this.createSortCollection()\n            .defaultSort('updatedAt', 'DESC')\n            .addSort({ name: 'id' })\n            .addSort({ name: 'createdAt' })\n            .addSort({ name: 'updatedAt' })\n            .addSort({ name: 'orderPlacedAt' })\n            .addSort({ name: 'customerLastName' })\n            .addSort({ name: 'state' })\n            .addSort({ name: 'totalWithTax' })\n            .addCustomFieldSorts(this.customFields)\n            .connectToRoute(this.route);\n        this.canCreateDraftOrder = false;\n        this.activeChannelIsDefaultChannel = false;\n        super.configure({\n            document: GetOrderListDocument,\n            getItems: result => result.orders,\n            setVariables: (skip, take) => this.createQueryOptions(skip, take, this.searchTermControl.value),\n            refreshListOnChanges: [this.filters.valueChanges, this.sorts.valueChanges],\n        });\n        this.canCreateDraftOrder = !!this.serverConfigService\n            .getOrderProcessStates()\n            .find(state => state.name === 'Created')\n            ?.to.includes('Draft');\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        const isDefaultChannel$ = this.channelService.defaultChannelIsActive$.pipe(tap(isDefault => (this.activeChannelIsDefaultChannel = isDefault)));\n        super.refreshListOnChanges(this.filters.valueChanges, this.sorts.valueChanges, isDefaultChannel$);\n    }\n    createQueryOptions(\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    skip, take, searchTerm) {\n        let filterInput = this.filters.createFilterInput();\n        if (this.activeChannelIsDefaultChannel) {\n            filterInput = {\n                ...(filterInput ?? {}),\n            };\n        }\n        if (searchTerm) {\n            filterInput = {\n                code: {\n                    contains: searchTerm,\n                },\n                customerLastName: {\n                    contains: searchTerm,\n                },\n                transactionId: {\n                    contains: searchTerm,\n                },\n            };\n        }\n        return {\n            options: {\n                skip,\n                take,\n                filter: {\n                    ...(filterInput ?? {}),\n                },\n                filterOperator: searchTerm ? LogicalOperator.OR : LogicalOperator.AND,\n                sort: this.sorts.createSortInput(),\n            },\n        };\n    }\n    getShippingNames(order) {\n        if (order.shippingLines.length) {\n            return order.shippingLines.map(shippingLine => shippingLine.shippingMethod.name).join(', ');\n        }\n        else {\n            return '';\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderListComponent, deps: [{ token: i1.ServerConfigService }, { token: i1.ChannelService }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: OrderListComponent, selector: \"vdr-order-list\", usesInheritance: true, ngImport: i0, template: \"<vdr-page-block>\\r\\n    <vdr-action-bar>\\r\\n        <vdr-ab-right>\\r\\n            <vdr-action-bar-items locationId=\\\"order-list\\\" />\\r\\n            <ng-container *ngIf=\\\"canCreateDraftOrder\\\">\\r\\n                <a class=\\\"btn\\\" *vdrIfPermissions=\\\"['CreateOrder']\\\" [routerLink]=\\\"['./draft/create']\\\">\\r\\n                    <clr-icon shape=\\\"plus\\\"></clr-icon>\\r\\n                    {{ 'catalog.create-draft-order' | translate }}\\r\\n                </a>\\r\\n            </ng-container>\\r\\n            <vdr-action-bar-dropdown-menu locationId=\\\"order-list\\\" />\\r\\n        </vdr-ab-right>\\r\\n    </vdr-action-bar>\\r\\n</vdr-page-block>\\r\\n<vdr-data-table-2\\r\\n    class=\\\"mt-2\\\"\\r\\n    id=\\\"order-list\\\"\\r\\n    [items]=\\\"items$ | async\\\"\\r\\n    [itemsPerPage]=\\\"itemsPerPage$ | async\\\"\\r\\n    [totalItems]=\\\"totalItems$ | async\\\"\\r\\n    [currentPage]=\\\"currentPage$ | async\\\"\\r\\n    [filters]=\\\"filters\\\"\\r\\n    (pageChange)=\\\"setPageNumber($event)\\\"\\r\\n    (itemsPerPageChange)=\\\"setItemsPerPage($event)\\\"\\r\\n>\\r\\n    <vdr-bulk-action-menu\\r\\n        locationId=\\\"order-list\\\"\\r\\n        [hostComponent]=\\\"this\\\"\\r\\n        [selectionManager]=\\\"selectionManager\\\"\\r\\n    ></vdr-bulk-action-menu>\\r\\n    <vdr-dt2-search\\r\\n        [searchTermControl]=\\\"searchTermControl\\\"\\r\\n        [searchTermPlaceholder]=\\\"'order.search-by-order-filters' | translate\\\"\\r\\n    />\\r\\n    <vdr-dt2-column [heading]=\\\"'common.id' | translate\\\" id=\\\"id\\\" [hiddenByDefault]=\\\"true\\\" [sort]=\\\"sorts.get('id')\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            {{ order.id }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'common.created-at' | translate\\\" id=\\\"created-at\\\" [hiddenByDefault]=\\\"true\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            {{ order.createdAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'common.code' | translate\\\" id=\\\"code\\\" [optional]=\\\"false\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            <a class=\\\"button-ghost\\\" [routerLink]=\\\"order.state === 'Draft' ? ['./draft', order.id] : ['./', order.id]\\\"\\r\\n                ><span>{{ order.code }}</span>\\r\\n                <clr-icon shape=\\\"arrow right\\\"></clr-icon>\\r\\n            </a>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.customer' | translate\\\" id=\\\"customer\\\" [sort]=\\\"sorts.get('customerLastName')\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            <vdr-customer-label\\r\\n                [customer]=\\\"order.customer\\\"\\r\\n                (click)=\\\"$event.stopPropagation()\\\"\\r\\n            ></vdr-customer-label>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.order-type' | translate\\\" id=\\\"order-type\\\" [hiddenByDefault]=\\\"true\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            <vdr-chip *ngIf=\\\"order.type === OrderType.Regular\\\">{{ 'order.order-type-regular' | translate }}</vdr-chip>\\r\\n            <vdr-chip *ngIf=\\\"order.type === OrderType.Aggregate\\\">{{ 'order.order-type-aggregate' | translate }}</vdr-chip>\\r\\n            <vdr-chip *ngIf=\\\"order.type === OrderType.Seller\\\">{{ 'order.order-type-seller' | translate }}</vdr-chip>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.state' | translate\\\" id=\\\"state\\\" [sort]=\\\"sorts.get('state')\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            <vdr-order-state-label [state]=\\\"order.state\\\"></vdr-order-state-label>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.total' | translate\\\" id=\\\"total\\\" [sort]=\\\"sorts.get('totalWithTax')\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            {{ order.totalWithTax | localeCurrency : order.currencyCode }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'common.updated-at' | translate\\\" id=\\\"updated-at\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            {{ order.updatedAt | timeAgo }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.placed-at' | translate\\\" id=\\\"placed-at\\\" [sort]=\\\"sorts.get('orderPlacedAt')\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            {{ order.orderPlacedAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.shipping' | translate\\\" id=\\\"shipping\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            {{ getShippingNames(order) }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-custom-field-column\\r\\n        *ngFor=\\\"let customField of customFields\\\"\\r\\n        [customField]=\\\"customField\\\"\\r\\n        [sorts]=\\\"sorts\\\"\\r\\n    />\\r\\n</vdr-data-table-2>\\r\\n\", styles: [\".search-form{display:flex;flex-direction:column;align-items:baseline;width:100%;max-width:100vw;margin-bottom:6px}.filter-presets{max-width:90vw;overflow-x:auto}.search-input{margin-top:6px;min-width:300px}.custom-filters{overflow:hidden;max-height:0;padding-bottom:6px}.custom-filters.expanded{max-height:initial}.custom-filters>form{display:flex;flex-direction:column;align-items:center}.custom-filters>form>div{width:100%}ng-select{flex:1;min-width:200px;height:36px}ng-select ::ng-deep .ng-select-container{height:36px}\\n\"], dependencies: [{ kind: \"directive\", type: i3.ClrIconCustomTag, selector: \"clr-icon\" }, { kind: \"directive\", type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1$1.RouterLink, selector: \"[routerLink]\", inputs: [\"target\", \"queryParams\", \"fragment\", \"queryParamsHandling\", \"state\", \"info\", \"relativeTo\", \"preserveFragment\", \"skipLocationChange\", \"replaceUrl\", \"routerLink\"] }, { kind: \"component\", type: i1.ActionBarComponent, selector: \"vdr-action-bar\" }, { kind: \"component\", type: i1.ActionBarRightComponent, selector: \"vdr-ab-right\", inputs: [\"grow\"] }, { kind: \"component\", type: i1.ActionBarDropdownMenuComponent, selector: \"vdr-action-bar-dropdown-menu\", inputs: [\"alwaysShow\"] }, { kind: \"component\", type: i1.ChipComponent, selector: \"vdr-chip\", inputs: [\"icon\", \"invert\", \"colorFrom\", \"colorType\"], outputs: [\"iconClick\"] }, { kind: \"component\", type: i1.CustomerLabelComponent, selector: \"vdr-customer-label\", inputs: [\"customer\"] }, { kind: \"component\", type: i1.OrderStateLabelComponent, selector: \"vdr-order-state-label\", inputs: [\"state\"] }, { kind: \"directive\", type: i1.IfPermissionsDirective, selector: \"[vdrIfPermissions]\", inputs: [\"vdrIfPermissions\", \"vdrIfPermissionsElse\"] }, { kind: \"component\", type: i1.ActionBarItemsComponent, selector: \"vdr-action-bar-items\" }, { kind: \"component\", type: i1.BulkActionMenuComponent, selector: \"vdr-bulk-action-menu\", inputs: [\"locationId\", \"selectionManager\", \"hostComponent\"] }, { kind: \"component\", type: i1.DataTable2Component, selector: \"vdr-data-table-2\", inputs: [\"id\", \"items\", \"itemsPerPage\", \"currentPage\", \"totalItems\", \"emptyStateLabel\", \"filters\", \"activeIndex\"], outputs: [\"pageChange\", \"itemsPerPageChange\"] }, { kind: \"component\", type: i1.DataTable2ColumnComponent, selector: \"vdr-dt2-column\", inputs: [\"id\", \"expand\", \"heading\", \"align\", \"sort\", \"optional\", \"hiddenByDefault\", \"orderable\"], exportAs: [\"row\"] }, { kind: \"component\", type: i1.DataTable2SearchComponent, selector: \"vdr-dt2-search\", inputs: [\"searchTermControl\", \"searchTermPlaceholder\"] }, { kind: \"component\", type: i1.DataTableCustomFieldColumnComponent, selector: \"vdr-dt2-custom-field-column\", inputs: [\"customField\", \"sorts\"], exportAs: [\"row\"] }, { kind: \"component\", type: i1.PageBlockComponent, selector: \"vdr-page-block\" }, { kind: \"pipe\", type: i2$1.AsyncPipe, name: \"async\" }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.TimeAgoPipe, name: \"timeAgo\" }, { kind: \"pipe\", type: i1.LocaleDatePipe, name: \"localeDate\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderListComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-order-list', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<vdr-page-block>\\r\\n    <vdr-action-bar>\\r\\n        <vdr-ab-right>\\r\\n            <vdr-action-bar-items locationId=\\\"order-list\\\" />\\r\\n            <ng-container *ngIf=\\\"canCreateDraftOrder\\\">\\r\\n                <a class=\\\"btn\\\" *vdrIfPermissions=\\\"['CreateOrder']\\\" [routerLink]=\\\"['./draft/create']\\\">\\r\\n                    <clr-icon shape=\\\"plus\\\"></clr-icon>\\r\\n                    {{ 'catalog.create-draft-order' | translate }}\\r\\n                </a>\\r\\n            </ng-container>\\r\\n            <vdr-action-bar-dropdown-menu locationId=\\\"order-list\\\" />\\r\\n        </vdr-ab-right>\\r\\n    </vdr-action-bar>\\r\\n</vdr-page-block>\\r\\n<vdr-data-table-2\\r\\n    class=\\\"mt-2\\\"\\r\\n    id=\\\"order-list\\\"\\r\\n    [items]=\\\"items$ | async\\\"\\r\\n    [itemsPerPage]=\\\"itemsPerPage$ | async\\\"\\r\\n    [totalItems]=\\\"totalItems$ | async\\\"\\r\\n    [currentPage]=\\\"currentPage$ | async\\\"\\r\\n    [filters]=\\\"filters\\\"\\r\\n    (pageChange)=\\\"setPageNumber($event)\\\"\\r\\n    (itemsPerPageChange)=\\\"setItemsPerPage($event)\\\"\\r\\n>\\r\\n    <vdr-bulk-action-menu\\r\\n        locationId=\\\"order-list\\\"\\r\\n        [hostComponent]=\\\"this\\\"\\r\\n        [selectionManager]=\\\"selectionManager\\\"\\r\\n    ></vdr-bulk-action-menu>\\r\\n    <vdr-dt2-search\\r\\n        [searchTermControl]=\\\"searchTermControl\\\"\\r\\n        [searchTermPlaceholder]=\\\"'order.search-by-order-filters' | translate\\\"\\r\\n    />\\r\\n    <vdr-dt2-column [heading]=\\\"'common.id' | translate\\\" id=\\\"id\\\" [hiddenByDefault]=\\\"true\\\" [sort]=\\\"sorts.get('id')\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            {{ order.id }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'common.created-at' | translate\\\" id=\\\"created-at\\\" [hiddenByDefault]=\\\"true\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            {{ order.createdAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'common.code' | translate\\\" id=\\\"code\\\" [optional]=\\\"false\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            <a class=\\\"button-ghost\\\" [routerLink]=\\\"order.state === 'Draft' ? ['./draft', order.id] : ['./', order.id]\\\"\\r\\n                ><span>{{ order.code }}</span>\\r\\n                <clr-icon shape=\\\"arrow right\\\"></clr-icon>\\r\\n            </a>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.customer' | translate\\\" id=\\\"customer\\\" [sort]=\\\"sorts.get('customerLastName')\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            <vdr-customer-label\\r\\n                [customer]=\\\"order.customer\\\"\\r\\n                (click)=\\\"$event.stopPropagation()\\\"\\r\\n            ></vdr-customer-label>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.order-type' | translate\\\" id=\\\"order-type\\\" [hiddenByDefault]=\\\"true\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            <vdr-chip *ngIf=\\\"order.type === OrderType.Regular\\\">{{ 'order.order-type-regular' | translate }}</vdr-chip>\\r\\n            <vdr-chip *ngIf=\\\"order.type === OrderType.Aggregate\\\">{{ 'order.order-type-aggregate' | translate }}</vdr-chip>\\r\\n            <vdr-chip *ngIf=\\\"order.type === OrderType.Seller\\\">{{ 'order.order-type-seller' | translate }}</vdr-chip>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.state' | translate\\\" id=\\\"state\\\" [sort]=\\\"sorts.get('state')\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            <vdr-order-state-label [state]=\\\"order.state\\\"></vdr-order-state-label>\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.total' | translate\\\" id=\\\"total\\\" [sort]=\\\"sorts.get('totalWithTax')\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            {{ order.totalWithTax | localeCurrency : order.currencyCode }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'common.updated-at' | translate\\\" id=\\\"updated-at\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            {{ order.updatedAt | timeAgo }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.placed-at' | translate\\\" id=\\\"placed-at\\\" [sort]=\\\"sorts.get('orderPlacedAt')\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            {{ order.orderPlacedAt | localeDate : 'short' }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-column [heading]=\\\"'order.shipping' | translate\\\" id=\\\"shipping\\\">\\r\\n        <ng-template let-order=\\\"item\\\">\\r\\n            {{ getShippingNames(order) }}\\r\\n        </ng-template>\\r\\n    </vdr-dt2-column>\\r\\n    <vdr-dt2-custom-field-column\\r\\n        *ngFor=\\\"let customField of customFields\\\"\\r\\n        [customField]=\\\"customField\\\"\\r\\n        [sorts]=\\\"sorts\\\"\\r\\n    />\\r\\n</vdr-data-table-2>\\r\\n\", styles: [\".search-form{display:flex;flex-direction:column;align-items:baseline;width:100%;max-width:100vw;margin-bottom:6px}.filter-presets{max-width:90vw;overflow-x:auto}.search-input{margin-top:6px;min-width:300px}.custom-filters{overflow:hidden;max-height:0;padding-bottom:6px}.custom-filters.expanded{max-height:initial}.custom-filters>form{display:flex;flex-direction:column;align-items:center}.custom-filters>form>div{width:100%}ng-select{flex:1;min-width:200px;height:36px}ng-select ::ng-deep .ng-select-container{height:36px}\\n\"] }]\n        }], ctorParameters: () => [{ type: i1.ServerConfigService }, { type: i1.ChannelService }] });\n\nclass RefundDetailComponent {\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: RefundDetailComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"17.2.4\", type: RefundDetailComponent, selector: \"vdr-refund-detail\", inputs: { refund: \"refund\", currencyCode: \"currencyCode\" }, ngImport: i0, template: \"<vdr-labeled-data [label]=\\\"'order.amount' | translate\\\">\\r\\n    {{ refund.total | localeCurrency: currencyCode }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data *ngIf=\\\"refund.transactionId\\\" [label]=\\\"'order.transaction-id' | translate\\\">\\r\\n    {{ refund.transactionId }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data [label]=\\\"'order.payment-metadata' | translate\\\">\\r\\n    <vdr-object-tree [value]=\\\"refund.metadata\\\"></vdr-object-tree>\\r\\n</vdr-labeled-data>\\r\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"component\", type: i1.LabeledDataComponent, selector: \"vdr-labeled-data\", inputs: [\"label\"] }, { kind: \"component\", type: i1.ObjectTreeComponent, selector: \"vdr-object-tree\", inputs: [\"value\", \"isArrayItem\"] }, { kind: \"pipe\", type: i4.TranslatePipe, name: \"translate\" }, { kind: \"pipe\", type: i1.LocaleCurrencyPipe, name: \"localeCurrency\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: RefundDetailComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'vdr-refund-detail', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<vdr-labeled-data [label]=\\\"'order.amount' | translate\\\">\\r\\n    {{ refund.total | localeCurrency: currencyCode }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data *ngIf=\\\"refund.transactionId\\\" [label]=\\\"'order.transaction-id' | translate\\\">\\r\\n    {{ refund.transactionId }}\\r\\n</vdr-labeled-data>\\r\\n<vdr-labeled-data [label]=\\\"'order.payment-metadata' | translate\\\">\\r\\n    <vdr-object-tree [value]=\\\"refund.metadata\\\"></vdr-object-tree>\\r\\n</vdr-labeled-data>\\r\\n\" }]\n        }], propDecorators: { refund: [{\n                type: Input\n            }], currencyCode: [{\n                type: Input\n            }] } });\n\nconst GET_CUSTOMER_ADDRESSES = gql `\r\n    query GetCustomerAddresses($customerId: ID!) {\r\n        customer(id: $customerId) {\r\n            id\r\n            addresses {\r\n                ...Address\r\n            }\r\n        }\r\n    }\r\n    ${ADDRESS_FRAGMENT}\r\n`;\n\nconst GET_ORDER_STATE = gql `\r\n    query GetOrderState($id: ID!) {\r\n        order(id: $id) {\r\n            id\r\n            state\r\n        }\r\n    }\r\n`;\nclass OrderGuard {\n    constructor(dataService, router) {\n        this.dataService = dataService;\n        this.router = router;\n    }\n    canActivate(route, state) {\n        const isDraft = state.url.includes('orders/draft');\n        const isModifying = state.url.includes('/modify');\n        const id = route.paramMap.get('id');\n        if (isDraft) {\n            if (id === 'create') {\n                return this.dataService.order\n                    .createDraftOrder()\n                    .pipe(map(({ createDraftOrder }) => this.router.parseUrl(`/orders/draft/${createDraftOrder.id}`)));\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return (this.dataService\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                .query(GET_ORDER_STATE, { id: id })\n                .single$.pipe(map(({ order }) => {\n                if (order?.state === 'Modifying' && !isModifying) {\n                    return this.router.parseUrl(`/orders/${id}/modify`);\n                }\n                else {\n                    return true;\n                }\n            })));\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderGuard, deps: [{ token: i1.DataService }, { token: i1$1.Router }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderGuard, providedIn: 'root' }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderGuard, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], ctorParameters: () => [{ type: i1.DataService }, { type: i1$1.Router }] });\n\nconst createRoutes = (pageService) => [\n    {\n        path: '',\n        component: PageComponent,\n        pathMatch: 'full',\n        data: {\n            locationId: 'order-list',\n            breadcrumb: marker('breadcrumb.orders'),\n        },\n        children: pageService.getPageTabRoutes('order-list'),\n    },\n    {\n        path: 'draft/:id',\n        component: PageComponent,\n        canActivate: [OrderGuard],\n        data: {\n            locationId: 'draft-order-detail',\n            breadcrumb: { label: marker('breadcrumb.orders'), link: ['../'] },\n        },\n        children: pageService.getPageTabRoutes('draft-order-detail'),\n    },\n    {\n        path: ':id',\n        component: PageComponent,\n        canActivate: [OrderGuard],\n        data: {\n            locationId: 'order-detail',\n            breadcrumb: { label: marker('breadcrumb.orders'), link: ['../'] },\n        },\n        children: pageService.getPageTabRoutes('order-detail'),\n    },\n    {\n        path: ':aggregateOrderId/seller-orders/:id',\n        component: PageComponent,\n        canActivate: [OrderGuard],\n        data: {\n            locationId: 'order-detail',\n            breadcrumb: { label: marker('breadcrumb.orders'), link: ['../'] },\n        },\n        children: pageService.getPageTabRoutes('order-detail'),\n    },\n    {\n        path: ':id/modify',\n        component: PageComponent,\n        canActivate: [OrderGuard],\n        data: {\n            locationId: 'modify-order',\n            breadcrumb: { label: marker('breadcrumb.orders'), link: ['../'] },\n        },\n        children: pageService.getPageTabRoutes('modify-order'),\n    },\n];\n\nclass OrderModule {\n    static { this.hasRegisteredTabsAndBulkActions = false; }\n    constructor(pageService) {\n        if (OrderModule.hasRegisteredTabsAndBulkActions) {\n            return;\n        }\n        pageService.registerPageTab({\n            priority: 0,\n            location: 'order-list',\n            tab: marker('order.orders'),\n            route: '',\n            component: OrderListComponent,\n        });\n        pageService.registerPageTab({\n            priority: 0,\n            location: 'order-detail',\n            tab: marker('order.order'),\n            route: '',\n            component: detailComponentWithResolver({\n                component: OrderDetailComponent,\n                query: OrderDetailQueryDocument,\n                entityKey: 'order',\n                getBreadcrumbs: entity => entity?.type !== OrderType.Seller || !entity?.aggregateOrder\n                    ? [\n                        {\n                            label: `${entity?.code}`,\n                            link: [entity?.id],\n                        },\n                    ]\n                    : [\n                        {\n                            label: `${entity?.aggregateOrder?.code}`,\n                            link: ['/orders/', entity?.aggregateOrder?.id],\n                        },\n                        {\n                            label: marker('breadcrumb.seller-orders'),\n                            link: ['/orders/', entity?.aggregateOrder?.id],\n                        },\n                        {\n                            label: `${entity?.code}`,\n                            link: [entity?.id],\n                        },\n                    ],\n            }),\n        });\n        pageService.registerPageTab({\n            priority: 0,\n            location: 'draft-order-detail',\n            tab: marker('order.order'),\n            route: '',\n            component: detailComponentWithResolver({\n                component: DraftOrderDetailComponent,\n                query: OrderDetailQueryDocument,\n                entityKey: 'order',\n                getBreadcrumbs: entity => [\n                    {\n                        label: marker('order.draft-order'),\n                        link: [entity?.id],\n                    },\n                ],\n            }),\n        });\n        pageService.registerPageTab({\n            priority: 0,\n            location: 'modify-order',\n            tab: marker('order.order'),\n            route: '',\n            component: detailComponentWithResolver({\n                component: OrderEditorComponent,\n                query: OrderDetailQueryDocument,\n                entityKey: 'order',\n                getBreadcrumbs: entity => [\n                    {\n                        label: entity?.code || 'order',\n                        link: ['/orders/', entity?.id],\n                    },\n                    {\n                        label: marker('breadcrumb.modifying-order'),\n                        link: [entity?.id],\n                    },\n                ],\n            }),\n        });\n        OrderModule.hasRegisteredTabsAndBulkActions = true;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderModule, deps: [{ token: i1.PageService }], target: i0.ɵɵFactoryTarget.NgModule }); }\n    static { this.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderModule, declarations: [OrderListComponent,\n            OrderDetailComponent,\n            FulfillOrderDialogComponent,\n            LineFulfillmentComponent,\n            RefundOrderDialogComponent,\n            CancelOrderDialogComponent,\n            PaymentStateLabelComponent,\n            LineRefundsComponent,\n            OrderPaymentCardComponent,\n            RefundStateLabelComponent,\n            SettleRefundDialogComponent,\n            OrderHistoryComponent,\n            FulfillmentDetailComponent,\n            PaymentDetailComponent,\n            SimpleItemListComponent,\n            OrderCustomFieldsCardComponent,\n            OrderProcessGraphComponent,\n            OrderProcessNodeComponent,\n            OrderProcessEdgeComponent,\n            OrderProcessGraphDialogComponent,\n            FulfillmentStateLabelComponent,\n            FulfillmentCardComponent,\n            OrderEditorComponent,\n            OrderTableComponent,\n            OrderEditsPreviewDialogComponent,\n            ModificationDetailComponent,\n            AddManualPaymentDialogComponent,\n            OrderStateSelectDialogComponent,\n            DraftOrderDetailComponent,\n            DraftOrderVariantSelectorComponent,\n            SelectCustomerDialogComponent,\n            SelectAddressDialogComponent,\n            CouponCodeSelectorComponent,\n            SelectShippingMethodDialogComponent,\n            OrderHistoryEntryHostComponent,\n            SellerOrdersCardComponent,\n            OrderDataTableComponent,\n            OrderTotalColumnComponent,\n            PaymentForRefundSelectorComponent,\n            OrderModificationSummaryComponent,\n            RefundDetailComponent], imports: [SharedModule, i1$1.RouterModule], exports: [OrderCustomFieldsCardComponent] }); }\n    static { this.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderModule, providers: [\n            {\n                provide: ROUTES,\n                useFactory: (pageService) => createRoutes(pageService),\n                multi: true,\n                deps: [PageService],\n            },\n        ], imports: [SharedModule, RouterModule.forChild([])] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"17.2.4\", ngImport: i0, type: OrderModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [SharedModule, RouterModule.forChild([])],\n                    providers: [\n                        {\n                            provide: ROUTES,\n                            useFactory: (pageService) => createRoutes(pageService),\n                            multi: true,\n                            deps: [PageService],\n                        },\n                    ],\n                    declarations: [\n                        OrderListComponent,\n                        OrderDetailComponent,\n                        FulfillOrderDialogComponent,\n                        LineFulfillmentComponent,\n                        RefundOrderDialogComponent,\n                        CancelOrderDialogComponent,\n                        PaymentStateLabelComponent,\n                        LineRefundsComponent,\n                        OrderPaymentCardComponent,\n                        RefundStateLabelComponent,\n                        SettleRefundDialogComponent,\n                        OrderHistoryComponent,\n                        FulfillmentDetailComponent,\n                        PaymentDetailComponent,\n                        SimpleItemListComponent,\n                        OrderCustomFieldsCardComponent,\n                        OrderProcessGraphComponent,\n                        OrderProcessNodeComponent,\n                        OrderProcessEdgeComponent,\n                        OrderProcessGraphDialogComponent,\n                        FulfillmentStateLabelComponent,\n                        FulfillmentCardComponent,\n                        OrderEditorComponent,\n                        OrderTableComponent,\n                        OrderEditsPreviewDialogComponent,\n                        ModificationDetailComponent,\n                        AddManualPaymentDialogComponent,\n                        OrderStateSelectDialogComponent,\n                        DraftOrderDetailComponent,\n                        DraftOrderVariantSelectorComponent,\n                        SelectCustomerDialogComponent,\n                        SelectAddressDialogComponent,\n                        CouponCodeSelectorComponent,\n                        SelectShippingMethodDialogComponent,\n                        OrderHistoryEntryHostComponent,\n                        SellerOrdersCardComponent,\n                        OrderDataTableComponent,\n                        OrderTotalColumnComponent,\n                        PaymentForRefundSelectorComponent,\n                        OrderModificationSummaryComponent,\n                        RefundDetailComponent,\n                    ],\n                    exports: [OrderCustomFieldsCardComponent],\n                }]\n        }], ctorParameters: () => [{ type: i1.PageService }] });\n\n// This file was generated by the build-public-api.ts script\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AddManualPaymentDialogComponent, CancelOrderDialogComponent, CouponCodeSelectorComponent, DraftOrderDetailComponent, DraftOrderVariantSelectorComponent, FulfillOrderDialogComponent, FulfillmentCardComponent, FulfillmentDetailComponent, FulfillmentStateLabelComponent, GET_COUPON_CODE_SELECTOR_PROMOTION_LIST, GET_CUSTOMER_ADDRESSES, GET_ORDER_STATE, GET_SELLER_ORDERS, LineFulfillmentComponent, LineRefundsComponent, ModificationDetailComponent, NODE_HEIGHT, ORDER_DETAIL_QUERY, OrderCustomFieldsCardComponent, OrderDataTableComponent, OrderDetailComponent, OrderEditResultType, OrderEditorComponent, OrderEditsPreviewDialogComponent, OrderGuard, OrderHistoryComponent, OrderHistoryEntryHostComponent, OrderListComponent, OrderModificationSummaryComponent, OrderModule, OrderPaymentCardComponent, OrderProcessEdgeComponent, OrderProcessGraphComponent, OrderProcessGraphDialogComponent, OrderProcessNodeComponent, OrderStateSelectDialogComponent, OrderTableComponent, OrderTotalColumnComponent, OrderTransitionService, PaymentDetailComponent, PaymentForRefundSelectorComponent, PaymentStateLabelComponent, RefundDetailComponent, RefundOrderDialogComponent, RefundStateLabelComponent, SET_ORDER_CUSTOMER_MUTATION, SelectAddressDialogComponent, SelectCustomerDialogComponent, SelectShippingMethodDialogComponent, SellerOrdersCardComponent, SettleRefundDialogComponent, SimpleItemListComponent, createRoutes, getRefundablePayments };\n","import { innerFrom } from '../observable/innerFrom';\nimport { Subject } from '../Subject';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function retryWhen(notifier) {\n    return operate((source, subscriber) => {\n        let innerSub;\n        let syncResub = false;\n        let errors$;\n        const subscribeForRetryWhen = () => {\n            innerSub = source.subscribe(createOperatorSubscriber(subscriber, undefined, undefined, (err) => {\n                if (!errors$) {\n                    errors$ = new Subject();\n                    innerFrom(notifier(errors$)).subscribe(createOperatorSubscriber(subscriber, () => innerSub ? subscribeForRetryWhen() : (syncResub = true)));\n                }\n                if (errors$) {\n                    errors$.next(err);\n                }\n            }));\n            if (syncResub) {\n                innerSub.unsubscribe();\n                innerSub = null;\n                syncResub = false;\n                subscribeForRetryWhen();\n            }\n        };\n        subscribeForRetryWhen();\n    });\n}\n"],"x_google_ignoreList":[0,1]}